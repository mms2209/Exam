const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CPK_uy5U.js","assets/useQuery-CYkRs-EO.js","assets/AdminUsers-DyF-4QrS.js","assets/useMutation-DK1AyNRc.js","assets/plus-CpaN39Uy.js","assets/square-pen-DqZcrWNu.js","assets/trash-2-C0_zftzQ.js","assets/AdminRoles-BGrp4jNi.js","assets/AdminPermissions-c8LPbilg.js","assets/ProfilePage-CZDs0l8Z.js","assets/AdminExamPapers-QBywuXLV.js","assets/StudentExamPapers-BEtWyAK8.js","assets/ExamPaperViewer-Bn-BHuHi.js","assets/loader-2-Dr1hJegO.js","assets/send-BWbw9Ys1.js","assets/ModernExamPaperViewer-D2CBIbAJ.js","assets/StudentHome-CB6RMnUp.js"])))=>i.map(i=>d[i]);
var Md=e=>{throw TypeError(e)};var xl=(e,t,r)=>t.has(e)||Md("Cannot "+r);var T=(e,t,r)=>(xl(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>t.has(e)?Md("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,n)=>(xl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qe=(e,t,r)=>(xl(e,t,"access private method"),r);var xa=(e,t,r,n)=>({set _(s){K(e,t,s,r)},get _(){return T(e,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var sp={exports:{}},Uo={},ip={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),Vy=Symbol.for("react.portal"),Ky=Symbol.for("react.fragment"),Qy=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),Jy=Symbol.for("react.provider"),Yy=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Zy=Symbol.for("react.suspense"),ev=Symbol.for("react.memo"),tv=Symbol.for("react.lazy"),Ud=Symbol.iterator;function rv(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},op=Object.assign,lp={};function Ks(e,t,r){this.props=e,this.context=t,this.refs=lp,this.updater=r||ap}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function up(){}up.prototype=Ks.prototype;function yc(e,t,r){this.props=e,this.context=t,this.refs=lp,this.updater=r||ap}var vc=yc.prototype=new up;vc.constructor=yc;op(vc,Ks.prototype);vc.isPureReactComponent=!0;var Fd=Array.isArray,cp=Object.prototype.hasOwnProperty,wc={current:null},dp={key:!0,ref:!0,__self:!0,__source:!0};function hp(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)cp.call(t,n)&&!dp.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:sa,type:e,key:i,ref:a,props:s,_owner:wc.current}}function nv(e,t){return{$$typeof:sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===sa}function sv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zd=/\/+/g;function _l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sv(""+e.key):t.toString(36)}function Va(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sa:case Vy:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+_l(a,0):n,Fd(s)?(r="",e!=null&&(r=e.replace(zd,"$&/")+"/"),Va(s,t,r,"",function(u){return u})):s!=null&&(xc(s)&&(s=nv(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(zd,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Fd(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+_l(i,o);a+=Va(i,t,r,l,s)}else if(l=rv(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+_l(i,o++),a+=Va(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function _a(e,t,r){if(e==null)return e;var n=[],s=0;return Va(e,n,"","",function(i){return t.call(r,i,s++)}),n}function iv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Ka={transition:null},av={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:wc};function fp(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:_a,forEach:function(e,t,r){_a(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _a(e,function(){t++}),t},toArray:function(e){return _a(e,function(t){return t})||[]},only:function(e){if(!xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Ks;Z.Fragment=Ky;Z.Profiler=Gy;Z.PureComponent=yc;Z.StrictMode=Qy;Z.Suspense=Zy;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=av;Z.act=fp;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=op({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=wc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)cp.call(t,l)&&!dp.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:sa,type:e.type,key:s,ref:i,props:n,_owner:a}};Z.createContext=function(e){return e={$$typeof:Yy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jy,_context:e},e.Consumer=e};Z.createElement=hp;Z.createFactory=function(e){var t=hp.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Xy,render:e}};Z.isValidElement=xc;Z.lazy=function(e){return{$$typeof:tv,_payload:{_status:-1,_result:e},_init:iv}};Z.memo=function(e,t){return{$$typeof:ev,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ka.transition;Ka.transition={};try{e()}finally{Ka.transition=t}};Z.unstable_act=fp;Z.useCallback=function(e,t){return ct.current.useCallback(e,t)};Z.useContext=function(e){return ct.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};Z.useEffect=function(e,t){return ct.current.useEffect(e,t)};Z.useId=function(){return ct.current.useId()};Z.useImperativeHandle=function(e,t,r){return ct.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return ct.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return ct.current.useReducer(e,t,r)};Z.useRef=function(e){return ct.current.useRef(e)};Z.useState=function(e){return ct.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return ct.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return ct.current.useTransition()};Z.version="18.3.1";ip.exports=Z;var _=ip.exports;const Pt=qy(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=_,lv=Symbol.for("react.element"),uv=Symbol.for("react.fragment"),cv=Object.prototype.hasOwnProperty,dv=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hv={key:!0,ref:!0,__self:!0,__source:!0};function pp(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)cv.call(t,n)&&!hv.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:lv,type:e,key:i,ref:a,props:s,_owner:dv.current}}Uo.Fragment=uv;Uo.jsx=pp;Uo.jsxs=pp;sp.exports=Uo;var c=sp.exports,mp={exports:{}},Ct={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,U){var q=A.length;A.push(U);e:for(;0<q;){var ee=q-1>>>1,ie=A[ee];if(0<s(ie,U))A[ee]=U,A[q]=ie,q=ee;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var U=A[0],q=A.pop();if(q!==U){A[0]=q;e:for(var ee=0,ie=A.length,Pe=ie>>>1;ee<Pe;){var Ye=2*(ee+1)-1,Nr=A[Ye],Xe=Ye+1,Gn=A[Xe];if(0>s(Nr,q))Xe<ie&&0>s(Gn,Nr)?(A[ee]=Gn,A[Xe]=q,ee=Xe):(A[ee]=Nr,A[Ye]=q,ee=Ye);else if(Xe<ie&&0>s(Gn,q))A[ee]=Gn,A[Xe]=q,ee=Xe;else break e}}return U}function s(A,U){var q=A.sortIndex-U.sortIndex;return q!==0?q:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,w=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=A)n(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(u)}}function v(A){if(S=!1,m(A),!x)if(r(l)!==null)x=!0,se(k);else{var U=r(u);U!==null&&Ne(v,U.startTime-A)}}function k(A,U){x=!1,S&&(S=!1,p(N),N=-1),w=!0;var q=f;try{for(m(U),h=r(l);h!==null&&(!(h.expirationTime>U)||A&&!oe());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var ie=ee(h.expirationTime<=U);U=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(l)&&n(l),m(U)}else n(l);h=r(l)}if(h!==null)var Pe=!0;else{var Ye=r(u);Ye!==null&&Ne(v,Ye.startTime-U),Pe=!1}return Pe}finally{h=null,f=q,w=!1}}var g=!1,P=null,N=-1,L=5,I=-1;function oe(){return!(e.unstable_now()-I<L)}function _t(){if(P!==null){var A=e.unstable_now();I=A;var U=!0;try{U=P(!0,A)}finally{U?ht():(g=!1,P=null)}}else g=!1}var ht;if(typeof y=="function")ht=function(){y(_t)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Se=ne.port2;ne.port1.onmessage=_t,ht=function(){Se.postMessage(null)}}else ht=function(){E(_t,0)};function se(A){P=A,g||(g=!0,ht())}function Ne(A,U){N=E(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||w||(x=!0,se(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return A()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=f;f=A;try{return U()}finally{f=q}},e.unstable_scheduleCallback=function(A,U,q){var ee=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,A){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=q+ie,A={id:d++,callback:U,priorityLevel:A,startTime:q,expirationTime:ie,sortIndex:-1},q>ee?(A.sortIndex=q,t(u,A),r(l)===null&&A===r(u)&&(S?(p(N),N=-1):S=!0,Ne(v,q-ee))):(A.sortIndex=ie,t(l,A),x||w||(x=!0,se(k))),A},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(A){var U=f;return function(){var q=f;f=U;try{return A.apply(this,arguments)}finally{f=q}}}})(yp);gp.exports=yp;var fv=gp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=_,jt=fv;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vp=new Set,Li={};function Wn(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(Li[e]=t,e=0;e<t.length;e++)vp.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=Object.prototype.hasOwnProperty,mv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bd={},Hd={};function gv(e){return au.call(Hd,e)?!0:au.call(Bd,e)?!1:mv.test(e)?Hd[e]=!0:(Bd[e]=!0,!1)}function yv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vv(e,t,r,n){if(t===null||typeof t>"u"||yv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _c=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_c,Sc);Fe[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_c,Sc);Fe[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_c,Sc);Fe[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bc(e,t,r,n){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vv(t,r,s,n)&&(r=null),n||s===null?gv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pr=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),os=Symbol.for("react.portal"),ls=Symbol.for("react.fragment"),kc=Symbol.for("react.strict_mode"),ou=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),Ec=Symbol.for("react.forward_ref"),lu=Symbol.for("react.suspense"),uu=Symbol.for("react.suspense_list"),jc=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),_p=Symbol.for("react.offscreen"),qd=Symbol.iterator;function ni(e){return e===null||typeof e!="object"?null:(e=qd&&e[qd]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Sl;function mi(e){if(Sl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sl=t&&t[1]||""}return`
`+Sl+e}var bl=!1;function kl(e,t){if(!e||bl)return"";bl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{bl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?mi(e):""}function wv(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function cu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ls:return"Fragment";case os:return"Portal";case ou:return"Profiler";case kc:return"StrictMode";case lu:return"Suspense";case uu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xp:return(e.displayName||"Context")+".Consumer";case wp:return(e._context.displayName||"Context")+".Provider";case Ec:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jc:return t=e.displayName||null,t!==null?t:cu(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return cu(e(t))}catch{}}return null}function xv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cu(t);case 8:return t===kc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _v(e){var t=Sp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ba(e){e._valueTracker||(e._valueTracker=_v(e))}function bp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Sp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function du(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ln(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kp(e,t){t=t.checked,t!=null&&bc(e,"checked",t,!1)}function hu(e,t){kp(e,t);var r=ln(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fu(e,t.type,r):t.hasOwnProperty("defaultValue")&&fu(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fu(e,t,r){(t!=="number"||lo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gi=Array.isArray;function ws(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ln(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function pu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(gi(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ln(r)}}function Ep(e,t){var r=ln(t.value),n=ln(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ka,Pp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ka.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ai(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sv=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(e){Sv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_i[t]=_i[e]})});function Cp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_i.hasOwnProperty(e)&&_i[e]?(""+t).trim():t+"px"}function Np(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Cp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var bv=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gu(e,t){if(t){if(bv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function yu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=null;function Pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wu=null,xs=null,_s=null;function Gd(e){if(e=oa(e)){if(typeof wu!="function")throw Error(O(280));var t=e.stateNode;t&&(t=qo(t),wu(e.stateNode,e.type,t))}}function Tp(e){xs?_s?_s.push(e):_s=[e]:xs=e}function Rp(){if(xs){var e=xs,t=_s;if(_s=xs=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function Op(e,t){return e(t)}function Lp(){}var El=!1;function Ap(e,t,r){if(El)return e(t,r);El=!0;try{return Op(e,t,r)}finally{El=!1,(xs!==null||_s!==null)&&(Lp(),Rp())}}function Di(e,t){var r=e.stateNode;if(r===null)return null;var n=qo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var xu=!1;if(br)try{var si={};Object.defineProperty(si,"passive",{get:function(){xu=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{xu=!1}function kv(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Si=!1,uo=null,co=!1,_u=null,Ev={onError:function(e){Si=!0,uo=e}};function jv(e,t,r,n,s,i,a,o,l){Si=!1,uo=null,kv.apply(Ev,arguments)}function Pv(e,t,r,n,s,i,a,o,l){if(jv.apply(this,arguments),Si){if(Si){var u=uo;Si=!1,uo=null}else throw Error(O(198));co||(co=!0,_u=u)}}function Vn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jd(e){if(Vn(e)!==e)throw Error(O(188))}function Cv(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Jd(s),e;if(i===n)return Jd(s),t;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Ip(e){return e=Cv(e),e!==null?$p(e):null}function $p(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$p(e);if(t!==null)return t;e=e.sibling}return null}var Mp=jt.unstable_scheduleCallback,Yd=jt.unstable_cancelCallback,Nv=jt.unstable_shouldYield,Tv=jt.unstable_requestPaint,Ee=jt.unstable_now,Rv=jt.unstable_getCurrentPriorityLevel,Cc=jt.unstable_ImmediatePriority,Up=jt.unstable_UserBlockingPriority,ho=jt.unstable_NormalPriority,Ov=jt.unstable_LowPriority,Fp=jt.unstable_IdlePriority,Fo=null,ur=null;function Lv(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Fo,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Iv,Av=Math.log,Dv=Math.LN2;function Iv(e){return e>>>=0,e===0?32:31-(Av(e)/Dv|0)|0}var Ea=64,ja=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=yi(o):(i&=a,i!==0&&(n=yi(i)))}else a=r&~s,a!==0?n=yi(a):i!==0&&(n=yi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Jt(t),s=1<<r,n|=e[r],t&=~s;return n}function $v(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Jt(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=$v(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Su(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zp(){var e=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),e}function jl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ia(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=r}function Uv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Jt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Nc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Jt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var le=0;function Bp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hp,Tc,qp,Wp,Vp,bu=!1,Pa=[],Xr=null,Zr=null,en=null,Ii=new Map,$i=new Map,Fr=[],Fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function ii(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=oa(t),t!==null&&Tc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zv(e,t,r,n,s){switch(t){case"focusin":return Xr=ii(Xr,e,t,r,n,s),!0;case"dragenter":return Zr=ii(Zr,e,t,r,n,s),!0;case"mouseover":return en=ii(en,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ii.set(i,ii(Ii.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,$i.set(i,ii($i.get(i)||null,e,t,r,n,s)),!0}return!1}function Kp(e){var t=Cn(e.target);if(t!==null){var r=Vn(t);if(r!==null){if(t=r.tag,t===13){if(t=Dp(r),t!==null){e.blockedOn=t,Vp(e.priority,function(){qp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ku(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vu=n,r.target.dispatchEvent(n),vu=null}else return t=oa(r),t!==null&&Tc(t),e.blockedOn=r,!1;t.shift()}return!0}function Zd(e,t,r){Qa(e)&&r.delete(t)}function Bv(){bu=!1,Xr!==null&&Qa(Xr)&&(Xr=null),Zr!==null&&Qa(Zr)&&(Zr=null),en!==null&&Qa(en)&&(en=null),Ii.forEach(Zd),$i.forEach(Zd)}function ai(e,t){e.blockedOn===t&&(e.blockedOn=null,bu||(bu=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Bv)))}function Mi(e){function t(s){return ai(s,e)}if(0<Pa.length){ai(Pa[0],e);for(var r=1;r<Pa.length;r++){var n=Pa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xr!==null&&ai(Xr,e),Zr!==null&&ai(Zr,e),en!==null&&ai(en,e),Ii.forEach(t),$i.forEach(t),r=0;r<Fr.length;r++)n=Fr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fr.length&&(r=Fr[0],r.blockedOn===null);)Kp(r),r.blockedOn===null&&Fr.shift()}var Ss=Pr.ReactCurrentBatchConfig,po=!0;function Hv(e,t,r,n){var s=le,i=Ss.transition;Ss.transition=null;try{le=1,Rc(e,t,r,n)}finally{le=s,Ss.transition=i}}function qv(e,t,r,n){var s=le,i=Ss.transition;Ss.transition=null;try{le=4,Rc(e,t,r,n)}finally{le=s,Ss.transition=i}}function Rc(e,t,r,n){if(po){var s=ku(e,t,r,n);if(s===null)Il(e,t,n,mo,r),Xd(e,n);else if(zv(s,e,t,r,n))n.stopPropagation();else if(Xd(e,n),t&4&&-1<Fv.indexOf(e)){for(;s!==null;){var i=oa(s);if(i!==null&&Hp(i),i=ku(e,t,r,n),i===null&&Il(e,t,n,mo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Il(e,t,n,null,r)}}var mo=null;function ku(e,t,r,n){if(mo=null,e=Pc(n),e=Cn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Dp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mo=e,null}function Qp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rv()){case Cc:return 1;case Up:return 4;case ho:case Ov:return 16;case Fp:return 536870912;default:return 16}default:return 16}}var Jr=null,Oc=null,Ga=null;function Gp(){if(Ga)return Ga;var e,t=Oc,r=t.length,n,s="value"in Jr?Jr.value:Jr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ga=s.slice(e,1<n?1-n:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ca(){return!0}function eh(){return!1}function Nt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ca:eh,this.isPropagationStopped=eh,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=Nt(Qs),aa=_e({},Qs,{view:0,detail:0}),Wv=Nt(aa),Pl,Cl,oi,zo=_e({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(Pl=e.screenX-oi.screenX,Cl=e.screenY-oi.screenY):Cl=Pl=0,oi=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),th=Nt(zo),Vv=_e({},zo,{dataTransfer:0}),Kv=Nt(Vv),Qv=_e({},aa,{relatedTarget:0}),Nl=Nt(Qv),Gv=_e({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Jv=Nt(Gv),Yv=_e({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xv=Nt(Yv),Zv=_e({},Qs,{data:0}),rh=Nt(Zv),e0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r0[e])?!!t[e]:!1}function Ac(){return n0}var s0=_e({},aa,{key:function(e){if(e.key){var t=e0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i0=Nt(s0),a0=_e({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=Nt(a0),o0=_e({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),l0=Nt(o0),u0=_e({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),c0=Nt(u0),d0=_e({},zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h0=Nt(d0),f0=[9,13,27,32],Dc=br&&"CompositionEvent"in window,bi=null;br&&"documentMode"in document&&(bi=document.documentMode);var p0=br&&"TextEvent"in window&&!bi,Jp=br&&(!Dc||bi&&8<bi&&11>=bi),sh=" ",ih=!1;function Yp(e,t){switch(e){case"keyup":return f0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function m0(e,t){switch(e){case"compositionend":return Xp(t);case"keypress":return t.which!==32?null:(ih=!0,sh);case"textInput":return e=t.data,e===sh&&ih?null:e;default:return null}}function g0(e,t){if(us)return e==="compositionend"||!Dc&&Yp(e,t)?(e=Gp(),Ga=Oc=Jr=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jp&&t.locale!=="ko"?null:t.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y0[e.type]:t==="textarea"}function Zp(e,t,r,n){Tp(n),t=go(t,"onChange"),0<t.length&&(r=new Lc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ki=null,Ui=null;function v0(e){cm(e,0)}function Bo(e){var t=hs(e);if(bp(t))return e}function w0(e,t){if(e==="change")return t}var em=!1;if(br){var Tl;if(br){var Rl="oninput"in document;if(!Rl){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),Rl=typeof oh.oninput=="function"}Tl=Rl}else Tl=!1;em=Tl&&(!document.documentMode||9<document.documentMode)}function lh(){ki&&(ki.detachEvent("onpropertychange",tm),Ui=ki=null)}function tm(e){if(e.propertyName==="value"&&Bo(Ui)){var t=[];Zp(t,Ui,e,Pc(e)),Ap(v0,t)}}function x0(e,t,r){e==="focusin"?(lh(),ki=t,Ui=r,ki.attachEvent("onpropertychange",tm)):e==="focusout"&&lh()}function _0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bo(Ui)}function S0(e,t){if(e==="click")return Bo(t)}function b0(e,t){if(e==="input"||e==="change")return Bo(t)}function k0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:k0;function Fi(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!au.call(t,s)||!Xt(e[s],t[s]))return!1}return!0}function uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ch(e,t){var r=uh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uh(r)}}function rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nm(){for(var e=window,t=lo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lo(e.document)}return t}function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E0(e){var t=nm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rm(r.ownerDocument.documentElement,r)){if(n!==null&&Ic(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ch(r,i);var a=ch(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var j0=br&&"documentMode"in document&&11>=document.documentMode,cs=null,Eu=null,Ei=null,ju=!1;function dh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||cs==null||cs!==lo(n)||(n=cs,"selectionStart"in n&&Ic(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ei&&Fi(Ei,n)||(Ei=n,n=go(Eu,"onSelect"),0<n.length&&(t=new Lc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cs)))}function Na(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ds={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},Ol={},sm={};br&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Ho(e){if(Ol[e])return Ol[e];if(!ds[e])return e;var t=ds[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sm)return Ol[e]=t[r];return e}var im=Ho("animationend"),am=Ho("animationiteration"),om=Ho("animationstart"),lm=Ho("transitionend"),um=new Map,hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){um.set(e,t),Wn(t,[e])}for(var Ll=0;Ll<hh.length;Ll++){var Al=hh[Ll],P0=Al.toLowerCase(),C0=Al[0].toUpperCase()+Al.slice(1);dn(P0,"on"+C0)}dn(im,"onAnimationEnd");dn(am,"onAnimationIteration");dn(om,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(lm,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function fh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Pv(n,t,void 0,e),e.currentTarget=null}function cm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;fh(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;fh(s,o,u),i=l}}}if(co)throw e=_u,co=!1,_u=null,e}function pe(e,t){var r=t[Ru];r===void 0&&(r=t[Ru]=new Set);var n=e+"__bubble";r.has(n)||(dm(t,e,2,!1),r.add(n))}function Dl(e,t,r){var n=0;t&&(n|=4),dm(r,e,n,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Ta]){e[Ta]=!0,vp.forEach(function(r){r!=="selectionchange"&&(N0.has(r)||Dl(r,!1,e),Dl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,Dl("selectionchange",!1,t))}}function dm(e,t,r,n){switch(Qp(t)){case 1:var s=Hv;break;case 4:s=qv;break;default:s=Rc}r=s.bind(null,t,r,e),s=void 0,!xu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Il(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Cn(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Ap(function(){var u=i,d=Pc(r),h=[];e:{var f=um.get(e);if(f!==void 0){var w=Lc,x=e;switch(e){case"keypress":if(Ja(r)===0)break e;case"keydown":case"keyup":w=i0;break;case"focusin":x="focus",w=Nl;break;case"focusout":x="blur",w=Nl;break;case"beforeblur":case"afterblur":w=Nl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=l0;break;case im:case am:case om:w=Jv;break;case lm:w=c0;break;case"scroll":w=Wv;break;case"wheel":w=h0;break;case"copy":case"cut":case"paste":w=Xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=nh}var S=(t&4)!==0,E=!S&&e==="scroll",p=S?f!==null?f+"Capture":null:f;S=[];for(var y=u,m;y!==null;){m=y;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,p!==null&&(v=Di(y,p),v!=null&&S.push(Bi(y,v,m)))),E)break;y=y.return}0<S.length&&(f=new w(f,x,null,r,d),h.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",f&&r!==vu&&(x=r.relatedTarget||r.fromElement)&&(Cn(x)||x[kr]))break e;if((w||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,w?(x=r.relatedTarget||r.toElement,w=u,x=x?Cn(x):null,x!==null&&(E=Vn(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=u),w!==x)){if(S=th,v="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(S=nh,v="onPointerLeave",p="onPointerEnter",y="pointer"),E=w==null?f:hs(w),m=x==null?f:hs(x),f=new S(v,y+"leave",w,r,d),f.target=E,f.relatedTarget=m,v=null,Cn(d)===u&&(S=new S(p,y+"enter",x,r,d),S.target=m,S.relatedTarget=E,v=S),E=v,w&&x)t:{for(S=w,p=x,y=0,m=S;m;m=Yn(m))y++;for(m=0,v=p;v;v=Yn(v))m++;for(;0<y-m;)S=Yn(S),y--;for(;0<m-y;)p=Yn(p),m--;for(;y--;){if(S===p||p!==null&&S===p.alternate)break t;S=Yn(S),p=Yn(p)}S=null}else S=null;w!==null&&ph(h,f,w,S,!1),x!==null&&E!==null&&ph(h,E,x,S,!0)}}e:{if(f=u?hs(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var k=w0;else if(ah(f))if(em)k=b0;else{k=_0;var g=x0}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=S0);if(k&&(k=k(e,u))){Zp(h,k,r,d);break e}g&&g(e,f,u),e==="focusout"&&(g=f._wrapperState)&&g.controlled&&f.type==="number"&&fu(f,"number",f.value)}switch(g=u?hs(u):window,e){case"focusin":(ah(g)||g.contentEditable==="true")&&(cs=g,Eu=u,Ei=null);break;case"focusout":Ei=Eu=cs=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,dh(h,r,d);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":dh(h,r,d)}var P;if(Dc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else us?Yp(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Jp&&r.locale!=="ko"&&(us||N!=="onCompositionStart"?N==="onCompositionEnd"&&us&&(P=Gp()):(Jr=d,Oc="value"in Jr?Jr.value:Jr.textContent,us=!0)),g=go(u,N),0<g.length&&(N=new rh(N,e,null,r,d),h.push({event:N,listeners:g}),P?N.data=P:(P=Xp(r),P!==null&&(N.data=P)))),(P=p0?m0(e,r):g0(e,r))&&(u=go(u,"onBeforeInput"),0<u.length&&(d=new rh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=P))}cm(h,t)})}function Bi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function go(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Di(e,r),i!=null&&n.unshift(Bi(e,i,s)),i=Di(e,t),i!=null&&n.push(Bi(e,i,s))),e=e.return}return n}function Yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ph(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=Di(r,i),l!=null&&a.unshift(Bi(r,l,o))):s||(l=Di(r,i),l!=null&&a.push(Bi(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var T0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function mh(e){return(typeof e=="string"?e:""+e).replace(T0,`
`).replace(R0,"")}function Ra(e,t,r){if(t=mh(t),mh(e)!==t&&r)throw Error(O(425))}function yo(){}var Pu=null,Cu=null;function Nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,O0=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(e){return gh.resolve(null).then(e).catch(A0)}:Tu;function A0(e){setTimeout(function(){throw e})}function $l(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Mi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mi(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),lr="__reactFiber$"+Gs,Hi="__reactProps$"+Gs,kr="__reactContainer$"+Gs,Ru="__reactEvents$"+Gs,D0="__reactListeners$"+Gs,I0="__reactHandles$"+Gs;function Cn(e){var t=e[lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kr]||r[lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yh(e);e!==null;){if(r=e[lr])return r;e=yh(e)}return t}e=r,r=e.parentNode}return null}function oa(e){return e=e[lr]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function qo(e){return e[Hi]||null}var Ou=[],fs=-1;function hn(e){return{current:e}}function me(e){0>fs||(e.current=Ou[fs],Ou[fs]=null,fs--)}function ce(e,t){fs++,Ou[fs]=e.current,e.current=t}var un={},Ge=hn(un),vt=hn(!1),Un=un;function Is(e,t){var r=e.type.contextTypes;if(!r)return un;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wt(e){return e=e.childContextTypes,e!=null}function vo(){me(vt),me(Ge)}function vh(e,t,r){if(Ge.current!==un)throw Error(O(168));ce(Ge,t),ce(vt,r)}function hm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,xv(e)||"Unknown",s));return _e({},r,n)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,Un=Ge.current,ce(Ge,e),ce(vt,vt.current),!0}function wh(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=hm(e,t,Un),n.__reactInternalMemoizedMergedChildContext=e,me(vt),me(Ge),ce(Ge,e)):me(vt),ce(vt,r)}var yr=null,Wo=!1,Ml=!1;function fm(e){yr===null?yr=[e]:yr.push(e)}function $0(e){Wo=!0,fm(e)}function fn(){if(!Ml&&yr!==null){Ml=!0;var e=0,t=le;try{var r=yr;for(le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yr=null,Wo=!1}catch(s){throw yr!==null&&(yr=yr.slice(e+1)),Mp(Cc,fn),s}finally{le=t,Ml=!1}}return null}var ps=[],ms=0,xo=null,_o=0,Ot=[],Lt=0,Fn=null,wr=1,xr="";function bn(e,t){ps[ms++]=_o,ps[ms++]=xo,xo=e,_o=t}function pm(e,t,r){Ot[Lt++]=wr,Ot[Lt++]=xr,Ot[Lt++]=Fn,Fn=e;var n=wr;e=xr;var s=32-Jt(n)-1;n&=~(1<<s),r+=1;var i=32-Jt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,wr=1<<32-Jt(t)+s|r<<s|n,xr=i+e}else wr=1<<i|r<<s|n,xr=e}function $c(e){e.return!==null&&(bn(e,1),pm(e,1,0))}function Mc(e){for(;e===xo;)xo=ps[--ms],ps[ms]=null,_o=ps[--ms],ps[ms]=null;for(;e===Fn;)Fn=Ot[--Lt],Ot[Lt]=null,xr=Ot[--Lt],Ot[Lt]=null,wr=Ot[--Lt],Ot[Lt]=null}var Et=null,kt=null,ye=!1,Gt=null;function mm(e,t){var r=At(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,kt=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fn!==null?{id:wr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=At(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Et=e,kt=null,!0):!1;default:return!1}}function Lu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Au(e){if(ye){var t=kt;if(t){var r=t;if(!xh(e,t)){if(Lu(e))throw Error(O(418));t=tn(r.nextSibling);var n=Et;t&&xh(e,t)?mm(n,r):(e.flags=e.flags&-4097|2,ye=!1,Et=e)}}else{if(Lu(e))throw Error(O(418));e.flags=e.flags&-4097|2,ye=!1,Et=e}}}function _h(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Oa(e){if(e!==Et)return!1;if(!ye)return _h(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nu(e.type,e.memoizedProps)),t&&(t=kt)){if(Lu(e))throw gm(),Error(O(418));for(;t;)mm(e,t),t=tn(t.nextSibling)}if(_h(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kt=tn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Et?tn(e.stateNode.nextSibling):null;return!0}function gm(){for(var e=kt;e;)e=tn(e.nextSibling)}function $s(){kt=Et=null,ye=!1}function Uc(e){Gt===null?Gt=[e]:Gt.push(e)}var M0=Pr.ReactCurrentBatchConfig;function li(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sh(e){var t=e._init;return t(e._payload)}function ym(e){function t(p,y){if(e){var m=p.deletions;m===null?(p.deletions=[y],p.flags|=16):m.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=an(p,y),p.index=0,p.sibling=null,p}function i(p,y,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<y?(p.flags|=2,y):m):(p.flags|=2,y)):(p.flags|=1048576,y)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,y,m,v){return y===null||y.tag!==6?(y=Wl(m,p.mode,v),y.return=p,y):(y=s(y,m),y.return=p,y)}function l(p,y,m,v){var k=m.type;return k===ls?d(p,y,m.props.children,v,m.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mr&&Sh(k)===y.type)?(v=s(y,m.props),v.ref=li(p,y,m),v.return=p,v):(v=no(m.type,m.key,m.props,null,p.mode,v),v.ref=li(p,y,m),v.return=p,v)}function u(p,y,m,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Vl(m,p.mode,v),y.return=p,y):(y=s(y,m.children||[]),y.return=p,y)}function d(p,y,m,v,k){return y===null||y.tag!==7?(y=Mn(m,p.mode,v,k),y.return=p,y):(y=s(y,m),y.return=p,y)}function h(p,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wl(""+y,p.mode,m),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sa:return m=no(y.type,y.key,y.props,null,p.mode,m),m.ref=li(p,null,y),m.return=p,m;case os:return y=Vl(y,p.mode,m),y.return=p,y;case Mr:var v=y._init;return h(p,v(y._payload),m)}if(gi(y)||ni(y))return y=Mn(y,p.mode,m,null),y.return=p,y;La(p,y)}return null}function f(p,y,m,v){var k=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:o(p,y,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Sa:return m.key===k?l(p,y,m,v):null;case os:return m.key===k?u(p,y,m,v):null;case Mr:return k=m._init,f(p,y,k(m._payload),v)}if(gi(m)||ni(m))return k!==null?null:d(p,y,m,v,null);La(p,m)}return null}function w(p,y,m,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(m)||null,o(y,p,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sa:return p=p.get(v.key===null?m:v.key)||null,l(y,p,v,k);case os:return p=p.get(v.key===null?m:v.key)||null,u(y,p,v,k);case Mr:var g=v._init;return w(p,y,m,g(v._payload),k)}if(gi(v)||ni(v))return p=p.get(m)||null,d(y,p,v,k,null);La(y,v)}return null}function x(p,y,m,v){for(var k=null,g=null,P=y,N=y=0,L=null;P!==null&&N<m.length;N++){P.index>N?(L=P,P=null):L=P.sibling;var I=f(p,P,m[N],v);if(I===null){P===null&&(P=L);break}e&&P&&I.alternate===null&&t(p,P),y=i(I,y,N),g===null?k=I:g.sibling=I,g=I,P=L}if(N===m.length)return r(p,P),ye&&bn(p,N),k;if(P===null){for(;N<m.length;N++)P=h(p,m[N],v),P!==null&&(y=i(P,y,N),g===null?k=P:g.sibling=P,g=P);return ye&&bn(p,N),k}for(P=n(p,P);N<m.length;N++)L=w(P,p,N,m[N],v),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?N:L.key),y=i(L,y,N),g===null?k=L:g.sibling=L,g=L);return e&&P.forEach(function(oe){return t(p,oe)}),ye&&bn(p,N),k}function S(p,y,m,v){var k=ni(m);if(typeof k!="function")throw Error(O(150));if(m=k.call(m),m==null)throw Error(O(151));for(var g=k=null,P=y,N=y=0,L=null,I=m.next();P!==null&&!I.done;N++,I=m.next()){P.index>N?(L=P,P=null):L=P.sibling;var oe=f(p,P,I.value,v);if(oe===null){P===null&&(P=L);break}e&&P&&oe.alternate===null&&t(p,P),y=i(oe,y,N),g===null?k=oe:g.sibling=oe,g=oe,P=L}if(I.done)return r(p,P),ye&&bn(p,N),k;if(P===null){for(;!I.done;N++,I=m.next())I=h(p,I.value,v),I!==null&&(y=i(I,y,N),g===null?k=I:g.sibling=I,g=I);return ye&&bn(p,N),k}for(P=n(p,P);!I.done;N++,I=m.next())I=w(P,p,N,I.value,v),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?N:I.key),y=i(I,y,N),g===null?k=I:g.sibling=I,g=I);return e&&P.forEach(function(_t){return t(p,_t)}),ye&&bn(p,N),k}function E(p,y,m,v){if(typeof m=="object"&&m!==null&&m.type===ls&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Sa:e:{for(var k=m.key,g=y;g!==null;){if(g.key===k){if(k=m.type,k===ls){if(g.tag===7){r(p,g.sibling),y=s(g,m.props.children),y.return=p,p=y;break e}}else if(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mr&&Sh(k)===g.type){r(p,g.sibling),y=s(g,m.props),y.ref=li(p,g,m),y.return=p,p=y;break e}r(p,g);break}else t(p,g);g=g.sibling}m.type===ls?(y=Mn(m.props.children,p.mode,v,m.key),y.return=p,p=y):(v=no(m.type,m.key,m.props,null,p.mode,v),v.ref=li(p,y,m),v.return=p,p=v)}return a(p);case os:e:{for(g=m.key;y!==null;){if(y.key===g)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){r(p,y.sibling),y=s(y,m.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=Vl(m,p.mode,v),y.return=p,p=y}return a(p);case Mr:return g=m._init,E(p,y,g(m._payload),v)}if(gi(m))return x(p,y,m,v);if(ni(m))return S(p,y,m,v);La(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(r(p,y.sibling),y=s(y,m),y.return=p,p=y):(r(p,y),y=Wl(m,p.mode,v),y.return=p,p=y),a(p)):r(p,y)}return E}var Ms=ym(!0),vm=ym(!1),So=hn(null),bo=null,gs=null,Fc=null;function zc(){Fc=gs=bo=null}function Bc(e){var t=So.current;me(So),e._currentValue=t}function Du(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bs(e,t){bo=e,Fc=gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Fc!==e)if(e={context:e,memoizedValue:t,next:null},gs===null){if(bo===null)throw Error(O(308));gs=e,bo.dependencies={lanes:0,firstContext:e}}else gs=gs.next=e;return t}var Nn=null;function Hc(e){Nn===null?Nn=[e]:Nn.push(e)}function wm(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Hc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Er(e,n)}function Er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ur=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Er(e,r)}return s=n.interleaved,s===null?(t.next=t,Hc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Er(e,r)}function Ya(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nc(e,r)}}function bh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ko(e,t,r,n){var s=e.updateQueue;Ur=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,w=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,S=o;switch(f=t,w=r,S.tag){case 1:if(x=S.payload,typeof x=="function"){h=x.call(w,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,f=typeof x=="function"?x.call(w,h,f):x,f==null)break e;h=_e({},h,f);break e;case 2:Ur=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else w={eventTime:w,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=w,l=h):d=d.next=w,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Bn|=a,e.lanes=a,e.memoizedState=h}}function kh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var la={},cr=hn(la),qi=hn(la),Wi=hn(la);function Tn(e){if(e===la)throw Error(O(174));return e}function Wc(e,t){switch(ce(Wi,t),ce(qi,e),ce(cr,la),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mu(t,e)}me(cr),ce(cr,t)}function Us(){me(cr),me(qi),me(Wi)}function _m(e){Tn(Wi.current);var t=Tn(cr.current),r=mu(t,e.type);t!==r&&(ce(qi,e),ce(cr,r))}function Vc(e){qi.current===e&&(me(cr),me(qi))}var we=hn(0);function Eo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=[];function Kc(){for(var e=0;e<Ul.length;e++)Ul[e]._workInProgressVersionPrimary=null;Ul.length=0}var Xa=Pr.ReactCurrentDispatcher,Fl=Pr.ReactCurrentBatchConfig,zn=0,xe=null,Le=null,Ie=null,jo=!1,ji=!1,Vi=0,U0=0;function We(){throw Error(O(321))}function Qc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xt(e[r],t[r]))return!1;return!0}function Gc(e,t,r,n,s,i){if(zn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=e===null||e.memoizedState===null?H0:q0,e=r(n,s),ji){i=0;do{if(ji=!1,Vi=0,25<=i)throw Error(O(301));i+=1,Ie=Le=null,t.updateQueue=null,Xa.current=W0,e=r(n,s)}while(ji)}if(Xa.current=Po,t=Le!==null&&Le.next!==null,zn=0,Ie=Le=xe=null,jo=!1,t)throw Error(O(300));return e}function Jc(){var e=Vi!==0;return Vi=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?xe.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Mt(){if(Le===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ie===null?xe.memoizedState:Ie.next;if(t!==null)Ie=t,Le=e;else{if(e===null)throw Error(O(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ie===null?xe.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Ki(e,t){return typeof t=="function"?t(e):t}function zl(e){var t=Mt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((zn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,xe.lanes|=d,Bn|=d}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,Xt(n,t.memoizedState)||(yt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,Bn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bl(e){var t=Mt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Xt(i,t.memoizedState)||(yt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Sm(){}function bm(e,t){var r=xe,n=Mt(),s=t(),i=!Xt(n.memoizedState,s);if(i&&(n.memoizedState=s,yt=!0),n=n.queue,Yc(jm.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,Qi(9,Em.bind(null,r,n,s,t),void 0,null),$e===null)throw Error(O(349));zn&30||km(r,t,s)}return s}function km(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Em(e,t,r,n){t.value=r,t.getSnapshot=n,Pm(t)&&Cm(e)}function jm(e,t,r){return r(function(){Pm(t)&&Cm(e)})}function Pm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xt(e,r)}catch{return!0}}function Cm(e){var t=Er(e,1);t!==null&&Yt(t,e,1,-1)}function Eh(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=B0.bind(null,xe,e),[t.memoizedState,e]}function Qi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Nm(){return Mt().memoizedState}function Za(e,t,r,n){var s=nr();xe.flags|=e,s.memoizedState=Qi(1|t,r,void 0,n===void 0?null:n)}function Vo(e,t,r,n){var s=Mt();n=n===void 0?null:n;var i=void 0;if(Le!==null){var a=Le.memoizedState;if(i=a.destroy,n!==null&&Qc(n,a.deps)){s.memoizedState=Qi(t,r,i,n);return}}xe.flags|=e,s.memoizedState=Qi(1|t,r,i,n)}function jh(e,t){return Za(8390656,8,e,t)}function Yc(e,t){return Vo(2048,8,e,t)}function Tm(e,t){return Vo(4,2,e,t)}function Rm(e,t){return Vo(4,4,e,t)}function Om(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lm(e,t,r){return r=r!=null?r.concat([e]):null,Vo(4,4,Om.bind(null,t,e),r)}function Xc(){}function Am(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Dm(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Im(e,t,r){return zn&21?(Xt(r,t)||(r=zp(),xe.lanes|=r,Bn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r)}function F0(e,t){var r=le;le=r!==0&&4>r?r:4,e(!0);var n=Fl.transition;Fl.transition={};try{e(!1),t()}finally{le=r,Fl.transition=n}}function $m(){return Mt().memoizedState}function z0(e,t,r){var n=sn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mm(e))Um(t,r);else if(r=wm(e,t,r,n),r!==null){var s=ut();Yt(r,e,n,s),Fm(r,t,n)}}function B0(e,t,r){var n=sn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mm(e))Um(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Xt(o,a)){var l=t.interleaved;l===null?(s.next=s,Hc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=wm(e,t,s,n),r!==null&&(s=ut(),Yt(r,e,n,s),Fm(r,t,n))}}function Mm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Um(e,t){ji=jo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nc(e,r)}}var Po={readContext:$t,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},H0={readContext:$t,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:jh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Za(4194308,4,Om.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var r=nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=nr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=z0.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:Eh,useDebugValue:Xc,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=Eh(!1),t=e[0];return e=F0.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,s=nr();if(ye){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),$e===null)throw Error(O(349));zn&30||km(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,jh(jm.bind(null,n,i,e),[e]),n.flags|=2048,Qi(9,Em.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=nr(),t=$e.identifierPrefix;if(ye){var r=xr,n=wr;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=U0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q0={readContext:$t,useCallback:Am,useContext:$t,useEffect:Yc,useImperativeHandle:Lm,useInsertionEffect:Tm,useLayoutEffect:Rm,useMemo:Dm,useReducer:zl,useRef:Nm,useState:function(){return zl(Ki)},useDebugValue:Xc,useDeferredValue:function(e){var t=Mt();return Im(t,Le.memoizedState,e)},useTransition:function(){var e=zl(Ki)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Sm,useSyncExternalStore:bm,useId:$m,unstable_isNewReconciler:!1},W0={readContext:$t,useCallback:Am,useContext:$t,useEffect:Yc,useImperativeHandle:Lm,useInsertionEffect:Tm,useLayoutEffect:Rm,useMemo:Dm,useReducer:Bl,useRef:Nm,useState:function(){return Bl(Ki)},useDebugValue:Xc,useDeferredValue:function(e){var t=Mt();return Le===null?t.memoizedState=e:Im(t,Le.memoizedState,e)},useTransition:function(){var e=Bl(Ki)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Sm,useSyncExternalStore:bm,useId:$m,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Iu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ko={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ut(),s=sn(e),i=Sr(n,s);i.payload=t,r!=null&&(i.callback=r),t=rn(e,i,s),t!==null&&(Yt(t,e,s,n),Ya(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ut(),s=sn(e),i=Sr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=rn(e,i,s),t!==null&&(Yt(t,e,s,n),Ya(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ut(),n=sn(e),s=Sr(r,n);s.tag=2,t!=null&&(s.callback=t),t=rn(e,s,n),t!==null&&(Yt(t,e,n,r),Ya(t,e,n))}};function Ph(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Fi(r,n)||!Fi(s,i):!0}function zm(e,t,r){var n=!1,s=un,i=t.contextType;return typeof i=="object"&&i!==null?i=$t(i):(s=wt(t)?Un:Ge.current,n=t.contextTypes,i=(n=n!=null)?Is(e,s):un),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ko,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ch(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ko.enqueueReplaceState(t,t.state,null)}function $u(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},qc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$t(i):(i=wt(t)?Un:Ge.current,s.context=Is(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Iu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ko.enqueueReplaceState(s,s.state,null),ko(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var r="",n=t;do r+=wv(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Hl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Mu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function Bm(e,t,r){r=Sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){No||(No=!0,Qu=n),Mu(e,t)},r}function Hm(e,t,r){r=Sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Mu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Mu(e,t),typeof n!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Nh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new V0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=aw.bind(null,e,t,r),t.then(e,e))}function Th(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sr(-1,1),t.tag=2,rn(r,t,1))),r.lanes|=1),e)}var K0=Pr.ReactCurrentOwner,yt=!1;function st(e,t,r,n){t.child=e===null?vm(t,null,r,n):Ms(t,e.child,r,n)}function Oh(e,t,r,n,s){r=r.render;var i=t.ref;return bs(t,s),n=Gc(e,t,r,n,i,s),r=Jc(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(ye&&r&&$c(t),t.flags|=1,st(e,t,n,s),t.child)}function Lh(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ad(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,qm(e,t,i,n,s)):(e=no(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fi,r(a,n)&&e.ref===t.ref)return jr(e,t,s)}return t.flags|=1,e=an(i,n),e.ref=t.ref,e.return=t,t.child=e}function qm(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Fi(i,n)&&e.ref===t.ref)if(yt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,jr(e,t,s)}return Uu(e,t,r,n,s)}function Wm(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(vs,St),St|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(vs,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ce(vs,St),St|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ce(vs,St),St|=n;return st(e,t,s,r),t.child}function Vm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Uu(e,t,r,n,s){var i=wt(r)?Un:Ge.current;return i=Is(t,i),bs(t,s),r=Gc(e,t,r,n,i,s),n=Jc(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(ye&&n&&$c(t),t.flags|=1,st(e,t,r,s),t.child)}function Ah(e,t,r,n,s){if(wt(r)){var i=!0;wo(t)}else i=!1;if(bs(t,s),t.stateNode===null)eo(e,t),zm(t,r,n),$u(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=wt(r)?Un:Ge.current,u=Is(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Ch(t,a,n,u),Ur=!1;var f=t.memoizedState;a.state=f,ko(t,n,a,s),l=t.memoizedState,o!==n||f!==l||vt.current||Ur?(typeof d=="function"&&(Iu(t,r,d,n),l=t.memoizedState),(o=Ur||Ph(t,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,xm(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ht(t.type,o),a.props=u,h=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=wt(r)?Un:Ge.current,l=Is(t,l));var w=r.getDerivedStateFromProps;(d=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&Ch(t,a,n,l),Ur=!1,f=t.memoizedState,a.state=f,ko(t,n,a,s);var x=t.memoizedState;o!==h||f!==x||vt.current||Ur?(typeof w=="function"&&(Iu(t,r,w,n),x=t.memoizedState),(u=Ur||Ph(t,r,u,n,f,x,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Fu(e,t,r,n,i,s)}function Fu(e,t,r,n,s,i){Vm(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&wh(t,r,!1),jr(e,t,i);n=t.stateNode,K0.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ms(t,e.child,null,i),t.child=Ms(t,null,o,i)):st(e,t,o,i),t.memoizedState=n.state,s&&wh(t,r,!0),t.child}function Km(e){var t=e.stateNode;t.pendingContext?vh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vh(e,t.context,!1),Wc(e,t.containerInfo)}function Dh(e,t,r,n,s){return $s(),Uc(s),t.flags|=256,st(e,t,r,n),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function Bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qm(e,t,r){var n=t.pendingProps,s=we.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(we,s&1),e===null)return Au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Jo(a,n,0,null),e=Mn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bu(r),t.memoizedState=zu,e):Zc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Q0(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=an(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=an(o,i):(i=Mn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Bu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=zu,n}return i=e.child,e=i.sibling,n=an(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zc(e,t){return t=Jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Aa(e,t,r,n){return n!==null&&Uc(n),Ms(t,e.child,null,r),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Hl(Error(O(422))),Aa(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Jo({mode:"visible",children:n.children},s,0,null),i=Mn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ms(t,e.child,null,a),t.child.memoizedState=Bu(a),t.memoizedState=zu,i);if(!(t.mode&1))return Aa(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(O(419)),n=Hl(i,n,void 0),Aa(e,t,a,n)}if(o=(a&e.childLanes)!==0,yt||o){if(n=$e,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Er(e,s),Yt(n,e,s,-1))}return id(),n=Hl(Error(O(421))),Aa(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ow.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,kt=tn(s.nextSibling),Et=t,ye=!0,Gt=null,e!==null&&(Ot[Lt++]=wr,Ot[Lt++]=xr,Ot[Lt++]=Fn,wr=e.id,xr=e.overflow,Fn=t),t=Zc(t,n.children),t.flags|=4096,t)}function Ih(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Du(e.return,t,r)}function ql(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Gm(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(st(e,t,n.children,r),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,r,t);else if(e.tag===19)Ih(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ce(we,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Eo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ql(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Eo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ql(t,!0,r,null,i);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=an(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=an(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function G0(e,t,r){switch(t.tag){case 3:Km(t),$s();break;case 5:_m(t);break;case 1:wt(t.type)&&wo(t);break;case 4:Wc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ce(So,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ce(we,we.current&1),t.flags|=128,null):r&t.child.childLanes?Qm(e,t,r):(ce(we,we.current&1),e=jr(e,t,r),e!==null?e.sibling:null);ce(we,we.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Gm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,Wm(e,t,r)}return jr(e,t,r)}var Jm,Hu,Ym,Xm;Jm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hu=function(){};Ym=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Tn(cr.current);var i=null;switch(r){case"input":s=du(e,s),n=du(e,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=pu(e,s),n=pu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yo)}gu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Li.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Li.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xm=function(e,t,r,n){r!==n&&(t.flags|=4)};function ui(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function J0(e,t,r){var n=t.pendingProps;switch(Mc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return wt(t.type)&&vo(),Ve(t),null;case 3:return n=t.stateNode,Us(),me(vt),me(Ge),Kc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(Yu(Gt),Gt=null))),Hu(e,t),Ve(t),null;case 5:Vc(t);var s=Tn(Wi.current);if(r=t.type,e!==null&&t.stateNode!=null)Ym(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Ve(t),null}if(e=Tn(cr.current),Oa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[lr]=t,n[Hi]=i,e=(t.mode&1)!==0,r){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(s=0;s<vi.length;s++)pe(vi[s],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":Wd(n,i),pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pe("invalid",n);break;case"textarea":Kd(n,i),pe("invalid",n)}gu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ra(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ra(n.textContent,o,e),s=["children",""+o]):Li.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&pe("scroll",n)}switch(r){case"input":ba(n),Vd(n,i,!0);break;case"textarea":ba(n),Qd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=yo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[lr]=t,e[Hi]=n,Jm(e,t,!1,!1),t.stateNode=e;e:{switch(a=yu(r,n),r){case"dialog":pe("cancel",e),pe("close",e),s=n;break;case"iframe":case"object":case"embed":pe("load",e),s=n;break;case"video":case"audio":for(s=0;s<vi.length;s++)pe(vi[s],e);s=n;break;case"source":pe("error",e),s=n;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=n;break;case"details":pe("toggle",e),s=n;break;case"input":Wd(e,n),s=du(e,n),pe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),pe("invalid",e);break;case"textarea":Kd(e,n),s=pu(e,n),pe("invalid",e);break;default:s=n}gu(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Np(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pp(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ai(e,l):typeof l=="number"&&Ai(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Li.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",e):l!=null&&bc(e,i,l,a))}switch(r){case"input":ba(e),Vd(e,n,!1);break;case"textarea":ba(e),Qd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ln(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ws(e,!!n.multiple,i,!1):n.defaultValue!=null&&ws(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)Xm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=Tn(Wi.current),Tn(cr.current),Oa(t)){if(n=t.stateNode,r=t.memoizedProps,n[lr]=t,(i=n.nodeValue!==r)&&(e=Et,e!==null))switch(e.tag){case 3:Ra(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=t,t.stateNode=n}return Ve(t),null;case 13:if(me(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&kt!==null&&t.mode&1&&!(t.flags&128))gm(),$s(),t.flags|=98560,i=!1;else if(i=Oa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[lr]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),i=!1}else Gt!==null&&(Yu(Gt),Gt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Ae===0&&(Ae=3):id())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return Us(),Hu(e,t),e===null&&zi(t.stateNode.containerInfo),Ve(t),null;case 10:return Bc(t.type._context),Ve(t),null;case 17:return wt(t.type)&&vo(),Ve(t),null;case 19:if(me(we),i=t.memoizedState,i===null)return Ve(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ui(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Eo(e),a!==null){for(t.flags|=128,ui(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>zs&&(t.flags|=128,n=!0,ui(i,!1),t.lanes=4194304)}else{if(!n)if(e=Eo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ui(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ye)return Ve(t),null}else 2*Ee()-i.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,ui(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,r=we.current,ce(we,n?r&1|2:r&1),t):(Ve(t),null);case 22:case 23:return sd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?St&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Y0(e,t){switch(Mc(t),t.tag){case 1:return wt(t.type)&&vo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Us(),me(vt),me(Ge),Kc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vc(t),null;case 13:if(me(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(we),null;case 4:return Us(),null;case 10:return Bc(t.type._context),null;case 22:case 23:return sd(),null;case 24:return null;default:return null}}var Da=!1,Qe=!1,X0=typeof WeakSet=="function"?WeakSet:Set,$=null;function ys(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function qu(e,t,r){try{r()}catch(n){ke(e,t,n)}}var $h=!1;function Z0(e,t){if(Pu=po,e=nm(),Ic(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var w;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(w=h.firstChild)!==null;)f=h,h=w;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++d===n&&(l=a),(w=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=w}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cu={focusedElem:e,selectionRange:r},po=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,E=x.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ht(t.type,S),E);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(v){ke(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return x=$h,$h=!1,x}function Pi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&qu(t,r,i)}s=s.next}while(s!==n)}}function Qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zm(e){var t=e.alternate;t!==null&&(e.alternate=null,Zm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[Hi],delete t[Ru],delete t[D0],delete t[I0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eg(e){return e.tag===5||e.tag===3||e.tag===4}function Mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yo));else if(n!==4&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}function Ku(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ku(e,t,r),e=e.sibling;e!==null;)Ku(e,t,r),e=e.sibling}var Me=null,Kt=!1;function Lr(e,t,r){for(r=r.child;r!==null;)tg(e,t,r),r=r.sibling}function tg(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Fo,r)}catch{}switch(r.tag){case 5:Qe||ys(r,t);case 6:var n=Me,s=Kt;Me=null,Lr(e,t,r),Me=n,Kt=s,Me!==null&&(Kt?(e=Me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(Kt?(e=Me,r=r.stateNode,e.nodeType===8?$l(e.parentNode,r):e.nodeType===1&&$l(e,r),Mi(e)):$l(Me,r.stateNode));break;case 4:n=Me,s=Kt,Me=r.stateNode.containerInfo,Kt=!0,Lr(e,t,r),Me=n,Kt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&qu(r,t,a),s=s.next}while(s!==n)}Lr(e,t,r);break;case 1:if(!Qe&&(ys(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ke(r,t,o)}Lr(e,t,r);break;case 21:Lr(e,t,r);break;case 22:r.mode&1?(Qe=(n=Qe)||r.memoizedState!==null,Lr(e,t,r),Qe=n):Lr(e,t,r);break;default:Lr(e,t,r)}}function Uh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new X0),t.forEach(function(n){var s=lw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,Kt=!1;break e;case 3:Me=o.stateNode.containerInfo,Kt=!0;break e;case 4:Me=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if(Me===null)throw Error(O(160));tg(i,a,s),Me=null,Kt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rg(t,e),t=t.sibling}function rg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),rr(e),n&4){try{Pi(3,e,e.return),Qo(3,e)}catch(S){ke(e,e.return,S)}try{Pi(5,e,e.return)}catch(S){ke(e,e.return,S)}}break;case 1:zt(t,e),rr(e),n&512&&r!==null&&ys(r,r.return);break;case 5:if(zt(t,e),rr(e),n&512&&r!==null&&ys(r,r.return),e.flags&32){var s=e.stateNode;try{Ai(s,"")}catch(S){ke(e,e.return,S)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&kp(s,i),yu(o,a);var u=yu(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?Np(s,h):d==="dangerouslySetInnerHTML"?Pp(s,h):d==="children"?Ai(s,h):bc(s,d,h,u)}switch(o){case"input":hu(s,i);break;case"textarea":Ep(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?ws(s,!!i.multiple,w,!1):f!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hi]=i}catch(S){ke(e,e.return,S)}}break;case 6:if(zt(t,e),rr(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){ke(e,e.return,S)}}break;case 3:if(zt(t,e),rr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(S){ke(e,e.return,S)}break;case 4:zt(t,e),rr(e);break;case 13:zt(t,e),rr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rd=Ee())),n&4&&Uh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,zt(t,e),Qe=u):zt(t,e),rr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(h=$=d;$!==null;){switch(f=$,w=f.child,f.tag){case 0:case 11:case 14:case 15:Pi(4,f,f.return);break;case 1:ys(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){ke(n,r,S)}}break;case 5:ys(f,f.return);break;case 22:if(f.memoizedState!==null){zh(h);continue}}w!==null?(w.return=f,$=w):zh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Cp("display",a))}catch(S){ke(e,e.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){ke(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zt(t,e),rr(e),n&4&&Uh(e);break;case 21:break;default:zt(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eg(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ai(s,""),n.flags&=-33);var i=Mh(e);Ku(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Mh(e);Vu(e,o,a);break;default:throw Error(O(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ew(e,t,r){$=e,ng(e)}function ng(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Da;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Qe;o=Da;var u=Qe;if(Da=a,(Qe=l)&&!u)for($=s;$!==null;)a=$,l=a.child,a.tag===22&&a.memoizedState!==null?Bh(s):l!==null?(l.return=a,$=l):Bh(s);for(;i!==null;)$=i,ng(i),i=i.sibling;$=s,Da=o,Qe=u}Fh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Fh(e)}}function Fh(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Qo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ht(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kh(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kh(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Qe||t.flags&512&&Wu(t)}catch(f){ke(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function zh(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Bh(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qo(4,t)}catch(l){ke(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ke(t,s,l)}}var i=t.return;try{Wu(t)}catch(l){ke(t,i,l)}break;case 5:var a=t.return;try{Wu(t)}catch(l){ke(t,a,l)}}}catch(l){ke(t,t.return,l)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var tw=Math.ceil,Co=Pr.ReactCurrentDispatcher,ed=Pr.ReactCurrentOwner,Dt=Pr.ReactCurrentBatchConfig,te=0,$e=null,Ce=null,Ue=0,St=0,vs=hn(0),Ae=0,Gi=null,Bn=0,Go=0,td=0,Ci=null,mt=null,rd=0,zs=1/0,mr=null,No=!1,Qu=null,nn=null,Ia=!1,Yr=null,To=0,Ni=0,Gu=null,to=-1,ro=0;function ut(){return te&6?Ee():to!==-1?to:to=Ee()}function sn(e){return e.mode&1?te&2&&Ue!==0?Ue&-Ue:M0.transition!==null?(ro===0&&(ro=zp()),ro):(e=le,e!==0||(e=window.event,e=e===void 0?16:Qp(e.type)),e):1}function Yt(e,t,r,n){if(50<Ni)throw Ni=0,Gu=null,Error(O(185));ia(e,r,n),(!(te&2)||e!==$e)&&(e===$e&&(!(te&2)&&(Go|=r),Ae===4&&zr(e,Ue)),xt(e,n),r===1&&te===0&&!(t.mode&1)&&(zs=Ee()+500,Wo&&fn()))}function xt(e,t){var r=e.callbackNode;Mv(e,t);var n=fo(e,e===$e?Ue:0);if(n===0)r!==null&&Yd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yd(r),t===1)e.tag===0?$0(Hh.bind(null,e)):fm(Hh.bind(null,e)),L0(function(){!(te&6)&&fn()}),r=null;else{switch(Bp(n)){case 1:r=Cc;break;case 4:r=Up;break;case 16:r=ho;break;case 536870912:r=Fp;break;default:r=ho}r=dg(r,sg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sg(e,t){if(to=-1,ro=0,te&6)throw Error(O(327));var r=e.callbackNode;if(ks()&&e.callbackNode!==r)return null;var n=fo(e,e===$e?Ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ro(e,n);else{t=n;var s=te;te|=2;var i=ag();($e!==e||Ue!==t)&&(mr=null,zs=Ee()+500,$n(e,t));do try{sw();break}catch(o){ig(e,o)}while(!0);zc(),Co.current=i,te=s,Ce!==null?t=0:($e=null,Ue=0,t=Ae)}if(t!==0){if(t===2&&(s=Su(e),s!==0&&(n=s,t=Ju(e,s))),t===1)throw r=Gi,$n(e,0),zr(e,n),xt(e,Ee()),r;if(t===6)zr(e,n);else{if(s=e.current.alternate,!(n&30)&&!rw(s)&&(t=Ro(e,n),t===2&&(i=Su(e),i!==0&&(n=i,t=Ju(e,i))),t===1))throw r=Gi,$n(e,0),zr(e,n),xt(e,Ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:kn(e,mt,mr);break;case 3:if(zr(e,n),(n&130023424)===n&&(t=rd+500-Ee(),10<t)){if(fo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Tu(kn.bind(null,e,mt,mr),t);break}kn(e,mt,mr);break;case 4:if(zr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Jt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tw(n/1960))-n,10<n){e.timeoutHandle=Tu(kn.bind(null,e,mt,mr),n);break}kn(e,mt,mr);break;case 5:kn(e,mt,mr);break;default:throw Error(O(329))}}}return xt(e,Ee()),e.callbackNode===r?sg.bind(null,e):null}function Ju(e,t){var r=Ci;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=Ro(e,t),e!==2&&(t=mt,mt=r,t!==null&&Yu(t)),e}function Yu(e){mt===null?mt=e:mt.push.apply(mt,e)}function rw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Xt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zr(e,t){for(t&=~td,t&=~Go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jt(t),n=1<<r;e[r]=-1,t&=~n}}function Hh(e){if(te&6)throw Error(O(327));ks();var t=fo(e,0);if(!(t&1))return xt(e,Ee()),null;var r=Ro(e,t);if(e.tag!==0&&r===2){var n=Su(e);n!==0&&(t=n,r=Ju(e,n))}if(r===1)throw r=Gi,$n(e,0),zr(e,t),xt(e,Ee()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kn(e,mt,mr),xt(e,Ee()),null}function nd(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(zs=Ee()+500,Wo&&fn())}}function Hn(e){Yr!==null&&Yr.tag===0&&!(te&6)&&ks();var t=te;te|=1;var r=Dt.transition,n=le;try{if(Dt.transition=null,le=1,e)return e()}finally{le=n,Dt.transition=r,te=t,!(te&6)&&fn()}}function sd(){St=vs.current,me(vs)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,O0(r)),Ce!==null)for(r=Ce.return;r!==null;){var n=r;switch(Mc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vo();break;case 3:Us(),me(vt),me(Ge),Kc();break;case 5:Vc(n);break;case 4:Us();break;case 13:me(we);break;case 19:me(we);break;case 10:Bc(n.type._context);break;case 22:case 23:sd()}r=r.return}if($e=e,Ce=e=an(e.current,null),Ue=St=t,Ae=0,Gi=null,td=Go=Bn=0,mt=Ci=null,Nn!==null){for(t=0;t<Nn.length;t++)if(r=Nn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Nn=null}return e}function ig(e,t){do{var r=Ce;try{if(zc(),Xa.current=Po,jo){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jo=!1}if(zn=0,Ie=Le=xe=null,ji=!1,Vi=0,ed.current=null,r===null||r.return===null){Ae=1,Gi=t,Ce=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=Ue,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Th(a);if(w!==null){w.flags&=-257,Rh(w,a,o,i,t),w.mode&1&&Nh(i,u,t),t=w,l=u;var x=t.updateQueue;if(x===null){var S=new Set;S.add(l),t.updateQueue=S}else x.add(l);break e}else{if(!(t&1)){Nh(i,u,t),id();break e}l=Error(O(426))}}else if(ye&&o.mode&1){var E=Th(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Rh(E,a,o,i,t),Uc(Fs(l,o));break e}}i=l=Fs(l,o),Ae!==4&&(Ae=2),Ci===null?Ci=[i]:Ci.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Bm(i,l,t);bh(i,p);break e;case 1:o=l;var y=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(nn===null||!nn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=Hm(i,o,t);bh(i,v);break e}}i=i.return}while(i!==null)}lg(r)}catch(k){t=k,Ce===r&&r!==null&&(Ce=r=r.return);continue}break}while(!0)}function ag(){var e=Co.current;return Co.current=Po,e===null?Po:e}function id(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),$e===null||!(Bn&268435455)&&!(Go&268435455)||zr($e,Ue)}function Ro(e,t){var r=te;te|=2;var n=ag();($e!==e||Ue!==t)&&(mr=null,$n(e,t));do try{nw();break}catch(s){ig(e,s)}while(!0);if(zc(),te=r,Co.current=n,Ce!==null)throw Error(O(261));return $e=null,Ue=0,Ae}function nw(){for(;Ce!==null;)og(Ce)}function sw(){for(;Ce!==null&&!Nv();)og(Ce)}function og(e){var t=cg(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?lg(e):Ce=t,ed.current=null}function lg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Y0(r,t),r!==null){r.flags&=32767,Ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ce=null;return}}else if(r=J0(r,t,St),r!==null){Ce=r;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Ae===0&&(Ae=5)}function kn(e,t,r){var n=le,s=Dt.transition;try{Dt.transition=null,le=1,iw(e,t,r,n)}finally{Dt.transition=s,le=n}return null}function iw(e,t,r,n){do ks();while(Yr!==null);if(te&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Uv(e,i),e===$e&&(Ce=$e=null,Ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ia||(Ia=!0,dg(ho,function(){return ks(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Dt.transition,Dt.transition=null;var a=le;le=1;var o=te;te|=4,ed.current=null,Z0(e,r),rg(r,e),E0(Cu),po=!!Pu,Cu=Pu=null,e.current=r,ew(r),Tv(),te=o,le=a,Dt.transition=i}else e.current=r;if(Ia&&(Ia=!1,Yr=e,To=s),i=e.pendingLanes,i===0&&(nn=null),Lv(r.stateNode),xt(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(No)throw No=!1,e=Qu,Qu=null,e;return To&1&&e.tag!==0&&ks(),i=e.pendingLanes,i&1?e===Gu?Ni++:(Ni=0,Gu=e):Ni=0,fn(),null}function ks(){if(Yr!==null){var e=Bp(To),t=Dt.transition,r=le;try{if(Dt.transition=null,le=16>e?16:e,Yr===null)var n=!1;else{if(e=Yr,Yr=null,To=0,te&6)throw Error(O(331));var s=te;for(te|=4,$=e.current;$!==null;){var i=$,a=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Pi(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var f=d.sibling,w=d.return;if(Zm(d),d===u){$=null;break}if(f!==null){f.return=w,$=f;break}$=w}}}var x=i.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}$=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,$=a;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,$=p;break e}$=i.return}}var y=e.current;for($=y;$!==null;){a=$;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,$=m;else e:for(a=y;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qo(9,o)}}catch(k){ke(o,o.return,k)}if(o===a){$=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,$=v;break e}$=o.return}}if(te=s,fn(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Fo,e)}catch{}n=!0}return n}finally{le=r,Dt.transition=t}}return!1}function qh(e,t,r){t=Fs(r,t),t=Bm(e,t,1),e=rn(e,t,1),t=ut(),e!==null&&(ia(e,1,t),xt(e,t))}function ke(e,t,r){if(e.tag===3)qh(e,e,r);else for(;t!==null;){if(t.tag===3){qh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nn===null||!nn.has(n))){e=Fs(r,e),e=Hm(t,e,1),t=rn(t,e,1),e=ut(),t!==null&&(ia(t,1,e),xt(t,e));break}}t=t.return}}function aw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(Ue&r)===r&&(Ae===4||Ae===3&&(Ue&130023424)===Ue&&500>Ee()-rd?$n(e,0):td|=r),xt(e,t)}function ug(e,t){t===0&&(e.mode&1?(t=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):t=1);var r=ut();e=Er(e,t),e!==null&&(ia(e,t,r),xt(e,r))}function ow(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ug(e,r)}function lw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),ug(e,r)}var cg;cg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)yt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yt=!1,G0(e,t,r);yt=!!(e.flags&131072)}else yt=!1,ye&&t.flags&1048576&&pm(t,_o,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;eo(e,t),e=t.pendingProps;var s=Is(t,Ge.current);bs(t,r),s=Gc(null,t,n,e,s,r);var i=Jc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(n)?(i=!0,wo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qc(t),s.updater=Ko,t.stateNode=s,s._reactInternals=t,$u(t,n,e,r),t=Fu(null,t,n,!0,i,r)):(t.tag=0,ye&&i&&$c(t),st(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(eo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=cw(n),e=Ht(n,e),s){case 0:t=Uu(null,t,n,e,r);break e;case 1:t=Ah(null,t,n,e,r);break e;case 11:t=Oh(null,t,n,e,r);break e;case 14:t=Lh(null,t,n,Ht(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),Uu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),Ah(e,t,n,s,r);case 3:e:{if(Km(t),e===null)throw Error(O(387));n=t.pendingProps,i=t.memoizedState,s=i.element,xm(e,t),ko(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fs(Error(O(423)),t),t=Dh(e,t,n,r,s);break e}else if(n!==s){s=Fs(Error(O(424)),t),t=Dh(e,t,n,r,s);break e}else for(kt=tn(t.stateNode.containerInfo.firstChild),Et=t,ye=!0,Gt=null,r=vm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===s){t=jr(e,t,r);break e}st(e,t,n,r)}t=t.child}return t;case 5:return _m(t),e===null&&Au(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Nu(n,s)?a=null:i!==null&&Nu(n,i)&&(t.flags|=32),Vm(e,t),st(e,t,a,r),t.child;case 6:return e===null&&Au(t),null;case 13:return Qm(e,t,r);case 4:return Wc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ms(t,null,n,r):st(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),Oh(e,t,n,s,r);case 7:return st(e,t,t.pendingProps,r),t.child;case 8:return st(e,t,t.pendingProps.children,r),t.child;case 12:return st(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ce(So,n._currentValue),n._currentValue=a,i!==null)if(Xt(i.value,a)){if(i.children===s.children&&!vt.current){t=jr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Sr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Du(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(O(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Du(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}st(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,bs(t,r),s=$t(s),n=n(s),t.flags|=1,st(e,t,n,r),t.child;case 14:return n=t.type,s=Ht(n,t.pendingProps),s=Ht(n.type,s),Lh(e,t,n,s,r);case 15:return qm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),eo(e,t),t.tag=1,wt(n)?(e=!0,wo(t)):e=!1,bs(t,r),zm(t,n,s),$u(t,n,s,r),Fu(null,t,n,!0,e,r);case 19:return Gm(e,t,r);case 22:return Wm(e,t,r)}throw Error(O(156,t.tag))};function dg(e,t){return Mp(e,t)}function uw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,r,n){return new uw(e,t,r,n)}function ad(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cw(e){if(typeof e=="function")return ad(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ec)return 11;if(e===jc)return 14}return 2}function an(e,t){var r=e.alternate;return r===null?(r=At(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function no(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")ad(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ls:return Mn(r.children,s,i,t);case kc:a=8,s|=8;break;case ou:return e=At(12,r,t,s|2),e.elementType=ou,e.lanes=i,e;case lu:return e=At(13,r,t,s),e.elementType=lu,e.lanes=i,e;case uu:return e=At(19,r,t,s),e.elementType=uu,e.lanes=i,e;case _p:return Jo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wp:a=10;break e;case xp:a=9;break e;case Ec:a=11;break e;case jc:a=14;break e;case Mr:a=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=At(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Mn(e,t,r,n){return e=At(7,e,n,t),e.lanes=r,e}function Jo(e,t,r,n){return e=At(22,e,n,t),e.elementType=_p,e.lanes=r,e.stateNode={isHidden:!1},e}function Wl(e,t,r){return e=At(6,e,null,t),e.lanes=r,e}function Vl(e,t,r){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function od(e,t,r,n,s,i,a,o,l){return e=new dw(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=At(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(i),e}function hw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hg(e){if(!e)return un;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(wt(r))return hm(e,r,t)}return t}function fg(e,t,r,n,s,i,a,o,l){return e=od(r,n,!0,e,s,i,a,o,l),e.context=hg(null),r=e.current,n=ut(),s=sn(r),i=Sr(n,s),i.callback=t??null,rn(r,i,s),e.current.lanes=s,ia(e,s,n),xt(e,n),e}function Yo(e,t,r,n){var s=t.current,i=ut(),a=sn(s);return r=hg(r),t.context===null?t.context=r:t.pendingContext=r,t=Sr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rn(s,t,a),e!==null&&(Yt(e,s,a,i),Ya(e,s,a)),a}function Oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ld(e,t){Wh(e,t),(e=e.alternate)&&Wh(e,t)}function fw(){return null}var pg=typeof reportError=="function"?reportError:function(e){console.error(e)};function ud(e){this._internalRoot=e}Xo.prototype.render=ud.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Yo(e,t,null,null)};Xo.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){Yo(null,e,null,null)}),t[kr]=null}};function Xo(e){this._internalRoot=e}Xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fr.length&&t!==0&&t<Fr[r].priority;r++);Fr.splice(r,0,e),r===0&&Kp(e)}};function cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vh(){}function pw(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Oo(a);i.call(u)}}var a=fg(t,n,e,0,null,!1,!1,"",Vh);return e._reactRootContainer=a,e[kr]=a.current,zi(e.nodeType===8?e.parentNode:e),Hn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Oo(l);o.call(u)}}var l=od(e,0,!1,null,null,!1,!1,"",Vh);return e._reactRootContainer=l,e[kr]=l.current,zi(e.nodeType===8?e.parentNode:e),Hn(function(){Yo(t,l,r,n)}),l}function el(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Oo(a);o.call(l)}}Yo(t,a,e,s)}else a=pw(r,t,e,s,n);return Oo(a)}Hp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yi(t.pendingLanes);r!==0&&(Nc(t,r|1),xt(t,Ee()),!(te&6)&&(zs=Ee()+500,fn()))}break;case 13:Hn(function(){var n=Er(e,1);if(n!==null){var s=ut();Yt(n,e,1,s)}}),ld(e,1)}};Tc=function(e){if(e.tag===13){var t=Er(e,134217728);if(t!==null){var r=ut();Yt(t,e,134217728,r)}ld(e,134217728)}};qp=function(e){if(e.tag===13){var t=sn(e),r=Er(e,t);if(r!==null){var n=ut();Yt(r,e,t,n)}ld(e,t)}};Wp=function(){return le};Vp=function(e,t){var r=le;try{return le=e,t()}finally{le=r}};wu=function(e,t,r){switch(t){case"input":if(hu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=qo(n);if(!s)throw Error(O(90));bp(n),hu(n,s)}}}break;case"textarea":Ep(e,r);break;case"select":t=r.value,t!=null&&ws(e,!!r.multiple,t,!1)}};Op=nd;Lp=Hn;var mw={usingClientEntryPoint:!1,Events:[oa,hs,qo,Tp,Rp,nd]},ci={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gw={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ip(e),e===null?null:e.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||fw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Fo=$a.inject(gw),ur=$a}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mw;Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(t))throw Error(O(200));return hw(e,t,null,r)};Ct.createRoot=function(e,t){if(!cd(e))throw Error(O(299));var r=!1,n="",s=pg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=od(e,1,!1,null,null,r,!1,n,s),e[kr]=t.current,zi(e.nodeType===8?e.parentNode:e),new ud(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Ip(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Hn(e)};Ct.hydrate=function(e,t,r){if(!Zo(t))throw Error(O(200));return el(null,e,t,!0,r)};Ct.hydrateRoot=function(e,t,r){if(!cd(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=pg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=fg(t,null,e,1,r??null,s,!1,i,a),e[kr]=t.current,zi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xo(t)};Ct.render=function(e,t,r){if(!Zo(t))throw Error(O(200));return el(null,e,t,!1,r)};Ct.unmountComponentAtNode=function(e){if(!Zo(e))throw Error(O(40));return e._reactRootContainer?(Hn(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};Ct.unstable_batchedUpdates=nd;Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zo(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return el(e,t,r,!1,n)};Ct.version="18.3.1-next-f1338f8080-20240426";function mg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mg)}catch(e){console.error(e)}}mg(),mp.exports=Ct;var gg=mp.exports,yg,Kh=gg;yg=Kh.createRoot,Kh.hydrateRoot;var tl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rl=typeof window>"u"||"Deno"in globalThis;function qt(){}function yw(e,t){return typeof e=="function"?e(t):e}function vw(e){return typeof e=="number"&&e>=0&&e!==1/0}function ww(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xu(e,t){return typeof e=="function"?e(t):e}function xw(e,t){return typeof e=="function"?e(t):e}function Qh(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==dd(a,t.options))return!1}else if(!Yi(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Gh(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ji(t.options.mutationKey)!==Ji(i))return!1}else if(!Yi(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function dd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ji)(e)}function Ji(e){return JSON.stringify(e,(t,r)=>Zu(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Yi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Yi(e[r],t[r])):!1}function vg(e,t){if(e===t)return e;const r=Jh(e)&&Jh(t);if(r||Zu(e)&&Zu(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:i[d];(!r&&l.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,u++):(o[h]=vg(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:o}return t}function fk(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Jh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zu(e){if(!Yh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Yh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yh(e){return Object.prototype.toString.call(e)==="[object Object]"}function _w(e){return new Promise(t=>{setTimeout(t,e)})}function Sw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vg(e,t):t}function bw(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function kw(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var hd=Symbol();function wg(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function pk(e,t){return typeof e=="function"?e(...t):!!e}var On,Wr,js,Jf,Ew=(Jf=class extends tl{constructor(){super();re(this,On);re(this,Wr);re(this,js);K(this,js,t=>{if(!rl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,Wr)||this.setEventListener(T(this,js))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Wr))==null||t.call(this),K(this,Wr,void 0))}setEventListener(t){var r;K(this,js,t),(r=T(this,Wr))==null||r.call(this),K(this,Wr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){T(this,On)!==t&&(K(this,On,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof T(this,On)=="boolean"?T(this,On):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},On=new WeakMap,Wr=new WeakMap,js=new WeakMap,Jf),xg=new Ew,Ps,Vr,Cs,Yf,jw=(Yf=class extends tl{constructor(){super();re(this,Ps,!0);re(this,Vr);re(this,Cs);K(this,Cs,t=>{if(!rl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){T(this,Vr)||this.setEventListener(T(this,Cs))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Vr))==null||t.call(this),K(this,Vr,void 0))}setEventListener(t){var r;K(this,Cs,t),(r=T(this,Vr))==null||r.call(this),K(this,Vr,t(this.setOnline.bind(this)))}setOnline(t){T(this,Ps)!==t&&(K(this,Ps,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return T(this,Ps)}},Ps=new WeakMap,Vr=new WeakMap,Cs=new WeakMap,Yf),Lo=new jw;function Pw(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Cw(e){return Math.min(1e3*2**e,3e4)}function _g(e){return(e??"online")==="online"?Lo.isOnline():!0}var Sg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bg(e){let t=!1,r=0,n;const s=Pw(),i=()=>s.status!=="pending",a=S=>{var E;i()||(f(new Sg(S)),(E=e.abort)==null||E.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>xg.isFocused()&&(e.networkMode==="always"||Lo.isOnline())&&e.canRun(),d=()=>_g(e.networkMode)&&e.canRun(),h=S=>{i()||(n==null||n(),s.resolve(S))},f=S=>{i()||(n==null||n(),s.reject(S))},w=()=>new Promise(S=>{var E;n=p=>{(i()||u())&&S(p)},(E=e.onPause)==null||E.call(e)}).then(()=>{var S;n=void 0,i()||(S=e.onContinue)==null||S.call(e)}),x=()=>{if(i())return;let S;const E=r===0?e.initialPromise:void 0;try{S=E??e.fn()}catch(p){S=Promise.reject(p)}Promise.resolve(S).then(h).catch(p=>{var g;if(i())return;const y=e.retry??(rl?0:3),m=e.retryDelay??Cw,v=typeof m=="function"?m(r,p):m,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(t||!k){f(p);return}r++,(g=e.onFail)==null||g.call(e,r,p),_w(v).then(()=>u()?void 0:w()).then(()=>{t?f(p):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?x():w().then(x),s)}}var Nw=e=>setTimeout(e,0);function Tw(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=Nw;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var it=Tw(),Ln,Xf,kg=(Xf=class{constructor(){re(this,Ln)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vw(this.gcTime)&&K(this,Ln,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(rl?1/0:5*60*1e3))}clearGcTimeout(){T(this,Ln)&&(clearTimeout(T(this,Ln)),K(this,Ln,void 0))}},Ln=new WeakMap,Xf),Ns,Ts,Tt,An,De,ra,Dn,Wt,fr,Zf,Rw=(Zf=class extends kg{constructor(t){super();re(this,Wt);re(this,Ns);re(this,Ts);re(this,Tt);re(this,An);re(this,De);re(this,ra);re(this,Dn);K(this,Dn,!1),K(this,ra,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,An,t.client),K(this,Tt,T(this,An).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,Ns,Lw(this.options)),this.state=t.state??T(this,Ns),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,De))==null?void 0:t.promise}setOptions(t){this.options={...T(this,ra),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,Tt).remove(this)}setData(t,r){const n=Sw(this.state.data,t,this.options);return qe(this,Wt,fr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qe(this,Wt,fr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=T(this,De))==null?void 0:n.promise;return(s=T(this,De))==null||s.cancel(t),r?r.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Ns))}isActive(){return this.observers.some(t=>xw(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ww(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,De))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,De))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,Tt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(T(this,De)&&(T(this,Dn)?T(this,De).cancel({revert:!0}):T(this,De).cancelRetry()),this.scheduleGc()),T(this,Tt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Wt,fr).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,d,h,f,w,x,S,E,p,y,m;if(this.state.fetchStatus!=="idle"&&((l=T(this,De))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,De))return T(this,De).continueRetry(),T(this,De).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(k=>k.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,s=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(K(this,Dn,!0),n.signal)})},i=()=>{const v=wg(this.options,r),g=(()=>{const P={client:T(this,An),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return K(this,Dn,!1),this.options.persister?this.options.persister(v,g,this):v(g)},o=(()=>{const v={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,An),state:this.state,fetchFn:i};return s(v),v})();(u=this.options.behavior)==null||u.onFetch(o,this),K(this,Ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&qe(this,Wt,fr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),K(this,De,bg({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onFail:(v,k)=>{qe(this,Wt,fr).call(this,{type:"failed",failureCount:v,error:k})},onPause:()=>{qe(this,Wt,fr).call(this,{type:"pause"})},onContinue:()=>{qe(this,Wt,fr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const v=await T(this,De).start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),(w=(f=T(this,Tt).config).onSuccess)==null||w.call(f,v,this),(S=(x=T(this,Tt).config).onSettled)==null||S.call(x,v,this.state.error,this),v}catch(v){if(v instanceof Sg){if(v.silent)return T(this,De).promise;if(v.revert){if(this.setState({...T(this,Ts),fetchStatus:"idle"}),this.state.data===void 0)throw v;return this.state.data}}throw qe(this,Wt,fr).call(this,{type:"error",error:v}),(p=(E=T(this,Tt).config).onError)==null||p.call(E,v,this),(m=(y=T(this,Tt).config).onSettled)==null||m.call(y,this.state.data,v,this),v}finally{this.scheduleGc()}}},Ns=new WeakMap,Ts=new WeakMap,Tt=new WeakMap,An=new WeakMap,De=new WeakMap,ra=new WeakMap,Dn=new WeakMap,Wt=new WeakSet,fr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ow(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,Ts,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),it.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),T(this,Tt).notify({query:this,type:"updated",action:t})})},Zf);function Ow(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_g(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ir,ep,Aw=(ep=class extends tl{constructor(t={}){super();re(this,ir);this.config=t,K(this,ir,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??dd(s,r);let a=this.get(i);return a||(a=new Rw({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){T(this,ir).has(t.queryHash)||(T(this,ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=T(this,ir).get(t.queryHash);r&&(t.destroy(),r===t&&T(this,ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,ir).get(t)}getAll(){return[...T(this,ir).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Qh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Qh(t,n)):r}notify(t){it.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){it.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ir=new WeakMap,ep),ar,nt,In,or,Dr,tp,Dw=(tp=class extends kg{constructor(t){super();re(this,or);re(this,ar);re(this,nt);re(this,In);this.mutationId=t.mutationId,K(this,nt,t.mutationCache),K(this,ar,[]),this.state=t.state||Iw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,ar).includes(t)||(T(this,ar).push(t),this.clearGcTimeout(),T(this,nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,ar,T(this,ar).filter(r=>r!==t)),this.scheduleGc(),T(this,nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,ar).length||(this.state.status==="pending"?this.scheduleGc():T(this,nt).remove(this))}continue(){var t;return((t=T(this,In))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,u,d,h,f,w,x,S,E,p,y,m,v,k,g,P,N;const r=()=>{qe(this,or,Dr).call(this,{type:"continue"})};K(this,In,bg({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,I)=>{qe(this,or,Dr).call(this,{type:"failed",failureCount:L,error:I})},onPause:()=>{qe(this,or,Dr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,nt).canRun(this)}));const n=this.state.status==="pending",s=!T(this,In).canStart();try{if(n)r();else{qe(this,or,Dr).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=T(this,nt).config).onMutate)==null?void 0:a.call(i,t,this));const I=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));I!==this.state.context&&qe(this,or,Dr).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const L=await T(this,In).start();return await((d=(u=T(this,nt).config).onSuccess)==null?void 0:d.call(u,L,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,L,t,this.state.context)),await((x=(w=T(this,nt).config).onSettled)==null?void 0:x.call(w,L,null,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,L,null,t,this.state.context)),qe(this,or,Dr).call(this,{type:"success",data:L}),L}catch(L){try{throw await((y=(p=T(this,nt).config).onError)==null?void 0:y.call(p,L,t,this.state.context,this)),await((v=(m=this.options).onError)==null?void 0:v.call(m,L,t,this.state.context)),await((g=(k=T(this,nt).config).onSettled)==null?void 0:g.call(k,void 0,L,this.state.variables,this.state.context,this)),await((N=(P=this.options).onSettled)==null?void 0:N.call(P,void 0,L,t,this.state.context)),L}finally{qe(this,or,Dr).call(this,{type:"error",error:L})}}finally{T(this,nt).runNext(this)}}},ar=new WeakMap,nt=new WeakMap,In=new WeakMap,or=new WeakSet,Dr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),it.batch(()=>{T(this,ar).forEach(n=>{n.onMutationUpdate(t)}),T(this,nt).notify({mutation:this,type:"updated",action:t})})},tp);function Iw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vr,Vt,na,rp,$w=(rp=class extends tl{constructor(t={}){super();re(this,vr);re(this,Vt);re(this,na);this.config=t,K(this,vr,new Set),K(this,Vt,new Map),K(this,na,0)}build(t,r,n){const s=new Dw({mutationCache:this,mutationId:++xa(this,na)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){T(this,vr).add(t);const r=Ma(t);if(typeof r=="string"){const n=T(this,Vt).get(r);n?n.push(t):T(this,Vt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,vr).delete(t)){const r=Ma(t);if(typeof r=="string"){const n=T(this,Vt).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&T(this,Vt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ma(t);if(typeof r=="string"){const n=T(this,Vt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Ma(t);if(typeof r=="string"){const s=(n=T(this,Vt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){it.batch(()=>{T(this,vr).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,vr).clear(),T(this,Vt).clear()})}getAll(){return Array.from(T(this,vr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gh(r,n))}findAll(t={}){return this.getAll().filter(r=>Gh(t,r))}notify(t){it.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return it.batch(()=>Promise.all(t.map(r=>r.continue().catch(qt))))}},vr=new WeakMap,Vt=new WeakMap,na=new WeakMap,rp);function Ma(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Xh(e){return{onFetch:(t,r)=>{var d,h,f,w,x;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let S=!1;const E=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},p=wg(t.options,t.fetchOptions),y=async(m,v,k)=>{if(S)return Promise.reject();if(v==null&&m.pages.length)return Promise.resolve(m);const P=(()=>{const oe={client:t.client,queryKey:t.queryKey,pageParam:v,direction:k?"backward":"forward",meta:t.options.meta};return E(oe),oe})(),N=await p(P),{maxPages:L}=t.options,I=k?kw:bw;return{pages:I(m.pages,N,L),pageParams:I(m.pageParams,v,L)}};if(s&&i.length){const m=s==="backward",v=m?Mw:Zh,k={pages:i,pageParams:a},g=v(n,k);o=await y(k,g,m)}else{const m=e??i.length;do{const v=l===0?a[0]??n.initialPageParam:Zh(n,o);if(l>0&&v==null)break;o=await y(o,v),l++}while(l<m)}return o};t.options.persister?t.fetchFn=()=>{var S,E;return(E=(S=t.options).persister)==null?void 0:E.call(S,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Zh(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Mw(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var be,Kr,Qr,Rs,Os,Gr,Ls,As,np,Uw=(np=class{constructor(e={}){re(this,be);re(this,Kr);re(this,Qr);re(this,Rs);re(this,Os);re(this,Gr);re(this,Ls);re(this,As);K(this,be,e.queryCache||new Aw),K(this,Kr,e.mutationCache||new $w),K(this,Qr,e.defaultOptions||{}),K(this,Rs,new Map),K(this,Os,new Map),K(this,Gr,0)}mount(){xa(this,Gr)._++,T(this,Gr)===1&&(K(this,Ls,xg.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,be).onFocus())})),K(this,As,Lo.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,be).onOnline())})))}unmount(){var e,t;xa(this,Gr)._--,T(this,Gr)===0&&((e=T(this,Ls))==null||e.call(this),K(this,Ls,void 0),(t=T(this,As))==null||t.call(this),K(this,As,void 0))}isFetching(e){return T(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,Kr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,be).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=T(this,be).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Xu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return T(this,be).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=T(this,be).get(n.queryHash),i=s==null?void 0:s.state.data,a=yw(t,i);if(a!==void 0)return T(this,be).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return it.batch(()=>T(this,be).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,be).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=T(this,be);it.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=T(this,be);return it.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=it.batch(()=>T(this,be).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(qt).catch(qt)}invalidateQueries(e,t={}){return it.batch(()=>(T(this,be).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=it.batch(()=>T(this,be).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(qt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(qt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=T(this,be).build(this,t);return r.isStaleByTime(Xu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qt).catch(qt)}fetchInfiniteQuery(e){return e.behavior=Xh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qt).catch(qt)}ensureInfiniteQueryData(e){return e.behavior=Xh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lo.isOnline()?T(this,Kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,be)}getMutationCache(){return T(this,Kr)}getDefaultOptions(){return T(this,Qr)}setDefaultOptions(e){K(this,Qr,e)}setQueryDefaults(e,t){T(this,Rs).set(Ji(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,Rs).values()],r={};return t.forEach(n=>{Yi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){T(this,Os).set(Ji(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,Os).values()],r={};return t.forEach(n=>{Yi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,Qr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,Qr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,be).clear(),T(this,Kr).clear()}},be=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,Rs=new WeakMap,Os=new WeakMap,Gr=new WeakMap,Ls=new WeakMap,As=new WeakMap,np),Eg=_.createContext(void 0),mk=e=>{const t=_.useContext(Eg);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Fw=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Eg.Provider,{value:e,children:t}));const zw="modulepreload",Bw=function(e){return"/"+e},ef={},Je=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Bw(l),l in ef)return;ef[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":zw,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,w)=>{h.addEventListener("load",f),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Hw=function(){return null};const Ke=new Uw({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!0,placeholderData:e=>e},mutations:{retry:1,retryDelay:1e3}}}),ft={user:e=>["user",e],userProfile:e=>["userProfile",e],dashboardStats:()=>["dashboard","stats"],dashboardActivity:()=>["dashboard","activity"],adminUsers:()=>["admin","users"],roles:()=>["roles"],adminRoles:()=>["admin","roles"],adminPermissions:()=>["admin","permissions"],currentUser:()=>["auth","currentUser"]};/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jg=e=>{throw TypeError(e)},qw=(e,t,r)=>t.has(e)||jg("Cannot "+r),Kl=(e,t,r)=>(qw(e,t,"read from private field"),r?r.call(e):t.get(e)),Ww=(e,t,r)=>t.has(e)?jg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),tf="popstate";function Vw(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Xi("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:cn(s)}return Qw(t,r,null,e)}function Y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function je(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kw(){return Math.random().toString(36).substring(2,10)}function rf(e,t){return{usr:e.state,key:e.key,idx:t}}function Xi(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?pn(t):t,state:r,key:t&&t.key||n||Kw()}}function cn({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Qw(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let E=d(),p=E==null?null:E-u;u=E,l&&l({action:o,location:S.location,delta:p})}function f(E,p){o="PUSH";let y=Xi(S.location,E,p);u=d()+1;let m=rf(y,u),v=S.createHref(y);try{a.pushState(m,"",v)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(v)}i&&l&&l({action:o,location:S.location,delta:1})}function w(E,p){o="REPLACE";let y=Xi(S.location,E,p);u=d();let m=rf(y,u),v=S.createHref(y);a.replaceState(m,"",v),i&&l&&l({action:o,location:S.location,delta:0})}function x(E){return Pg(E)}let S={get action(){return o},get location(){return e(s,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(tf,h),l=E,()=>{s.removeEventListener(tf,h),l=null}},createHref(E){return t(s,E)},createURL:x,encodeLocation(E){let p=x(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:w,go(E){return a.go(E)}};return S}function Pg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Y(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:cn(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var wi,nf=class{constructor(e){if(Ww(this,wi,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Kl(this,wi).has(e))return Kl(this,wi).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Kl(this,wi).set(e,t)}};wi=new WeakMap;var Gw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Jw(e){return Gw.has(e)}var Yw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Xw(e){return Yw.has(e)}function Zw(e){return e.index===!0}function Zi(e,t,r=[],n={},s=!1){return e.map((i,a)=>{let o=[...r,String(a)],l=typeof i.id=="string"?i.id:o.join("-");if(Y(i.index!==!0||!i.children,"Cannot specify children on an index route"),Y(s||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),Zw(i)){let u={...i,...t(i),id:l};return n[l]=u,u}else{let u={...i,...t(i),id:l,children:void 0};return n[l]=u,i.children&&(u.children=Zi(i.children,t,o,n,s)),u}})}function Br(e,t,r="/"){return so(e,t,r,!1)}function so(e,t,r,n){let s=typeof t=="string"?pn(t):t,i=Ut(s.pathname||"/",r);if(i==null)return null;let a=Cg(e);tx(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=hx(i);o=cx(a[l],u,n)}return o}function ex(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Cg(e,t=[],r=[],n="",s=!1){let i=(a,o,l=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;Y(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=dr([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(Y(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Cg(a.children,t,f,h,l)),!(a.path==null&&!a.index)&&t.push({path:h,score:lx(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of Ng(a.path))i(a,o,!0,u)}),t}function Ng(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Ng(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function tx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ux(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var rx=/^:[\w-]+$/,nx=3,sx=2,ix=1,ax=10,ox=-2,sf=e=>e==="*";function lx(e,t){let r=e.split("/"),n=r.length;return r.some(sf)&&(n+=ox),t&&(n+=sx),r.filter(s=>!sf(s)).reduce((s,i)=>s+(rx.test(i)?nx:i===""?ix:ax),n)}function ux(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function cx(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ao({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Ao({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:dr([i,h.pathname]),pathnameBase:gx(dr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=dr([i,h.pathnameBase]))}return a}function Ao(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dx(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let x=o[f]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=o[f];return h&&!w?u[d]=void 0:u[d]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function dx(e,t=!1,r=!0){je(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function hx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return je(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ut(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function fx({basename:e,pathname:t}){return t==="/"?e:dr([e,t])}function px(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?pn(e):e;return{pathname:r?r.startsWith("/")?r:mx(r,t):t,search:yx(n),hash:vx(s)}}function mx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ql(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nl(e){let t=Tg(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function sl(e,t,r,n=!1){let s;typeof e=="string"?s=pn(e):(s={...e},Y(!s.pathname||!s.pathname.includes("?"),Ql("?","pathname","search",s)),Y(!s.pathname||!s.pathname.includes("#"),Ql("#","pathname","hash",s)),Y(!s.search||!s.search.includes("#"),Ql("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=px(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var dr=e=>e.join("/").replace(/\/\/+/g,"/"),gx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Do=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function ea(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Rg=["POST","PUT","PATCH","DELETE"],wx=new Set(Rg),xx=["GET",...Rg],_x=new Set(xx),Sx=new Set([301,302,303,307,308]),bx=new Set([307,308]),Gl={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},di={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fd=e=>Ex.test(e),jx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Og="remix-router-transitions",Lg=Symbol("ResetLoaderData");function Px(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Y(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],s=e.mapRouteProperties||jx,i={},a=Zi(e.routes,s,void 0,i),o,l=e.basename||"/",u=e.dataStrategy||Ox,d={unstable_middleware:!1,...e.future},h=null,f=new Set,w=null,x=null,S=null,E=e.hydrationData!=null,p=Br(a,e.history.location,l),y=!1,m=null,v;if(p==null&&!e.patchRoutesOnNavigation){let b=Rt(404,{pathname:e.history.location.pathname}),{matches:j,route:C}=yf(a);v=!0,p=j,m={[C.id]:b}}else if(p&&!e.hydrationData&&pa(p,a,e.history.location.pathname).active&&(p=null),p)if(p.some(b=>b.route.lazy))v=!1;else if(!p.some(b=>b.route.loader))v=!0;else{let b=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let C=p.findIndex(R=>j[R.route.id]!==void 0);v=p.slice(0,C+1).every(R=>!tc(R.route,b,j))}else v=p.every(C=>!tc(C.route,b,j))}else{v=!1,p=[];let b=pa(null,a,e.history.location.pathname);b.active&&b.matches&&(y=!0,p=b.matches)}let k,g={historyAction:e.history.action,location:e.history.location,matches:p,initialized:v,navigation:Gl,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},P="POP",N=!1,L,I=!1,oe=new Map,_t=null,ht=!1,ne=!1,Se=new Set,se=new Map,Ne=0,A=-1,U=new Map,q=new Set,ee=new Map,ie=new Map,Pe=new Set,Ye=new Map,Nr,Xe=null;function Gn(){if(h=e.history.listen(({action:b,location:j,delta:C})=>{if(Nr){Nr(),Nr=void 0;return}je(Ye.size===0||C!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let R=Ad({currentLocation:g.location,nextLocation:j,historyAction:b});if(R&&C!=null){let D=new Promise(F=>{Nr=F});e.history.go(C*-1),fa(R,{state:"blocked",location:j,proceed(){fa(R,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),D.then(()=>e.history.go(C))},reset(){let F=new Map(g.blockers);F.set(R,di),ze({blockers:F})}});return}return yn(b,j)}),r){qx(t,oe);let b=()=>Wx(t,oe);t.addEventListener("pagehide",b),_t=()=>t.removeEventListener("pagehide",b)}return g.initialized||yn("POP",g.location,{initialHydration:!0}),k}function Cy(){h&&h(),_t&&_t(),f.clear(),L&&L.abort(),g.fetchers.forEach((b,j)=>yl(j)),g.blockers.forEach((b,j)=>Ld(j))}function Ny(b){return f.add(b),()=>f.delete(b)}function ze(b,j={}){b.matches&&(b.matches=b.matches.map(D=>{let F=i[D.route.id],z=D.route;return z.element!==F.element||z.errorElement!==F.errorElement||z.hydrateFallbackElement!==F.hydrateFallbackElement?{...D,route:F}:D})),g={...g,...b};let C=[],R=[];g.fetchers.forEach((D,F)=>{D.state==="idle"&&(Pe.has(F)?C.push(F):R.push(F))}),Pe.forEach(D=>{!g.fetchers.has(D)&&!se.has(D)&&C.push(D)}),[...f].forEach(D=>D(g,{deletedFetchers:C,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),C.forEach(D=>yl(D)),R.forEach(D=>g.fetchers.delete(D))}function Jn(b,j,{flushSync:C}={}){var W,B;let R=g.actionData!=null&&g.navigation.formMethod!=null&&pt(g.navigation.formMethod)&&g.navigation.state==="loading"&&((W=b.state)==null?void 0:W._isRedirect)!==!0,D;j.actionData?Object.keys(j.actionData).length>0?D=j.actionData:D=null:R?D=g.actionData:D=null;let F=j.loaderData?mf(g.loaderData,j.loaderData,j.matches||[],j.errors):g.loaderData,z=g.blockers;z.size>0&&(z=new Map(z),z.forEach((G,ge)=>z.set(ge,di)));let M=ht?!1:Id(b,j.matches||g.matches),H=N===!0||g.navigation.formMethod!=null&&pt(g.navigation.formMethod)&&((B=b.state)==null?void 0:B._isRedirect)!==!0;o&&(a=o,o=void 0),ht||P==="POP"||(P==="PUSH"?e.history.push(b,b.state):P==="REPLACE"&&e.history.replace(b,b.state));let V;if(P==="POP"){let G=oe.get(g.location.pathname);G&&G.has(b.pathname)?V={currentLocation:g.location,nextLocation:b}:oe.has(b.pathname)&&(V={currentLocation:b,nextLocation:g.location})}else if(I){let G=oe.get(g.location.pathname);G?G.add(b.pathname):(G=new Set([b.pathname]),oe.set(g.location.pathname,G)),V={currentLocation:g.location,nextLocation:b}}ze({...j,actionData:D,loaderData:F,historyAction:P,location:b,initialized:!0,navigation:Gl,revalidation:"idle",restoreScrollPosition:M,preventScrollReset:H,blockers:z},{viewTransitionOpts:V,flushSync:C===!0}),P="POP",N=!1,I=!1,ht=!1,ne=!1,Xe==null||Xe.resolve(),Xe=null}async function jd(b,j){if(typeof b=="number"){e.history.go(b);return}let C=ec(g.location,g.matches,l,b,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:R,submission:D,error:F}=af(!1,C,j),z=g.location,M=Xi(g.location,R,j&&j.state);M={...M,...e.history.encodeLocation(M)};let H=j&&j.replace!=null?j.replace:void 0,V="PUSH";H===!0?V="REPLACE":H===!1||D!=null&&pt(D.formMethod)&&D.formAction===g.location.pathname+g.location.search&&(V="REPLACE");let W=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,B=(j&&j.flushSync)===!0,G=Ad({currentLocation:z,nextLocation:M,historyAction:V});if(G){fa(G,{state:"blocked",location:M,proceed(){fa(G,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),jd(b,j)},reset(){let ge=new Map(g.blockers);ge.set(G,di),ze({blockers:ge})}});return}await yn(V,M,{submission:D,pendingError:F,preventScrollReset:W,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:B})}function Ty(){Xe||(Xe=Vx()),gl(),ze({revalidation:"loading"});let b=Xe.promise;return g.navigation.state==="submitting"?b:g.navigation.state==="idle"?(yn(g.historyAction,g.location,{startUninterruptedRevalidation:!0}),b):(yn(P||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation,enableViewTransition:I===!0}),b)}async function yn(b,j,C){L&&L.abort(),L=null,P=b,ht=(C&&C.startUninterruptedRevalidation)===!0,Fy(g.location,g.matches),N=(C&&C.preventScrollReset)===!0,I=(C&&C.enableViewTransition)===!0;let R=o||a,D=C&&C.overrideNavigation,F=C!=null&&C.initialHydration&&g.matches&&g.matches.length>0&&!y?g.matches:Br(R,j,l),z=(C&&C.flushSync)===!0;if(F&&g.initialized&&!ne&&Ux(g.location,j)&&!(C&&C.submission&&pt(C.submission.formMethod))){Jn(j,{matches:F},{flushSync:z});return}let M=pa(F,R,j.pathname);if(M.active&&M.matches&&(F=M.matches),!F){let{error:Ze,notFoundMatches:ve,route:he}=vl(j.pathname);Jn(j,{matches:ve,loaderData:{},errors:{[he.id]:Ze}},{flushSync:z});return}L=new AbortController;let H=ss(e.history,j,L.signal,C&&C.submission),V=e.unstable_getContext?await e.unstable_getContext():new nf,W;if(C&&C.pendingError)W=[Hr(F).route.id,{type:"error",error:C.pendingError}];else if(C&&C.submission&&pt(C.submission.formMethod)){let Ze=await Ry(H,j,C.submission,F,V,M.active,C&&C.initialHydration===!0,{replace:C.replace,flushSync:z});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[ve,he]=Ze.pendingActionResult;if(bt(he)&&ea(he.error)&&he.error.status===404){L=null,Jn(j,{matches:Ze.matches,loaderData:{},errors:{[ve]:he.error}});return}}F=Ze.matches||F,W=Ze.pendingActionResult,D=Jl(j,C.submission),z=!1,M.active=!1,H=ss(e.history,H.url,H.signal)}let{shortCircuited:B,matches:G,loaderData:ge,errors:Be}=await Oy(H,j,F,V,M.active,D,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,C&&C.initialHydration===!0,z,W);B||(L=null,Jn(j,{matches:G||F,...gf(W),loaderData:ge,errors:Be}))}async function Ry(b,j,C,R,D,F,z,M={}){gl();let H=Bx(j,C);if(ze({navigation:H},{flushSync:M.flushSync===!0}),F){let B=await ma(R,j.pathname,b.signal);if(B.type==="aborted")return{shortCircuited:!0};if(B.type==="error"){let G=Hr(B.partialMatches).route.id;return{matches:B.partialMatches,pendingActionResult:[G,{type:"error",error:B.error}]}}else if(B.matches)R=B.matches;else{let{notFoundMatches:G,error:ge,route:Be}=vl(j.pathname);return{matches:G,pendingActionResult:[Be.id,{type:"error",error:ge}]}}}let V,W=io(R,j);if(!W.route.action&&!W.route.lazy)V={type:"error",error:Rt(405,{method:b.method,pathname:j.pathname,routeId:W.route.id})};else{let B=Es(s,i,b,R,W,z?[]:n,D),G=await Zs(b,B,D,null);if(V=G[W.route.id],!V){for(let ge of R)if(G[ge.route.id]){V=G[ge.route.id];break}}if(b.signal.aborted)return{shortCircuited:!0}}if(Rn(V)){let B;return M&&M.replace!=null?B=M.replace:B=hf(V.response.headers.get("Location"),new URL(b.url),l)===g.location.pathname+g.location.search,await vn(b,V,!0,{submission:C,replace:B}),{shortCircuited:!0}}if(bt(V)){let B=Hr(R,W.route.id);return(M&&M.replace)!==!0&&(P="PUSH"),{matches:R,pendingActionResult:[B.route.id,V,W.route.id]}}return{matches:R,pendingActionResult:[W.route.id,V]}}async function Oy(b,j,C,R,D,F,z,M,H,V,W,B){let G=F||Jl(j,z),ge=z||M||wf(G),Be=!ht&&!V;if(D){if(Be){let He=Pd(B);ze({navigation:G,...He!==void 0?{actionData:He}:{}},{flushSync:W})}let ae=await ma(C,j.pathname,b.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let He=Hr(ae.partialMatches).route.id;return{matches:ae.partialMatches,loaderData:{},errors:{[He]:ae.error}}}else if(ae.matches)C=ae.matches;else{let{error:He,notFoundMatches:va,route:ri}=vl(j.pathname);return{matches:va,loaderData:{},errors:{[ri.id]:He}}}}let Ze=o||a,{dsMatches:ve,revalidatingFetchers:he}=of(b,R,s,i,e.history,g,C,ge,j,V?[]:n,V===!0,ne,Se,Pe,ee,q,Ze,l,e.patchRoutesOnNavigation!=null,B);if(A=++Ne,!e.dataStrategy&&!ve.some(ae=>ae.shouldLoad)&&!ve.some(ae=>ae.route.unstable_middleware)&&he.length===0){let ae=Rd();return Jn(j,{matches:C,loaderData:{},errors:B&&bt(B[1])?{[B[0]]:B[1].error}:null,...gf(B),...ae?{fetchers:new Map(g.fetchers)}:{}},{flushSync:W}),{shortCircuited:!0}}if(Be){let ae={};if(!D){ae.navigation=G;let He=Pd(B);He!==void 0&&(ae.actionData=He)}he.length>0&&(ae.fetchers=Ly(he)),ze(ae,{flushSync:W})}he.forEach(ae=>{Rr(ae.key),ae.controller&&se.set(ae.key,ae.controller)});let wn=()=>he.forEach(ae=>Rr(ae.key));L&&L.signal.addEventListener("abort",wn);let{loaderResults:ei,fetcherResults:Or}=await Cd(ve,he,b,R);if(b.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",wn),he.forEach(ae=>se.delete(ae.key));let tr=Ua(ei);if(tr)return await vn(b,tr.result,!0,{replace:H}),{shortCircuited:!0};if(tr=Ua(Or),tr)return q.add(tr.key),await vn(b,tr.result,!0,{replace:H}),{shortCircuited:!0};let{loaderData:wl,errors:ti}=pf(g,C,ei,B,he,Or);V&&g.errors&&(ti={...g.errors,...ti});let xn=Rd(),ga=Od(A),ya=xn||ga||he.length>0;return{matches:C,loaderData:wl,errors:ti,...ya?{fetchers:new Map(g.fetchers)}:{}}}function Pd(b){if(b&&!bt(b[1]))return{[b[0]]:b[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function Ly(b){return b.forEach(j=>{let C=g.fetchers.get(j.key),R=hi(void 0,C?C.data:void 0);g.fetchers.set(j.key,R)}),new Map(g.fetchers)}async function Ay(b,j,C,R){Rr(b);let D=(R&&R.flushSync)===!0,F=o||a,z=ec(g.location,g.matches,l,C,j,R==null?void 0:R.relative),M=Br(F,z,l),H=pa(M,F,z);if(H.active&&H.matches&&(M=H.matches),!M){hr(b,j,Rt(404,{pathname:z}),{flushSync:D});return}let{path:V,submission:W,error:B}=af(!0,z,R);if(B){hr(b,j,B,{flushSync:D});return}let G=e.unstable_getContext?await e.unstable_getContext():new nf,ge=(R&&R.preventScrollReset)===!0;if(W&&pt(W.formMethod)){await Dy(b,j,V,M,G,H.active,D,ge,W);return}ee.set(b,{routeId:j,path:V}),await Iy(b,j,V,M,G,H.active,D,ge,W)}async function Dy(b,j,C,R,D,F,z,M,H){gl(),ee.delete(b);let V=g.fetchers.get(b);Tr(b,Hx(H,V),{flushSync:z});let W=new AbortController,B=ss(e.history,C,W.signal,H);if(F){let Te=await ma(R,new URL(B.url).pathname,B.signal,b);if(Te.type==="aborted")return;if(Te.type==="error"){hr(b,j,Te.error,{flushSync:z});return}else if(Te.matches)R=Te.matches;else{hr(b,j,Rt(404,{pathname:C}),{flushSync:z});return}}let G=io(R,C);if(!G.route.action&&!G.route.lazy){let Te=Rt(405,{method:H.formMethod,pathname:C,routeId:j});hr(b,j,Te,{flushSync:z});return}se.set(b,W);let ge=Ne,Be=Es(s,i,B,R,G,n,D),ve=(await Zs(B,Be,D,b))[G.route.id];if(B.signal.aborted){se.get(b)===W&&se.delete(b);return}if(Pe.has(b)){if(Rn(ve)||bt(ve)){Tr(b,Ir(void 0));return}}else{if(Rn(ve))if(se.delete(b),A>ge){Tr(b,Ir(void 0));return}else return q.add(b),Tr(b,hi(H)),vn(B,ve,!1,{fetcherSubmission:H,preventScrollReset:M});if(bt(ve)){hr(b,j,ve.error);return}}let he=g.navigation.location||g.location,wn=ss(e.history,he,W.signal),ei=o||a,Or=g.navigation.state!=="idle"?Br(ei,g.navigation.location,l):g.matches;Y(Or,"Didn't find any matches after fetcher action");let tr=++Ne;U.set(b,tr);let wl=hi(H,ve.data);g.fetchers.set(b,wl);let{dsMatches:ti,revalidatingFetchers:xn}=of(wn,D,s,i,e.history,g,Or,H,he,n,!1,ne,Se,Pe,ee,q,ei,l,e.patchRoutesOnNavigation!=null,[G.route.id,ve]);xn.filter(Te=>Te.key!==b).forEach(Te=>{let wa=Te.key,$d=g.fetchers.get(wa),Hy=hi(void 0,$d?$d.data:void 0);g.fetchers.set(wa,Hy),Rr(wa),Te.controller&&se.set(wa,Te.controller)}),ze({fetchers:new Map(g.fetchers)});let ga=()=>xn.forEach(Te=>Rr(Te.key));W.signal.addEventListener("abort",ga);let{loaderResults:ya,fetcherResults:ae}=await Cd(ti,xn,wn,D);if(W.signal.aborted)return;if(W.signal.removeEventListener("abort",ga),U.delete(b),se.delete(b),xn.forEach(Te=>se.delete(Te.key)),g.fetchers.has(b)){let Te=Ir(ve.data);g.fetchers.set(b,Te)}let He=Ua(ya);if(He)return vn(wn,He.result,!1,{preventScrollReset:M});if(He=Ua(ae),He)return q.add(He.key),vn(wn,He.result,!1,{preventScrollReset:M});let{loaderData:va,errors:ri}=pf(g,Or,ya,void 0,xn,ae);Od(tr),g.navigation.state==="loading"&&tr>A?(Y(P,"Expected pending action"),L&&L.abort(),Jn(g.navigation.location,{matches:Or,loaderData:va,errors:ri,fetchers:new Map(g.fetchers)})):(ze({errors:ri,loaderData:mf(g.loaderData,va,Or,ri),fetchers:new Map(g.fetchers)}),ne=!1)}async function Iy(b,j,C,R,D,F,z,M,H){let V=g.fetchers.get(b);Tr(b,hi(H,V?V.data:void 0),{flushSync:z});let W=new AbortController,B=ss(e.history,C,W.signal);if(F){let he=await ma(R,new URL(B.url).pathname,B.signal,b);if(he.type==="aborted")return;if(he.type==="error"){hr(b,j,he.error,{flushSync:z});return}else if(he.matches)R=he.matches;else{hr(b,j,Rt(404,{pathname:C}),{flushSync:z});return}}let G=io(R,C);se.set(b,W);let ge=Ne,Be=Es(s,i,B,R,G,n,D),ve=(await Zs(B,Be,D,b))[G.route.id];if(se.get(b)===W&&se.delete(b),!B.signal.aborted){if(Pe.has(b)){Tr(b,Ir(void 0));return}if(Rn(ve))if(A>ge){Tr(b,Ir(void 0));return}else{q.add(b),await vn(B,ve,!1,{preventScrollReset:M});return}if(bt(ve)){hr(b,j,ve.error);return}Tr(b,Ir(ve.data))}}async function vn(b,j,C,{submission:R,fetcherSubmission:D,preventScrollReset:F,replace:z}={}){j.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let M=j.response.headers.get("Location");Y(M,"Expected a Location header on the redirect Response"),M=hf(M,new URL(b.url),l);let H=Xi(g.location,M,{_isRedirect:!0});if(r){let Be=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(fd(M)){const Ze=Pg(M,!0);Be=Ze.origin!==t.location.origin||Ut(Ze.pathname,l)==null}if(Be){z?t.location.replace(M):t.location.assign(M);return}}L=null;let V=z===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:W,formAction:B,formEncType:G}=g.navigation;!R&&!D&&W&&B&&G&&(R=wf(g.navigation));let ge=R||D;if(bx.has(j.response.status)&&ge&&pt(ge.formMethod))await yn(V,H,{submission:{...ge,formAction:M},preventScrollReset:F||N,enableViewTransition:C?I:void 0});else{let Be=Jl(H,R);await yn(V,H,{overrideNavigation:Be,fetcherSubmission:D,preventScrollReset:F||N,enableViewTransition:C?I:void 0})}}async function Zs(b,j,C,R){let D,F={};try{D=await Lx(u,b,j,R,C,!1)}catch(z){return j.filter(M=>M.shouldLoad).forEach(M=>{F[M.route.id]={type:"error",error:z}}),F}if(b.signal.aborted)return F;for(let[z,M]of Object.entries(D))if(Fx(M)){let H=M.result;F[z]={type:"redirect",response:$x(H,b,z,j,l)}}else F[z]=await Ix(M);return F}async function Cd(b,j,C,R){let D=Zs(C,b,R,null),F=Promise.all(j.map(async H=>{if(H.matches&&H.match&&H.request&&H.controller){let W=(await Zs(H.request,H.matches,R,H.key))[H.match.route.id];return{[H.key]:W}}else return Promise.resolve({[H.key]:{type:"error",error:Rt(404,{pathname:H.path})}})})),z=await D,M=(await F).reduce((H,V)=>Object.assign(H,V),{});return{loaderResults:z,fetcherResults:M}}function gl(){ne=!0,ee.forEach((b,j)=>{se.has(j)&&Se.add(j),Rr(j)})}function Tr(b,j,C={}){g.fetchers.set(b,j),ze({fetchers:new Map(g.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function hr(b,j,C,R={}){let D=Hr(g.matches,j);yl(b),ze({errors:{[D.route.id]:C},fetchers:new Map(g.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function Nd(b){return ie.set(b,(ie.get(b)||0)+1),Pe.has(b)&&Pe.delete(b),g.fetchers.get(b)||kx}function yl(b){let j=g.fetchers.get(b);se.has(b)&&!(j&&j.state==="loading"&&U.has(b))&&Rr(b),ee.delete(b),U.delete(b),q.delete(b),Pe.delete(b),Se.delete(b),g.fetchers.delete(b)}function $y(b){let j=(ie.get(b)||0)-1;j<=0?(ie.delete(b),Pe.add(b)):ie.set(b,j),ze({fetchers:new Map(g.fetchers)})}function Rr(b){let j=se.get(b);j&&(j.abort(),se.delete(b))}function Td(b){for(let j of b){let C=Nd(j),R=Ir(C.data);g.fetchers.set(j,R)}}function Rd(){let b=[],j=!1;for(let C of q){let R=g.fetchers.get(C);Y(R,`Expected fetcher: ${C}`),R.state==="loading"&&(q.delete(C),b.push(C),j=!0)}return Td(b),j}function Od(b){let j=[];for(let[C,R]of U)if(R<b){let D=g.fetchers.get(C);Y(D,`Expected fetcher: ${C}`),D.state==="loading"&&(Rr(C),U.delete(C),j.push(C))}return Td(j),j.length>0}function My(b,j){let C=g.blockers.get(b)||di;return Ye.get(b)!==j&&Ye.set(b,j),C}function Ld(b){g.blockers.delete(b),Ye.delete(b)}function fa(b,j){let C=g.blockers.get(b)||di;Y(C.state==="unblocked"&&j.state==="blocked"||C.state==="blocked"&&j.state==="blocked"||C.state==="blocked"&&j.state==="proceeding"||C.state==="blocked"&&j.state==="unblocked"||C.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${C.state} -> ${j.state}`);let R=new Map(g.blockers);R.set(b,j),ze({blockers:R})}function Ad({currentLocation:b,nextLocation:j,historyAction:C}){if(Ye.size===0)return;Ye.size>1&&je(!1,"A router only supports one blocker at a time");let R=Array.from(Ye.entries()),[D,F]=R[R.length-1],z=g.blockers.get(D);if(!(z&&z.state==="proceeding")&&F({currentLocation:b,nextLocation:j,historyAction:C}))return D}function vl(b){let j=Rt(404,{pathname:b}),C=o||a,{matches:R,route:D}=yf(C);return{notFoundMatches:R,route:D,error:j}}function Uy(b,j,C){if(w=b,S=j,x=C||null,!E&&g.navigation===Gl){E=!0;let R=Id(g.location,g.matches);R!=null&&ze({restoreScrollPosition:R})}return()=>{w=null,S=null,x=null}}function Dd(b,j){return x&&x(b,j.map(R=>ex(R,g.loaderData)))||b.key}function Fy(b,j){if(w&&S){let C=Dd(b,j);w[C]=S()}}function Id(b,j){if(w){let C=Dd(b,j),R=w[C];if(typeof R=="number")return R}return null}function pa(b,j,C){if(e.patchRoutesOnNavigation)if(b){if(Object.keys(b[0].params).length>0)return{active:!0,matches:so(j,C,l,!0)}}else return{active:!0,matches:so(j,C,l,!0)||[]};return{active:!1,matches:null}}async function ma(b,j,C,R){if(!e.patchRoutesOnNavigation)return{type:"success",matches:b};let D=b;for(;;){let F=o==null,z=o||a,M=i;try{await e.patchRoutesOnNavigation({signal:C,path:j,matches:D,fetcherKey:R,patch:(W,B)=>{C.aborted||lf(W,B,z,M,s,!1)}})}catch(W){return{type:"error",error:W,partialMatches:D}}finally{F&&!C.aborted&&(a=[...a])}if(C.aborted)return{type:"aborted"};let H=Br(z,j,l);if(H)return{type:"success",matches:H};let V=so(z,j,l,!0);if(!V||D.length===V.length&&D.every((W,B)=>W.route.id===V[B].route.id))return{type:"success",matches:null};D=V}}function zy(b){i={},o=Zi(b,s,void 0,i)}function By(b,j,C=!1){let R=o==null;lf(b,j,o||a,i,s,C),R&&(a=[...a],ze({}))}return k={get basename(){return l},get future(){return d},get state(){return g},get routes(){return a},get window(){return t},initialize:Gn,subscribe:Ny,enableScrollRestoration:Uy,navigate:jd,fetch:Ay,revalidate:Ty,createHref:b=>e.history.createHref(b),encodeLocation:b=>e.history.encodeLocation(b),getFetcher:Nd,deleteFetcher:$y,dispose:Cy,getBlocker:My,deleteBlocker:Ld,patchRoutes:By,_internalFetchControllers:se,_internalSetRoutes:zy,_internalSetStateDoNotUseOrYouWillBreakYourApp(b){ze(b)}},k}function Cx(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ec(e,t,r,n,s,i){let a,o;if(s){a=[];for(let u of t)if(a.push(u),u.route.id===s){o=u;break}}else a=t,o=t[t.length-1];let l=sl(n||".",nl(a),Ut(e.pathname,r)||e.pathname,i==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&o){let u=pd(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(l.search),h=d.getAll("index");d.delete("index"),h.filter(w=>w).forEach(w=>d.append("index",w));let f=d.toString();l.search=f?`?${f}`:""}}return r!=="/"&&(l.pathname=fx({basename:r,pathname:l.pathname})),cn(l)}function af(e,t,r){if(!r||!Cx(r))return{path:t};if(r.formMethod&&!zx(r.formMethod))return{path:t,error:Rt(405,{method:r.formMethod})};let n=()=>({path:t,error:Rt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=Fg(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!pt(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[w,x])=>`${f}${w}=${x}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!pt(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}Y(typeof FormData=="function","FormData is not available in this environment");let o,l;if(r.formData)o=nc(r.formData),l=r.formData;else if(r.body instanceof FormData)o=nc(r.body),l=r.body;else if(r.body instanceof URLSearchParams)o=r.body,l=ff(o);else if(r.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(r.body),l=ff(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(pt(u.formMethod))return{path:t,submission:u};let d=pn(t);return e&&d.search&&pd(d.search)&&o.append("index",""),d.search=`?${o}`,{path:cn(d),submission:u}}function of(e,t,r,n,s,i,a,o,l,u,d,h,f,w,x,S,E,p,y,m){var ht;let v=m?bt(m[1])?m[1].error:m[1].data:void 0,k=s.createURL(i.location),g=s.createURL(l),P;if(d&&i.errors){let ne=Object.keys(i.errors)[0];P=a.findIndex(Se=>Se.route.id===ne)}else if(m&&bt(m[1])){let ne=m[0];P=a.findIndex(Se=>Se.route.id===ne)-1}let N=m?m[1].statusCode:void 0,L=N&&N>=400,I={currentUrl:k,currentParams:((ht=i.matches[0])==null?void 0:ht.params)||{},nextUrl:g,nextParams:a[0].params,...o,actionResult:v,actionStatus:N},oe=a.map((ne,Se)=>{let{route:se}=ne,Ne=null;if(P!=null&&Se>P?Ne=!1:se.lazy?Ne=!0:se.loader==null?Ne=!1:d?Ne=tc(se,i.loaderData,i.errors):Nx(i.loaderData,i.matches[Se],ne)&&(Ne=!0),Ne!==null)return rc(r,n,e,ne,u,t,Ne);let A=L?!1:h||k.pathname+k.search===g.pathname+g.search||k.search!==g.search||Tx(i.matches[Se],ne),U={...I,defaultShouldRevalidate:A},q=Io(ne,U);return rc(r,n,e,ne,u,t,q,U)}),_t=[];return x.forEach((ne,Se)=>{if(d||!a.some(Pe=>Pe.route.id===ne.routeId)||w.has(Se))return;let se=i.fetchers.get(Se),Ne=se&&se.state!=="idle"&&se.data===void 0,A=Br(E,ne.path,p);if(!A){if(y&&Ne)return;_t.push({key:Se,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(S.has(Se))return;let U=io(A,ne.path),q=new AbortController,ee=ss(s,ne.path,q.signal),ie=null;if(f.has(Se))f.delete(Se),ie=Es(r,n,ee,A,U,u,t);else if(Ne)h&&(ie=Es(r,n,ee,A,U,u,t));else{let Pe={...I,defaultShouldRevalidate:L?!1:h};Io(U,Pe)&&(ie=Es(r,n,ee,A,U,u,t,Pe))}ie&&_t.push({key:Se,routeId:ne.routeId,path:ne.path,matches:ie,match:U,request:ee,controller:q})}),{dsMatches:oe,revalidatingFetchers:_t}}function tc(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function Nx(e,t,r){let n=!t||r.route.id!==t.route.id,s=!e.hasOwnProperty(r.route.id);return n||s}function Tx(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Io(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function lf(e,t,r,n,s,i){let a;if(e){let u=n[e];Y(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],l=[];if(t.forEach(u=>{let d=a.find(h=>Ag(u,h));d?l.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Zi(o,s,[e||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:d,newRoute:h}=l[u],f=d,[w]=Zi([h],s,[],{},!0);Object.assign(f,{element:w.element?w.element:f.element,errorElement:w.errorElement?w.errorElement:f.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:f.hydrateFallbackElement})}}function Ag(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Ag(r,i))}):!1}var uf=new WeakMap,Dg=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let s=r[t.id];if(Y(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[e];if(!i)return;let a=uf.get(s);a||(a={},uf.set(s,a));let o=a[e];if(o)return o;let l=(async()=>{let u=Jw(e),h=s[e]!==void 0&&e!=="hasErrorBoundary";if(u)je(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(h)je(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[e]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[e]=l,l},cf=new WeakMap;function Rx(e,t,r,n,s){let i=r[e.id];if(Y(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=cf.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{Y(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),w={};for(let x in f){let S=f[x];if(S===void 0)continue;let E=Xw(x),y=i[x]!==void 0&&x!=="hasErrorBoundary";E?je(!E,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):y?je(!y,`Route "${i.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):w[x]=S}Object.assign(i,w),Object.assign(i,{...n(i),lazy:void 0})})();return cf.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(e.lazy),o=[],l;for(let d of a){if(s&&s.includes(d))continue;let h=Dg({key:d,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),d===t&&(l=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function df(e){let t=e.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,i)=>{r[t[i].route.id]=s}),r}async function Ox(e){if(!e.matches.some(r=>r.route.unstable_middleware))return df(e);let t=!1;return $g(e,()=>(t=!0,df(e)),(r,n)=>Ig(r,n,e.matches,t))}function Ig(e,t,r,n){if(n)return{[t]:{type:"error",result:e}};{let s=Math.min(r.findIndex(a=>a.route.id===t)||0,r.findIndex(a=>a.unstable_shouldCallHandler())||0);return{[Hr(r,r[s].route.id).route.id]:{type:"error",result:e}}}}async function $g(e,t,r){let{matches:n,request:s,params:i,context:a}=e,o=n.flatMap(u=>u.route.unstable_middleware?u.route.unstable_middleware.map(d=>[u.route.id,d]):[]),l={};return await Mg({request:s,params:i,context:a},o,t,r,l),l}async function Mg(e,t,r,n,s={},i=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let o=t[i];if(!o){let f=await r();Object.assign(s,f);return}let[l,u]=o,d=!1,h=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0;try{let f=await Mg(e,t,r,n,s,i+1);Object.assign(s,f)}catch(f){let w=await n(f,l);Object.assign(s,w)}};try{let f=await u({request:e.request,params:e.params,context:e.context},h);typeof f<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",f),d||await h()}catch(f){let w=await n(f,l);Object.assign(s,w)}}function Ug(e,t,r,n,s){let i=Dg({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),a=Rx(n.route,pt(r.method)?"action":"loader",t,e,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function rc(e,t,r,n,s,i,a,o=null){let l=!1,u=Ug(e,t,r,n,s);return{...n,_lazyPromises:u,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(d){return l=!0,o?typeof d=="boolean"?Io(n,{...o,defaultShouldRevalidate:d}):Io(n,o):a},resolve(d){return l||a||d&&!pt(r.method)&&(n.route.lazy||n.route.loader)?Ax({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:d,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function Es(e,t,r,n,s,i,a,o=null){return n.map(l=>l.route.id!==s.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ug(e,t,r,l,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rc(e,t,r,l,i,a,!0,o))}async function Lx(e,t,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:t,params:r[0].params,context:s,matches:r},l=await e({...a,fetcherKey:n,unstable_runClientMiddleware:u=>{let d=a,h=!1;return $g(d,()=>(h=!0,u({...d,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(f,w)=>Ig(f,w,r,h))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return l}async function Ax({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:s,scopedContext:i}){let a,o,l=pt(e.method),u=l?"action":"loader",d=h=>{let f,w=new Promise((E,p)=>f=p);o=()=>f(),e.signal.addEventListener("abort",o);let x=E=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:i},...E!==void 0?[E]:[]),S=(async()=>{try{return{type:"data",result:await(s?s(p=>x(p)):x())}}catch(E){return{type:"error",result:E}}})();return Promise.race([S,w])};try{let h=l?t.route.action:t.route.loader;if(r||n)if(h){let f,[w]=await Promise.all([d(h).catch(x=>{f=x}),r,n]);if(f!==void 0)throw f;a=w}else{await r;let f=l?t.route.action:t.route.loader;if(f)[a]=await Promise.all([d(f),n]);else if(u==="action"){let w=new URL(e.url),x=w.pathname+w.search;throw Rt(405,{method:e.method,pathname:x,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)a=await d(h);else{let f=new URL(e.url),w=f.pathname+f.search;throw Rt(404,{pathname:w})}}catch(h){return{type:"error",result:h}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function Dx(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Ix(e){var n,s,i,a,o,l;let{result:t,type:r}=e;if(zg(t)){let u;try{u=await Dx(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new Do(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?vf(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Do(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:ea(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ea(t)?t.status:void 0}:vf(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function $x(e,t,r,n,s){let i=e.headers.get("Location");if(Y(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!fd(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=ec(new URL(t.url),a,s,i),e.headers.set("Location",i)}return e}function hf(e,t,r){if(fd(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Ut(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function ss(e,t,r,n){let s=e.createURL(Fg(t)).toString(),i={signal:r};if(n&&pt(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=nc(n.formData):i.body=n.formData}return new Request(s,i)}function nc(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function ff(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Mx(e,t,r,n=!1,s=!1){let i={},a=null,o,l=!1,u={},d=r&&bt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,w=t[f];if(Y(!Rn(w),"Cannot handle redirect results in processLoaderData"),bt(w)){let x=w.error;if(d!==void 0&&(x=d,d=void 0),a=a||{},s)a[f]=x;else{let S=Hr(e,f);a[S.route.id]==null&&(a[S.route.id]=x)}n||(i[f]=Lg),l||(l=!0,o=ea(w.error)?w.error.status:500),w.headers&&(u[f]=w.headers)}else i[f]=w.data,w.statusCode&&w.statusCode!==200&&!l&&(o=w.statusCode),w.headers&&(u[f]=w.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function pf(e,t,r,n,s,i){let{loaderData:a,errors:o}=Mx(t,r,n);return s.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:d,controller:h}=l;if(h&&h.signal.aborted)return;let f=i[u];if(Y(f,"Did not find corresponding fetcher result"),bt(f)){let w=Hr(e.matches,d==null?void 0:d.route.id);o&&o[w.route.id]||(o={...o,[w.route.id]:f.error}),e.fetchers.delete(u)}else if(Rn(f))Y(!1,"Unhandled fetcher revalidation redirect");else{let w=Ir(f.data);e.fetchers.set(u,w)}}),{loaderData:a,errors:o}}function mf(e,t,r,n){let s=Object.entries(t).filter(([,i])=>i!==Lg).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&i.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function gf(e){return e?bt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Hr(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function yf(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Rt(e,{pathname:t,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Do(e||500,a,new Error(o),!0)}function Ua(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Rn(s))return{key:n,result:s}}}function Fg(e){let t=typeof e=="string"?pn(e):e;return cn({...t,hash:""})}function Ux(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Fx(e){return zg(e.result)&&Sx.has(e.result.status)}function bt(e){return e.type==="error"}function Rn(e){return(e&&e.type)==="redirect"}function vf(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function zg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function zx(e){return _x.has(e.toUpperCase())}function pt(e){return wx.has(e.toUpperCase())}function pd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function io(e,t){let r=typeof t=="string"?pn(t).search:t.search;if(e[e.length-1].route.index&&pd(r||""))return e[e.length-1];let n=Tg(e);return n[n.length-1]}function wf(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Jl(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Bx(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function hi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hx(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ir(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qx(e,t){try{let r=e.sessionStorage.getItem(Og);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function Wx(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(Og,JSON.stringify(r))}catch(n){je(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Vx(){let e,t,r=new Promise((n,s)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Kn=_.createContext(null);Kn.displayName="DataRouter";var ua=_.createContext(null);ua.displayName="DataRouterState";_.createContext(!1);var md=_.createContext({isTransitioning:!1});md.displayName="ViewTransition";var Bg=_.createContext(new Map);Bg.displayName="Fetchers";var Kx=_.createContext(null);Kx.displayName="Await";var Zt=_.createContext(null);Zt.displayName="Navigation";var il=_.createContext(null);il.displayName="Location";var Ft=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var gd=_.createContext(null);gd.displayName="RouteError";function Qx(e,{relative:t}={}){Y(Js(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Zt),{hash:s,pathname:i,search:a}=ca(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:dr([r,i])),n.createHref({pathname:o,search:a,hash:s})}function Js(){return _.useContext(il)!=null}function er(){return Y(Js(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(il).location}var Hg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qg(e){_.useContext(Zt).static||_.useLayoutEffect(e)}function mn(){let{isDataRoute:e}=_.useContext(Ft);return e?l_():Gx()}function Gx(){Y(Js(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Kn),{basename:t,navigator:r}=_.useContext(Zt),{matches:n}=_.useContext(Ft),{pathname:s}=er(),i=JSON.stringify(nl(n)),a=_.useRef(!1);return qg(()=>{a.current=!0}),_.useCallback((l,u={})=>{if(je(a.current,Hg),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=sl(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:dr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}var Jx=_.createContext(null);function Yx(e){let t=_.useContext(Ft).outlet;return t&&_.createElement(Jx.Provider,{value:e},t)}function gk(){let{matches:e}=_.useContext(Ft),t=e[e.length-1];return t?t.params:{}}function ca(e,{relative:t}={}){let{matches:r}=_.useContext(Ft),{pathname:n}=er(),s=JSON.stringify(nl(r));return _.useMemo(()=>sl(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Xx(e,t,r,n){Y(Js(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(Zt),{matches:i}=_.useContext(Ft),a=i[i.length-1],o=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let p=d&&d.path||"";Vg(l,!d||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=er(),f;f=h;let w=f.pathname||"/",x=w;if(u!=="/"){let p=u.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(p.length).join("/")}let S=Br(e,{pathname:x});return je(d||S!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),je(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),n_(S&&S.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:dr([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:dr([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n)}function Zx(){let e=o_(),t=ea(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,a)}var e_=_.createElement(Zx,null),t_=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(Ft.Provider,{value:this.props.routeContext},_.createElement(gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r_({routeContext:e,match:t,children:r}){let n=_.useContext(Kn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ft.Provider,{value:e},r)}function n_(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);Y(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(r)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:d,errors:h}=r,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,u,d)=>{let h,f=!1,w=null,x=null;r&&(h=i&&u.route.id?i[u.route.id]:void 0,w=u.route.errorElement||e_,a&&(o<0&&d===0?(Vg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,x=null):o===d&&(f=!0,x=u.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,d+1)),E=()=>{let p;return h?p=w:f?p=x:u.route.Component?p=_.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=l,_.createElement(r_,{match:u,routeContext:{outlet:l,matches:S,isDataRoute:r!=null},children:p})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?_.createElement(t_,{location:r.location,revalidation:r.revalidation,component:w,error:h,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}function yd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s_(e){let t=_.useContext(Kn);return Y(t,yd(e)),t}function Wg(e){let t=_.useContext(ua);return Y(t,yd(e)),t}function i_(e){let t=_.useContext(Ft);return Y(t,yd(e)),t}function al(e){let t=i_(e),r=t.matches[t.matches.length-1];return Y(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function a_(){return al("useRouteId")}function yk(){let e=Wg("useLoaderData"),t=al("useLoaderData");return e.loaderData[t]}function o_(){var n;let e=_.useContext(gd),t=Wg("useRouteError"),r=al("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function l_(){let{router:e}=s_("useNavigate"),t=al("useNavigate"),r=_.useRef(!1);return qg(()=>{r.current=!0}),_.useCallback(async(s,i={})=>{je(r.current,Hg),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var xf={};function Vg(e,t,r){!t&&!xf[e]&&(xf[e]=!0,je(!1,r))}var _f={};function Sf(e,t){!e&&!_f[t]&&(_f[t]=!0,console.warn(t))}function u_(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&je(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:_.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&je(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&je(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var c_=["HydrateFallback","hydrateFallbackElement"],d_=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function h_({router:e,flushSync:t}){let[r,n]=_.useState(e.state),[s,i]=_.useState(),[a,o]=_.useState({isTransitioning:!1}),[l,u]=_.useState(),[d,h]=_.useState(),[f,w]=_.useState(),x=_.useRef(new Map),S=_.useCallback((m,{deletedFetchers:v,flushSync:k,viewTransitionOpts:g})=>{m.fetchers.forEach((N,L)=>{N.data!==void 0&&x.current.set(L,N.data)}),v.forEach(N=>x.current.delete(N)),Sf(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Sf(g==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!g||!P){t&&k?t(()=>n(m)):_.startTransition(()=>n(m));return}if(t&&k){t(()=>{d&&(l&&l.resolve(),d.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation})});let N=e.window.document.startViewTransition(()=>{t(()=>n(m))});N.finished.finally(()=>{t(()=>{u(void 0),h(void 0),i(void 0),o({isTransitioning:!1})})}),t(()=>h(N));return}d?(l&&l.resolve(),d.skipTransition(),w({state:m,currentLocation:g.currentLocation,nextLocation:g.nextLocation})):(i(m),o({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}))},[e.window,t,d,l]);_.useLayoutEffect(()=>e.subscribe(S),[e,S]),_.useEffect(()=>{a.isTransitioning&&!a.flushSync&&u(new d_)},[a]),_.useEffect(()=>{if(l&&s&&e.window){let m=s,v=l.promise,k=e.window.document.startViewTransition(async()=>{_.startTransition(()=>n(m)),await v});k.finished.finally(()=>{u(void 0),h(void 0),i(void 0),o({isTransitioning:!1})}),h(k)}},[s,l,e.window]),_.useEffect(()=>{l&&s&&r.location.key===s.location.key&&l.resolve()},[l,d,r.location,s]),_.useEffect(()=>{!a.isTransitioning&&f&&(i(f.state),o({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),w(void 0))},[a.isTransitioning,f]);let E=_.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:m=>e.navigate(m),push:(m,v,k)=>e.navigate(m,{state:v,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(m,v,k)=>e.navigate(m,{replace:!0,state:v,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),p=e.basename||"/",y=_.useMemo(()=>({router:e,navigator:E,static:!1,basename:p}),[e,E,p]);return _.createElement(_.Fragment,null,_.createElement(Kn.Provider,{value:y},_.createElement(ua.Provider,{value:r},_.createElement(Bg.Provider,{value:x.current},_.createElement(md.Provider,{value:a},_.createElement(m_,{basename:p,location:r.location,navigationType:r.historyAction,navigator:E},_.createElement(f_,{routes:e.routes,future:e.future,state:r})))))),null)}var f_=_.memo(p_);function p_({routes:e,future:t,state:r}){return Xx(e,void 0,r,t)}function rt({to:e,replace:t,state:r,relative:n}){Y(Js(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=_.useContext(Zt);je(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext(Ft),{pathname:a}=er(),o=mn(),l=sl(e,nl(i),a,n==="path"),u=JSON.stringify(l);return _.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function bf(e){return Yx(e.context)}function m_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Y(!Js(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=_.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=pn(r));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,w=_.useMemo(()=>{let x=Ut(l,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:h,key:f},navigationType:n}},[a,l,u,d,h,f,n]);return je(w!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:_.createElement(Zt.Provider,{value:o},_.createElement(il.Provider,{children:t,value:w}))}var ao="get",oo="application/x-www-form-urlencoded";function ol(e){return e!=null&&typeof e.tagName=="string"}function g_(e){return ol(e)&&e.tagName.toLowerCase()==="button"}function y_(e){return ol(e)&&e.tagName.toLowerCase()==="form"}function v_(e){return ol(e)&&e.tagName.toLowerCase()==="input"}function w_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function x_(e,t){return e.button===0&&(!t||t==="_self")&&!w_(e)}var Fa=null;function __(){if(Fa===null)try{new FormData(document.createElement("form"),0),Fa=!1}catch{Fa=!0}return Fa}var S_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yl(e){return e!=null&&!S_.has(e)?(je(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oo}"`),null):e}function b_(e,t){let r,n,s,i,a;if(y_(e)){let o=e.getAttribute("action");n=o?Ut(o,t):null,r=e.getAttribute("method")||ao,s=Yl(e.getAttribute("enctype"))||oo,i=new FormData(e)}else if(g_(e)||v_(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?Ut(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||ao,s=Yl(e.getAttribute("formenctype"))||Yl(o.getAttribute("enctype"))||oo,i=new FormData(o,e),!__()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(ol(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ao,n=null,s=oo,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k_(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Ut(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function E_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function P_(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await E_(i,r);return a.links?a.links():[]}return[]}));return R_(n.flat(1).filter(j_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function kf(e,t,r,n,s,i){let a=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var d;return r[u].pathname!==l.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>a(l,u)||o(l,u)):i==="data"?t.filter((l,u)=>{var h;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function C_(e,t,{includeHydrateFallback:r}={}){return N_(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function N_(e){return[...new Set(e)]}function T_(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function R_(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(T_(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Kg(){let e=_.useContext(Kn);return vd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function O_(){let e=_.useContext(ua);return vd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wd=_.createContext(void 0);wd.displayName="FrameworkContext";function Qg(){let e=_.useContext(wd);return vd(e,"You must render this element inside a <HydratedRouter> element"),e}function L_(e,t){let r=_.useContext(wd),[n,s]=_.useState(!1),[i,a]=_.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=_.useRef(null);_.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let S=p=>{p.forEach(y=>{a(y.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return f.current&&E.observe(f.current),()=>{E.disconnect()}}},[e]),_.useEffect(()=>{if(n){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[n]);let w=()=>{s(!0)},x=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:fi(o,w),onBlur:fi(l,x),onMouseEnter:fi(u,w),onMouseLeave:fi(d,x),onTouchStart:fi(h,w)}]:[!1,f,{}]}function fi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function A_({page:e,...t}){let{router:r}=Kg(),n=_.useMemo(()=>Br(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?_.createElement(I_,{page:e,matches:n,...t}):null}function D_(e){let{manifest:t,routeModules:r}=Qg(),[n,s]=_.useState([]);return _.useEffect(()=>{let i=!1;return P_(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function I_({page:e,matches:t,...r}){let n=er(),{manifest:s,routeModules:i}=Qg(),{basename:a}=Kg(),{loaderData:o,matches:l}=O_(),u=_.useMemo(()=>kf(e,t,l,s,n,"data"),[e,t,l,s,n]),d=_.useMemo(()=>kf(e,t,l,s,n,"assets"),[e,t,l,s,n]),h=_.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,S=!1;if(t.forEach(p=>{var m;let y=s.routes[p.route.id];!y||!y.hasLoader||(!u.some(v=>v.route.id===p.route.id)&&p.route.id in o&&((m=i[p.route.id])!=null&&m.shouldRevalidate)||y.hasClientLoader?S=!0:x.add(p.route.id))}),x.size===0)return[];let E=k_(e,a,"data");return S&&x.size>0&&E.searchParams.set("_routes",t.filter(p=>x.has(p.route.id)).map(p=>p.route.id).join(",")),[E.pathname+E.search]},[a,o,n,s,u,t,e,i]),f=_.useMemo(()=>C_(d,s),[d,s]),w=D_(d);return _.createElement(_.Fragment,null,h.map(x=>_.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),f.map(x=>_.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),w.map(({key:x,link:S})=>_.createElement("link",{key:x,nonce:r.nonce,...S})))}function $_(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gg&&(window.__reactRouterVersion="7.8.1")}catch{}function M_(e,t){return Px({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:Vw({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||U_(),routes:e,mapRouteProperties:u_,hydrationRouteProperties:c_,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function U_(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:F_(e.errors)}),e}function F_(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Do(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var Jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_r=_.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},w){let{basename:x}=_.useContext(Zt),S=typeof u=="string"&&Jg.test(u),E,p=!1;if(typeof u=="string"&&S&&(E=u,Gg))try{let L=new URL(window.location.href),I=u.startsWith("//")?new URL(L.protocol+u):new URL(u),oe=Ut(I.pathname,x);I.origin===L.origin&&oe!=null?u=oe+I.search+I.hash:p=!0}catch{je(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=Qx(u,{relative:s}),[m,v,k]=L_(n,f),g=q_(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function P(L){t&&t(L),L.defaultPrevented||g(L)}let N=_.createElement("a",{...f,...k,href:E||y,onClick:p||i?t:P,ref:$_(w,v),target:l,"data-discover":!S&&r==="render"?"true":void 0});return m&&!S?_.createElement(_.Fragment,null,N,_.createElement(A_,{page:y})):N});_r.displayName="Link";var z_=_.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...u},d){let h=ca(a,{relative:u.relative}),f=er(),w=_.useContext(ua),{navigator:x,basename:S}=_.useContext(Zt),E=w!=null&&G_(h)&&o===!0,p=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,y=f.pathname,m=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(y=y.toLowerCase(),m=m?m.toLowerCase():null,p=p.toLowerCase()),m&&S&&(m=Ut(m,S)||m);const v=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=y===p||!s&&y.startsWith(p)&&y.charAt(v)==="/",g=m!=null&&(m===p||!s&&m.startsWith(p)&&m.charAt(p.length)==="/"),P={isActive:k,isPending:g,isTransitioning:E},N=k?t:void 0,L;typeof n=="function"?L=n(P):L=[n,k?"active":null,g?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(P):i;return _.createElement(_r,{...u,"aria-current":N,className:L,ref:d,style:I,to:a,viewTransition:o},typeof l=="function"?l(P):l)});z_.displayName="NavLink";var B_=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=ao,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},w)=>{let x=K_(),S=Q_(o,{relative:u}),E=a.toLowerCase()==="get"?"get":"post",p=typeof o=="string"&&Jg.test(o),y=m=>{if(l&&l(m),m.defaultPrevented)return;m.preventDefault();let v=m.nativeEvent.submitter,k=(v==null?void 0:v.getAttribute("formmethod"))||a;x(v||m.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return _.createElement("form",{ref:w,method:E,action:S,onSubmit:n?l:y,...f,"data-discover":!p&&e==="render"?"true":void 0})});B_.displayName="Form";function H_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yg(e){let t=_.useContext(Kn);return Y(t,H_(e)),t}function q_(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=mn(),l=er(),u=ca(e,{relative:i});return _.useCallback(d=>{if(x_(d,t)){d.preventDefault();let h=r!==void 0?r:cn(l)===cn(u);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,u,r,n,t,e,s,i,a])}var W_=0,V_=()=>`__${String(++W_)}__`;function K_(){let{router:e}=Yg("useSubmit"),{basename:t}=_.useContext(Zt),r=a_();return _.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:l,body:u}=b_(n,t);if(s.navigate===!1){let d=s.fetcherKey||V_();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function Q_(e,{relative:t}={}){let{basename:r}=_.useContext(Zt),n=_.useContext(Ft);Y(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ca(e||".",{relative:t})},a=er();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:dr([r,i.pathname])),cn(i)}function G_(e,{relative:t}={}){let r=_.useContext(md);Y(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Yg("useViewTransitionState"),s=ca(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ut(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ut(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ao(s.pathname,a)!=null||Ao(s.pathname,i)!=null}function J_(e){return _.createElement(h_,{flushSync:gg.flushSync,...e})}const Y_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Je(async()=>{const{default:n}=await Promise.resolve().then(()=>Ys);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class X_ extends xd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ef extends xd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jf extends xd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sc||(sc={}));var Z_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class e1{constructor(t,{headers:r={},customFetch:n,region:s=sc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Y_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Z_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(S=>{throw new X_(S)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Ef(h);if(!h.ok)throw new jf(h);let w=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield h.json():w==="application/octet-stream"?x=yield h.blob():w==="text/event-stream"?x=h:w==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof jf||s instanceof Ef?s.context:void 0}}})}}var gt={},_d={},ll={},da={},ul={},cl={},t1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bs=t1();const r1=Bs.fetch,Xg=Bs.fetch.bind(Bs),Zg=Bs.Headers,n1=Bs.Request,s1=Bs.Response,Ys=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zg,Request:n1,Response:s1,default:Xg,fetch:r1},Symbol.toStringTag,{value:"Module"})),i1=Wy(Ys);var dl={};Object.defineProperty(dl,"__esModule",{value:!0});let a1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dl.default=a1;var ey=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cl,"__esModule",{value:!0});const o1=ey(i1),l1=ey(dl);let u1=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=o1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,d=null,h=null,f=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const S=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),E=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");S&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,w="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{u=JSON.parse(S),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,w="OK")}catch{i.status===404&&S===""?(f=204,w="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,w="OK"),u&&this.shouldThrowOnError)throw new l1.default(u)}return{error:u,data:d,count:h,status:f,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};cl.default=u1;var c1=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ul,"__esModule",{value:!0});const d1=c1(cl);let h1=class extends d1.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ul.default=h1;var f1=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(da,"__esModule",{value:!0});const p1=f1(ul);let m1=class extends p1.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};da.default=m1;var g1=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ll,"__esModule",{value:!0});const pi=g1(da);let y1=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new pi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new pi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new pi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new pi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new pi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ll.default=y1;var hl={},fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.version=void 0;fl.version="0.0.0-automated";Object.defineProperty(hl,"__esModule",{value:!0});hl.DEFAULT_HEADERS=void 0;const v1=fl;hl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${v1.version}`};var ty=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_d,"__esModule",{value:!0});const w1=ty(ll),x1=ty(da),_1=hl;let S1=class ry{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},_1.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new w1.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ry(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new x1.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};_d.default=S1;var Xs=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;const ny=Xs(_d);gt.PostgrestClient=ny.default;const sy=Xs(ll);gt.PostgrestQueryBuilder=sy.default;const iy=Xs(da);gt.PostgrestFilterBuilder=iy.default;const ay=Xs(ul);gt.PostgrestTransformBuilder=ay.default;const oy=Xs(cl);gt.PostgrestBuilder=oy.default;const ly=Xs(dl);gt.PostgrestError=ly.default;var b1=gt.default={PostgrestClient:ny.default,PostgrestQueryBuilder:sy.default,PostgrestFilterBuilder:iy.default,PostgrestTransformBuilder:ay.default,PostgrestBuilder:oy.default,PostgrestError:ly.default};const{PostgrestClient:k1,PostgrestQueryBuilder:kk,PostgrestFilterBuilder:Ek,PostgrestTransformBuilder:jk,PostgrestBuilder:Pk,PostgrestError:Ck}=b1;class E1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const j1="2.15.1",P1=`realtime-js/${j1}`,C1="1.0.0",ic=1e4,N1=1e3,T1=100;var Ti;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ti||(Ti={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var Qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qt||(Qt={}));var ac;(function(e){e.websocket="websocket"})(ac||(ac={}));var Pn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pn||(Pn={}));class R1{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const l=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class uy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ue||(ue={}));const Pf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=O1(a,e,t,s),i),{})},O1=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?cy(i,a):oc(a)},cy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return I1(t,r)}switch(e){case ue.bool:return L1(t);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return A1(t);case ue.json:case ue.jsonb:return D1(t);case ue.timestamp:return $1(t);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return oc(t);default:return oc(t)}},oc=e=>e,L1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},D1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},I1=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>cy(t,o))}return e},$1=e=>typeof e=="string"?e.replace(" ","T"):e,dy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xl{constructor(t,r,n={},s=ic){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cf||(Cf={}));class Ri{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Ri.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ri.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(E=>E.presence_ref),w=h.map(E=>E.presence_ref),x=d.filter(E=>w.indexOf(E.presence_ref)<0),S=h.filter(E=>f.indexOf(E.presence_ref)<0);x.length>0&&(o[u]=x),S.length>0&&(l[u]=S)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const h=t[o].map(w=>w.presence_ref),f=d.filter(w=>h.indexOf(w.presence_ref)<0);t[o].unshift(...f)}n(o,d,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nf||(Nf={}));var Oi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oi||(Oi={}));var gr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class Sd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xl(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new uy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ri(this),this.broadcastEndpointURL=dy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Oi.PRESENCE]&&this.bindings[Oi.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(gr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var w;if(this.socket.setAuth(),f===void 0){t==null||t(gr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,E=[];for(let p=0;p<S;p++){const y=x[p],{filter:{event:m,schema:v,table:k,filter:g}}=y,P=f&&f[p];if(P&&P.event===m&&P.schema===v&&P.table===k&&P.filter===g)E.push(Object.assign(Object.assign({},y),{id:P.id}));else{this.unsubscribe(),this.state=Re.errored,t==null||t(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(gr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Re.errored,t==null||t(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Re.joined&&t===Oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Xl(this,Qt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xl(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>T1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Qt;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var x,S,E;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(S=w.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(w=>w.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(w=>{var x,S,E,p,y,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in w){const v=w.id,k=(x=w.filter)===null||x===void 0?void 0:x.event;return v&&((S=r.ids)===null||S===void 0?void 0:S.includes(v))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const v=(y=(p=w==null?void 0:w.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return v==="*"||v===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===a}).map(w=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:S,table:E,commit_timestamp:p,type:y,errors:m}=x;f=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:p,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(x))}w.callback(f,n)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sd.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Pf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Pf(t.columns,t.old_record)),r}}const Tf=()=>{},za={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},M1=[1e3,2e3,5e3,1e4],U1=1e4,F1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z1{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ic,this.transport=null,this.heartbeatIntervalMs=za.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tf,this.ref=0,this.reconnectTimer=null,this.logger=Tf,this.conn=null,this.sendBuffer=[],this.serializer=new R1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Je(async()=>{const{default:o}=await Promise.resolve().then(()=>Ys);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ac.websocket}`,this.httpEndpoint=dy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:C1}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ti.connecting:return Pn.Connecting;case Ti.open:return Pn.Open;case Ti.closing:return Pn.Closing;default:return Pn.Closed}}isConnected(){return this.connectionState()===Pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Sd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(N1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},za.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([F1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:P1};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new uy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},za.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ic,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:za.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>M1[d-1]||U1,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class bd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class B1 extends bd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lc extends bd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var H1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const hy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Je(async()=>{const{default:n}=await Promise.resolve().then(()=>Ys);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},q1=()=>H1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Je(()=>Promise.resolve().then(()=>Ys),void 0)).Response:Response}),uc=e=>{if(Array.isArray(e))return e.map(r=>uc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=uc(n)}),t},W1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Qn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const Zl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V1=(e,t,r)=>Qn(void 0,void 0,void 0,function*(){const n=yield q1();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new B1(Zl(s),i,a))}).catch(s=>{t(new lc(Zl(s),s))}):t(new lc(Zl(e),e))}),K1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(W1(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ha(e,t,r,n,s,i){return Qn(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,K1(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>V1(l,o,n))})})}function $o(e,t,r,n){return Qn(this,void 0,void 0,function*(){return ha(e,"GET",t,r,n)})}function sr(e,t,r,n,s){return Qn(this,void 0,void 0,function*(){return ha(e,"POST",t,n,s,r)})}function cc(e,t,r,n,s){return Qn(this,void 0,void 0,function*(){return ha(e,"PUT",t,n,s,r)})}function Q1(e,t,r,n){return Qn(this,void 0,void 0,function*(){return ha(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fy(e,t,r,n,s){return Qn(this,void 0,void 0,function*(){return ha(e,"DELETE",t,n,s,r)})}var et=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const G1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class J1{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=hy(s)}uploadOrUpdate(t,r,n,s){return et(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Rf),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?cc:sr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Rf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield cc(this.fetch,o.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new bd("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}update(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield sr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return et(this,void 0,void 0,function*(){try{const s=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}download(t,r){return et(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield $o(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}info(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $o(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:uc(n),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}exists(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Q1(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Oe(n)&&n instanceof lc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return et(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}list(t,r,n){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},G1),r),{prefix:t||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}listV2(t,r){return et(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Y1="2.11.0",X1={"X-Client-Info":`storage-js/${Y1}`};var Xn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class Z1{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},X1),r),this.fetch=hy(n)}listBuckets(){return Xn(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}})}getBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Xn(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Xn(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}}class eS extends Z1{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new J1(this.url,this.headers,t,this.fetch)}}const tS="2.55.0";let xi="";typeof Deno<"u"?xi="deno":typeof document<"u"?xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xi="react-native":xi="node";const rS={"X-Client-Info":`supabase-js-${xi}/${tS}`},nS={headers:rS},sS={schema:"public"},iS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aS={};var oS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const lS=e=>{let t;return e?t=e:typeof fetch>"u"?t=Xg:t=fetch,(...r)=>t(...r)},uS=()=>typeof Headers>"u"?Zg:Headers,cS=(e,t,r)=>{const n=lS(r),s=uS();return(i,a)=>oS(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var dS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};function hS(e){return e.endsWith("/")?e:e+"/"}function fS(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dS(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const py="2.71.1",is=30*1e3,dc=3,eu=dc*is,pS="http://localhost:9999",mS="supabase.auth.token",gS={"X-Client-Info":`gotrue-js/${py}`},hc="X-Supabase-Api-Version",my={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vS=10*60*1e3;class kd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wS extends kd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xS(e){return J(e)&&e.name==="AuthApiError"}class gy extends kd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class gn extends kd{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $r extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _S(e){return J(e)&&e.name==="AuthSessionMissingError"}class Ba extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ha extends gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qa extends gn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SS(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class Of extends gn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fc extends gn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function tu(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Lf extends gn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pc extends gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Af=` 	
\r=`.split(""),bS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Af.length;t+=1)e[Af[t].charCodeAt(0)]=-2;for(let t=0;t<Mo.length;t+=1)e[Mo[t].charCodeAt(0)]=t;return e})();function Df(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mo[n]),t.queuedBits-=6}}function yy(e,t,r){const n=bS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function If(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{jS(a,n,r)};for(let a=0;a<e.length;a+=1)yy(e.charCodeAt(a),s,i);return t.join("")}function kS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ES(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}kS(n,t)}}function jS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function PS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function CS(e){const t=[];return ES(e,r=>t.push(r)),new Uint8Array(t)}function NS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Df(s,r,n)),Df(null,r,n),t.join("")}function TS(e){return Math.round(Date.now()/1e3)+e}function RS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",_n={tested:!1,writable:!1},vy=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_n.tested)return _n.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_n.tested=!0,_n.writable=!0}catch{_n.tested=!0,_n.writable=!1}return _n.writable};function OS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const wy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Je(async()=>{const{default:n}=await Promise.resolve().then(()=>Ys);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},LS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",as=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Sn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ar=async(e,t)=>{await e.removeItem(t)};class pl{constructor(){this.promise=new pl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}pl.promiseConstructor=Promise;function ru(e){const t=e.split(".");if(t.length!==3)throw new pc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yS.test(t[n]))throw new pc("JWT not in base64url format");return{header:JSON.parse(If(t[0])),payload:JSON.parse(If(t[1])),signature:PS(t[2]),raw:{header:t[0],payload:t[1]}}}async function AS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DS(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function IS(e){return("0"+e.toString(16)).substr(-2)}function $S(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,IS).join("")}async function MS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function US(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await MS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zn(e,t,r=!1){const n=$S();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await as(e,`${t}-code-verifier`,s);const i=await US(n);return[i,n===i?"plain":"s256"]}const FS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zS(e){const t=e.headers.get(hc);if(!t||!t.match(FS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function es(e){if(!qS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $f(e){return JSON.parse(JSON.stringify(e))}var WS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const En=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VS=[502,503,504];async function Mf(e){var t;if(!LS(e))throw new fc(En(e),0);if(VS.includes(e.status))throw new fc(En(e),e.status);let r;try{r=await e.json()}catch(i){throw new gy(En(i),i)}let n;const s=zS(e);if(s&&s.getTime()>=my["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lf(En(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Lf(En(r),e.status,r.weak_password.reasons);throw new wS(En(r),e.status||500,n)}const KS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function X(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[hc]||(i[hc]=my["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await QS(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function QS(e,t,r,n,s,i){const a=KS(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new fc(En(l),0)}if(o.ok||await Mf(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Mf(l)}}function pr(e){var t;let r=null;XS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Uf(e){const t=pr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GS(e){return{data:e,error:null}}function JS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=WS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function YS(e){return e}function XS(e){return e.access_token&&e.refresh_token&&e.expires_in}const su=["global","local","others"];var ZS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class eb{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=wy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=su[0]){if(su.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${su.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ZS(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:JS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:YS});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){es(t);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){es(t);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){es(t);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){es(t.userId);try{const{data:r,error:n}=await X(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(t){es(t.userId),es(t.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}function Ff(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function tb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ts={debug:!!(globalThis&&vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rb extends xy{}async function nb(e,t,r){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ts.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}tb();const sb={url:pS,storageKey:mS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zf(e,t,r){return await r()}const rs={};class ta{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ta.nextInstanceID,ta.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sb),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eb({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wy(s.fetch),this.lock=s.lock||zf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nb:this.lock=zf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=rs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){rs[this.storageKey]=Object.assign(Object.assign({},rs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=rs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){rs[this.storageKey]=Object.assign(Object.assign({},rs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${py}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=OS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),SS(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new gy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:pr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let w=null,x=null;this.flowType==="pkce"&&([w,x]=await Zn(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:w,code_challenge_method:x},xform:pr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pr})}else throw new Ha("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Uf})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Uf})}else throw new Ha("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ba}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,l,u,d,h,f,w;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:E,wallet:p,statement:y,options:m}=t;let v;if(Bt())if(typeof p=="object")v=p;else{const g=window;if("solana"in g&&typeof g.solana=="object"&&("signIn"in g.solana&&typeof g.solana.signIn=="function"||"signMessage"in g.solana&&typeof g.solana.signMessage=="function"))v=g.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=p}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const g=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let P;if(Array.isArray(g)&&g[0]&&typeof g[0]=="object")P=g[0];else if(g&&typeof g=="object"&&"signedMessage"in g&&"signature"in g)P=g;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const g=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!g||!(g instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=g}}try{const{data:E,error:p}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:NS(S)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:pr});if(p)throw p;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Ba}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:p})}catch(E){if(J(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const r=await Sn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:pr});if(await Ar(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ba}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pr}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ba}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zn(this.storage,this.storageKey));const{error:h}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ha("You must provide either an email or phone number.")}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Zn(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:GS})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:s}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await X(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await X(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ha("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<eu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Sn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=nu()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qr})})}catch(r){if(J(r))return _S(r)&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $r;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Zn(this.storage,this.storageKey));const{data:u,error:d}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:qr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ru(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Bt())throw new qa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Of("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new qa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const w=f-d;w*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:S,error:E}=await this._getUser(i);if(E)throw E;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(J(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Sn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(xS(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=RS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Zn(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,d;const{data:h,error:f}=i;if(f)throw f;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Bt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(J(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DS(async s=>(s>0&&await AS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&tu(i)&&Date.now()+a-n<is})}catch(n){if(this._debug(r,"error",n),J(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Sn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await as(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:nu()}else if(s&&!s.user&&!s.user){const a=await Sn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ar(this.storage,this.storageKey+"-user"),await as(this.storage,this.storageKey,s)):s.user=nu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<eu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${eu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),tu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),J(i)){const a={session:null,error:i};return tu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await as(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=$f(s);await as(this.storage,this.storageKey,i)}else{const s=$f(r);await as(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ar(this.storage,this.storageKey),await Ar(this.storage,this.storageKey+"-code-verifier"),await Ar(this.storage,this.storageKey+"-user"),this.userStorage&&await Ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${is}ms, refresh threshold is ${dc} ticks`),s<=dc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Zn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await X(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await X(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ru(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+vS>s)return n;const{data:i,error:a}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:x}=await this.getSession();if(x||!w.session)return{data:null,error:x};n=w.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=ru(n);r!=null&&r.allowExpired||BS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:s,signature:a},error:null}}const d=HS(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,CS(`${o}.${l}`)))throw new pc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}ta.nextInstanceID=0;const ib=ta;class ab extends ib{constructor(t){super(t)}}var ob=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class lb{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=hS(t),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:sS,realtime:aS,auth:Object.assign(Object.assign({},iS),{storageKey:u}),global:nS},h=fS(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=cS(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new k1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new eS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new e1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return ob(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ab({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new z1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ub=(e,t,r)=>new lb(e,t,r);function cb(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const db="https://cxdfcqjtdsfqfnejccto.supabase.co",hb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4ZGZjcWp0ZHNmcWZuZWpjY3RvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyODc2MjcsImV4cCI6MjA3NDg2MzYyN30.-0zSfIFij--VsNsSv5us9acCLeILTuPy6QO6D_RdX3Y",Q=ub(db,hb),fb=async()=>{try{const{data:{session:e}}=await Q.auth.getSession();return e!=null&&e.access_token?e.access_token:null}catch{return null}},at=async()=>{const e=await fb();if(!e)throw new Error("No active session. Please log in again.");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},ot="https://cxdfcqjtdsfqfnejccto.supabase.co/functions/v1";class pb extends Error{constructor(t,r){super(r),this.status=t,this.name="ApiError"}}async function lt(e){const t=await e.json();if(!e.ok)throw new pb(e.status,t.error||"Request failed");return t}const mb={async fetchUserProfile(e){var t;try{const{data:r,error:n}=await Q.from("users").select(`
          id, 
          email, 
          full_name, 
          is_active, 
          needs_password_reset,
          menu_access,
          sub_menu_access,
          component_access,
          created_at,
          updated_at,
          user_roles(
            roles!inner(
              id, 
              name, 
              description,
              role_permissions(
                permissions!inner(
                  id,
                  resource,
                  action,
                  description
                )
              )
            )
          )
        `).eq("id",e).single();if(n)throw n;if(!r)throw new Error("User profile not found");const s=((t=r.user_roles)==null?void 0:t.map(l=>l.roles).filter(Boolean))||[],a=s.flatMap(l=>{var u;return((u=l.role_permissions)==null?void 0:u.map(d=>d.permissions).filter(Boolean))||[]}).filter((l,u,d)=>d.findIndex(h=>h.resource===l.resource&&h.action===l.action)===u);return{...r,roles:s,role_ids:s.map(l=>l.id),permissions:a}}catch(r){throw r}}},Bf={async getRecentActivity(){try{return[{id:"1",type:"user_registered",description:"New user registered to the system",timestamp:new Date(Date.now()-12e4).toISOString(),status:"success"},{id:"2",type:"transaction_approved",description:"Financial transaction approved",timestamp:new Date(Date.now()-3e5).toISOString(),status:"info"},{id:"3",type:"report_generated",description:"System report generated",timestamp:new Date(Date.now()-36e5).toISOString(),status:"warning"},{id:"4",type:"user_updated",description:"User profile updated",timestamp:new Date(Date.now()-108e5).toISOString(),status:"info"}]}catch{return[]}},async getStats(){try{return[{name:"Total Users",value:"2,847",change:"+4.75%",changeType:"positive"},{name:"Active Transactions",value:"1,31,42,000",change:"+8.2%",changeType:"positive"},{name:"Monthly Growth",value:"24.1%",change:"+0.7%",changeType:"positive"},{name:"Reports Generated",value:"152",change:"+4.8%",changeType:"positive"}]}catch{return[]}}},gb={async getUsers(){const e=await at(),t=await fetch(`${ot}/admin-users`,{method:"GET",headers:e});return await lt(t)},async createUser(e){const t=await at(),r=await fetch(`${ot}/admin-users`,{method:"POST",headers:t,body:JSON.stringify(e)});return await lt(r)},async updateUser(e,t){const r=await at(),n=await fetch(`${ot}/admin-users/${e}`,{method:"PUT",headers:r,body:JSON.stringify(t)});return await lt(n)},async deleteUser(e){const t=await at(),r=await fetch(`${ot}/admin-users/${e}`,{method:"DELETE",headers:t});return await lt(r)}},yb={async getRoles(){try{const{data:e,error:t}=await Q.from("roles").select(`
          *,
          role_permissions(
            permissions(
              id,
              resource,
              action,
              description
            )
          )
        `).order("name");if(t)throw t;return(e==null?void 0:e.map(n=>{var s;return{...n,permissions:((s=n.role_permissions)==null?void 0:s.map(i=>i.permissions).filter(Boolean))||[]}}))||[]}catch(e){throw e}}},vb={async getRoles(){const e=await at(),t=await fetch(`${ot}/admin-roles`,{method:"GET",headers:e});return(await lt(t)).roles},async createRole(e){const t=await at(),r=await fetch(`${ot}/admin-roles`,{method:"POST",headers:t,body:JSON.stringify(e)});return await lt(r)},async updateRole(e,t){const r=await at(),n=await fetch(`${ot}/admin-roles/${e}`,{method:"PUT",headers:r,body:JSON.stringify(t)});return await lt(n)},async deleteRole(e){const t=await at(),r=await fetch(`${ot}/admin-roles/${e}`,{method:"DELETE",headers:t});return await lt(r)}},_y={async getPermissions(){const e=await at(),t=await fetch(`${ot}/admin-permissions`,{method:"GET",headers:e});return(await lt(t)).permissions},async createPermission(e){const t=await at(),r=await fetch(`${ot}/admin-permissions`,{method:"POST",headers:t,body:JSON.stringify(e)});return await lt(r)},async updatePermission(e,t){const r=await at(),n=await fetch(`${ot}/admin-permissions/${e}`,{method:"PUT",headers:r,body:JSON.stringify(t)});return await lt(n)},async deletePermission(e){const t=await at(),r=await fetch(`${ot}/admin-permissions/${e}`,{method:"DELETE",headers:t});return await lt(r)}},wb={async updatePassword(e,t=!1){const r=await at(),n=await fetch(`${ot}/update-password`,{method:"POST",headers:r,body:JSON.stringify({newPassword:e,clearNeedsPasswordReset:t})});return await lt(n)}},Nk={async getSubjects(){const{data:e,error:t}=await Q.from("exam_subjects").select("*").order("name");if(t)throw t;return e||[]},async createSubject(e,t){const{data:r,error:n}=await Q.from("exam_subjects").insert({name:e,description:t}).select().single();if(n)throw n;return r},async getExamPapers(){const{data:e,error:t}=await Q.from("exam_papers").select(`
        *,
        subject:exam_subjects(*)
      `).order("year",{ascending:!1}).order("paper_number");if(t)throw t;return e||[]},async getExamPaperById(e){const{data:t,error:r}=await Q.from("exam_papers").select(`
        *,
        subject:exam_subjects(*)
      `).eq("id",e).single();if(r)throw r;return t},async uploadExamPaper(e,t,r){const{data:{user:n}}=await Q.auth.getUser();if(!n)throw new Error("Not authenticated");const s=`${r.subjectId}/${r.year}/${r.paperNumber}_paper_${Date.now()}.pdf`,i=`${r.subjectId}/${r.year}/${r.paperNumber}_scheme_${Date.now()}.pdf`,{error:a}=await Q.storage.from("exam-papers").upload(s,e);if(a)throw a;const{error:o}=await Q.storage.from("marking-schemes").upload(i,t);if(o)throw await Q.storage.from("exam-papers").remove([s]),o;const{data:l,error:u}=await Q.from("exam_papers").insert({subject_id:r.subjectId,year:r.year,paper_number:r.paperNumber,title:r.title,paper_file_url:s,marking_scheme_file_url:i,uploaded_by:n.id}).select().single();if(u)throw await Q.storage.from("exam-papers").remove([s]),await Q.storage.from("marking-schemes").remove([i]),u;return l},async deleteExamPaper(e){const{data:t,error:r}=await Q.from("exam_papers").select("paper_file_url, marking_scheme_file_url").eq("id",e).single();if(r)throw r;const{error:n}=await Q.from("exam_papers").delete().eq("id",e);if(n)throw n;return t&&(await Q.storage.from("exam-papers").remove([t.paper_file_url]),await Q.storage.from("marking-schemes").remove([t.marking_scheme_file_url])),!0},async trackPaperAccess(e){const{data:{user:t}}=await Q.auth.getUser();if(!t)return;const{data:r}=await Q.from("student_paper_interactions").select("*").eq("user_id",t.id).eq("paper_id",e).maybeSingle();r?await Q.from("student_paper_interactions").update({last_accessed_at:new Date().toISOString(),access_count:r.access_count+1}).eq("id",r.id):await Q.from("student_paper_interactions").insert({user_id:t.id,paper_id:e,access_count:1})},async getChatSession(e){const{data:{user:t}}=await Q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Q.from("chat_sessions").select("*").eq("user_id",t.id).eq("paper_id",e).maybeSingle();if(n)throw n;return r},async createChatSession(e){const{data:{user:t}}=await Q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await Q.from("chat_sessions").insert({user_id:t.id,paper_id:e,messages:[]}).select().single();if(n)throw n;return r},async updateChatSession(e,t){const{error:r}=await Q.from("chat_sessions").update({messages:t}).eq("id",e);if(r)throw r},async sendChatMessage(e){const t=await at(),r=await fetch(`${ot}/exam-chat-ai`,{method:"POST",headers:t,body:JSON.stringify(e)});return lt(r)},async getPaperFileUrl(e){const{data:t}=await Q.storage.from("exam-papers").createSignedUrl(e,3600);return(t==null?void 0:t.signedUrl)||null},async extractPDFText(e){const t=await at(),r=await fetch(`${ot}/extract-pdf-text`,{method:"POST",headers:t,body:JSON.stringify({paperId:e})});return lt(r)},async getExamPaperWithText(e){const{data:t,error:r}=await Q.from("exam_papers").select(`
        *,
        subject:exam_subjects(*)
      `).eq("id",e).single();if(r)throw r;return t}},on=new Map,xb=5*60*1e3;let mc=Date.now();function Sy(){const e=Date.now();e-mc>xb&&(on.clear(),mc=e)}function by(e,t,r){return`${e}:${t}:${r}`}function ky(e,t,r){var i,a;if(!e||!e.is_active)return!1;Sy();const n=by(e.id,t,r);if(on.has(n))return on.get(n);let s=!1;return(i=e.roles)!=null&&i.some(o=>o.name==="admin")?s=!0:s=((a=e.permissions)==null?void 0:a.some(o=>o.resource===t&&o.action===r))||!1,on.set(n,s),s}function _b(e){var n;if(!e||!e.is_active)return!1;Sy();const t=by(e.id,"admin","check");if(on.has(t))return on.get(t);const r=((n=e.roles)==null?void 0:n.some(s=>s.name==="admin"))||!1;return on.set(t,r),r}function Hf(){on.clear(),mc=Date.now()}const Sb=15*60*1e3,bb=5*60*1e3,qf="auth_session_cache",ns="cachedUserProfile",Wa="cache_timestamp",Ey=_.createContext(void 0),kb=({children:e})=>{const[t,r]=_.useState(()=>{try{const v=localStorage.getItem(ns);return v?JSON.parse(v):null}catch(v){return console.warn(" Failed to parse cached user profile",v),null}}),[n,s]=_.useState(()=>{try{return!localStorage.getItem(ns)}catch{return!0}}),[i,a]=_.useState(null),[o,l]=_.useState(!1),u=_.useRef(null),d=v=>{if(r(v),v)try{localStorage.setItem(ns,JSON.stringify(v)),localStorage.setItem(Wa,Date.now().toString()),l(!1)}catch(k){console.warn(" Failed to cache user profile in localStorage",k)}else localStorage.removeItem(ns),localStorage.removeItem(Wa),localStorage.removeItem(qf),l(!1)},h=()=>{try{const v=localStorage.getItem(Wa);return v?Date.now()-parseInt(v,10)<bb:!1}catch{return!1}},f=()=>{try{const v=localStorage.getItem(ns);return v?JSON.parse(v):null}catch(v){return console.warn(" Failed to get cached profile",v),null}},w=_.useCallback(()=>{u.current&&(clearTimeout(u.current),u.current=null),t&&(u.current=setTimeout(()=>{console.warn(" User inactive for 15 minutes, logging out..."),E()},Sb))},[t]);_.useEffect(()=>{if(t){w();const v=["mousemove","keydown","click","scroll","touchstart"];return v.forEach(k=>{window.addEventListener(k,w,{passive:!0})}),()=>{u.current&&(clearTimeout(u.current),u.current=null),v.forEach(k=>{window.removeEventListener(k,w)})}}},[t,w]);const x=async(v,k=!0)=>{console.log(" Fetching user profile for:",v);try{const g=await mb.fetchUserProfile(v);return console.log(" User profile obtained:",g),g}catch(g){if(console.error(" Failed to fetch user profile:",g),k){const P=f();if(P&&P.id===v)return console.log(" Using cached profile due to database error"),l(!0),P}throw g}};_.useEffect(()=>{(async()=>{console.log(" Auth init starting...");const g=f(),P=h();g&&P?(console.log(" Using valid cached profile, starting in background refresh mode"),r(g),s(!1)):g?(console.log(" Using stale cached profile while validating session"),r(g)):(console.log(" No cached profile, showing loading state"),s(!0));try{const{data:{session:N},error:L}=await Q.auth.getSession();if(L){if(console.error(" Session error:",L.message),g){console.warn(" Session error but cached profile exists, keeping user signed in with cached data"),l(!0),s(!1);return}await Q.auth.signOut(),d(null),s(!1);return}if(N!=null&&N.user){console.log(" Valid session found, refreshing profile");try{const I=await Ke.fetchQuery({queryKey:ft.userProfile(N.user.id),queryFn:()=>x(N.user.id,!0),staleTime:3e5,gcTime:9e5});I!=null&&I.is_active?(d(I),console.log(" User profile refreshed successfully")):(console.warn(" User inactive, signing out"),await Q.auth.signOut(),d(null))}catch(I){console.error(" Profile fetch failed:",I),g&&g.id===N.user.id?(console.log(" Database error, continuing with cached profile"),r(g),l(!0)):(console.error(" No valid cache, signing out"),await Q.auth.signOut(),d(null))}}else console.log(" No session found, clearing cache"),d(null)}catch(N){console.error(" Critical error during init:",N),g?(console.log(" Critical error but cached profile exists, using cached data"),r(g),l(!0)):d(null)}finally{s(!1),console.log(" Auth init finished")}})();const{data:k}=Q.auth.onAuthStateChange((g,P)=>{(async()=>{if(console.log(" Auth state change:",g),g==="SIGNED_OUT"){t!=null&&t.id&&Ke.removeQueries({queryKey:ft.userProfile(t.id)}),d(null),s(!1);return}if(P!=null&&P.user)try{const N=await Ke.fetchQuery({queryKey:ft.userProfile(P.user.id),queryFn:()=>x(P.user.id,!0),staleTime:3e5,gcTime:9e5});N!=null&&N.is_active?(d(N),console.log(" User updated after state change")):(console.warn(" User inactive on state change, signing out"),await Q.auth.signOut(),d(null))}catch(N){console.error(" Failed to refresh profile on state change:",N);const L=f();L&&L.id===P.user.id&&(console.log(" Using cached profile after state change error"),r(L),l(!0))}n&&s(!1)})()});return()=>{k.subscription.unsubscribe()}},[]);const S=async(v,k)=>{console.log(" Signing in with email:",v),s(!0),a(null),l(!1);try{const{data:g,error:P}=await Q.auth.signInWithPassword({email:v,password:k});if(P)throw P;if(g.user){console.log(" User signed in:",g.user.id);try{const N=await Ke.fetchQuery({queryKey:ft.userProfile(g.user.id),queryFn:()=>x(g.user.id,!1),staleTime:3e5,gcTime:9e5});if(!(N!=null&&N.is_active))throw console.warn(" User inactive, forcing sign out"),await Q.auth.signOut(),new Error("Account is inactive");d(N)}catch(N){throw console.error(" Failed to fetch profile after sign in:",N),await Q.auth.signOut(),new Error("Failed to load user profile. Please try again.")}}}catch(g){throw console.error(" Sign in error:",g),a(g.message),g}finally{s(!1)}},E=async()=>{console.log(" Signing out user:",t==null?void 0:t.id),u.current&&(clearTimeout(u.current),u.current=null),Hf(),t!=null&&t.id&&Ke.removeQueries({queryKey:ft.userProfile(t.id)}),Ke.clear(),d(null),a(null),l(!1);try{localStorage.removeItem(ns),localStorage.removeItem(Wa),localStorage.removeItem(qf);const v=[];for(let k=0;k<localStorage.length;k++){const g=localStorage.key(k);g&&(g.startsWith("supabase")||g.startsWith("auth")||g.includes("cache"))&&v.push(g)}v.forEach(k=>localStorage.removeItem(k)),console.log(" LocalStorage cleared")}catch(v){console.warn(" Failed to clear localStorage:",v)}try{sessionStorage.clear(),console.log(" SessionStorage cleared")}catch(v){console.warn(" Failed to clear sessionStorage:",v)}try{await Q.auth.signOut({scope:"local"}),console.log(" Supabase sign out completed")}catch(v){console.warn(" Sign out failed silently:",v)}window.location.href="/"},p=async(v,k=!1)=>{console.log(" Changing password"),s(!0),a(null);try{const g=await wb.updatePassword(v,k);return await y(),g}catch(g){throw console.error(" Change password failed:",g),a(g.message||"Failed to change password"),g}finally{s(!1)}},y=async()=>{if(console.log(" Refreshing user profile"),!t){console.log(" No user to refresh");return}try{const{data:{user:v},error:k}=await Q.auth.getUser();if(k){console.error(" Failed to get session user:",k.message),console.log(" Keeping existing cached profile"),l(!0);return}if(v)try{Ke.invalidateQueries({queryKey:ft.userProfile(v.id)});const g=await Ke.fetchQuery({queryKey:ft.userProfile(v.id),queryFn:()=>x(v.id,!0),staleTime:5*60*1e3,gcTime:15*60*1e3});if(!(g!=null&&g.is_active)){console.warn(" User inactive on refresh, signing out"),d(null),await Q.auth.signOut();return}d(g),Hf(),w(),console.log(" User profile refreshed")}catch(g){console.error(" Profile fetch failed during refresh:",g),console.log(" Keeping existing cached profile"),l(!0),a("Using offline data. Some features may be limited.")}else console.warn(" No session user on refresh, clearing state"),d(null)}catch(v){console.error(" Refresh user failed:",v),console.log(" Keeping existing cached profile"),l(!0),a("Failed to refresh. Using cached data.")}},m=async v=>{console.log(" Sending password reset email to:",v),s(!0),a(null);try{const{error:k}=await Q.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/reset-password`});if(k)throw k;console.log(" Password reset email sent")}catch(k){throw console.error(" Failed to send password reset:",k),a(k.message),k}finally{s(!1)}};return c.jsx(Ey.Provider,{value:{user:t,loading:n,error:i,signIn:S,signOut:E,refreshUser:y,changePassword:p,sendPasswordResetEmail:m},children:e})},Cr=()=>{const e=_.useContext(Ey);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function tt({children:e,requireAdmin:t=!1,requiredPermission:r,redirectTo:n="/login"}){const{user:s,loading:i,refreshUser:a}=Cr(),o=er(),[l,u]=_.useState(!1),[d,h]=_.useState(null),[f,w]=_.useState(!1);return _.useEffect(()=>{if(s)h(s),u(!0);else{const x=localStorage.getItem("cachedUserProfile");if(x)try{const S=JSON.parse(x);h(S),console.log(" Using cached user in ProtectedRoute:",S)}catch{console.warn(" Failed to parse cached user in ProtectedRoute"),h(null)}u(!0)}},[s]),_.useEffect(()=>{d&&(w(!0),a().then(()=>{console.log(" Background user refresh completed")}).catch(x=>{console.warn(" Background refresh failed:",x)}).finally(()=>w(!1)))},[d,a]),(i||!l)&&!d?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):d?d.needs_password_reset&&o.pathname!=="/force-password-change"?c.jsx(rt,{to:"/force-password-change",replace:!0}):d.is_active?t&&!_b(d)?c.jsx(rt,{to:"/home",replace:!0}):r&&!ky(d,r.resource,r.action)?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this resource."})]})}):c.jsx(c.Fragment,{children:e}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Account Inactive"}),c.jsx("p",{className:"text-gray-600",children:"Your account has been deactivated. Please contact an administrator."})]})}):c.jsx(rt,{to:n,state:{from:o},replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>_.createElement("svg",{ref:d,...Eb,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jb(e)}`,o].join(" "),...u},[...t.map(([h,f])=>_.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=de("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=de("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=de("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=de("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Qf(){const{user:e,signOut:t}=Cr(),r=mn(),[n,s]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState({}),[h,f]=_.useState(!0),w=_.useRef(!1),x=_.useRef(null),S=_.useRef(null);_.useEffect(()=>{e&&!w.current&&(w.current=!0,E())},[e==null?void 0:e.id]),_.useEffect(()=>{function k(g){x.current&&!x.current.contains(g.target)&&a(!1),S.current&&!S.current.contains(g.target)&&l(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const E=async()=>{try{f(!0);const{data:k,error:g}=await Q.from("exam_papers").select(`
          *,
          subject:exam_subjects(*)
        `).eq("text_extraction_status","completed").order("grade_level",{ascending:!0}).order("year",{ascending:!1});if(g)throw g;const P={};k&&k.forEach(N=>{var oe;const L=N.grade_level||"12",I=((oe=N.subject)==null?void 0:oe.name)||"Unknown";P[L]||(P[L]={}),P[L][I]||(P[L][I]=[]),P[L][I].push({...N,subject:N.subject})}),d(P)}catch(k){console.error("Error fetching exam papers:",k)}finally{f(!1)}},p=k=>{r(`/exam-papers/${k}`),a(!1),s(!1)},y=async()=>{await t()},m=["1","2","3","4","5","6","7","8","9","10","11","12","AS","A2"],v=Object.keys(u).sort((k,g)=>m.indexOf(k)-m.indexOf(g));return c.jsxs("nav",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center gap-8",children:[c.jsxs(_r,{to:"/",className:"flex items-center gap-2",children:[c.jsx(Hs,{className:"h-7 w-7 text-emerald-600"}),c.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"AI Exam Tutor"})]}),e&&c.jsx("div",{className:"hidden md:flex items-center gap-6",children:c.jsxs("div",{className:"relative",ref:x,children:[c.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",children:["Grades",c.jsx(Vf,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})]}),i&&c.jsx("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 max-h-[32rem] overflow-y-auto",children:h?c.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading..."}):v.length===0?c.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No exam papers available"}):c.jsx("div",{className:"py-2",children:v.map(k=>c.jsxs("div",{className:"px-2 py-1",children:[c.jsxs("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:["Grade ",k]}),Object.entries(u[k]).map(([g,P])=>c.jsxs("div",{className:"ml-2",children:[c.jsx("div",{className:"px-3 py-1.5 text-sm font-medium text-gray-700",children:g}),c.jsx("div",{className:"ml-2",children:P.map(N=>c.jsxs("button",{onClick:()=>p(N.id),className:"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 rounded-lg transition-colors",children:[N.year," - Paper ",N.paper_number,N.title&&c.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.title,")"]})]},N.id))})]},g))]},k))})})]})})]}),c.jsx("div",{className:"flex items-center gap-4",children:e?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hidden md:block relative",ref:S,children:[c.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center",children:c.jsx(Mb,{className:"h-4 w-4 text-emerald-600"})}),c.jsx("span",{className:"max-w-[150px] truncate",children:e.email}),c.jsx(Vf,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})]}),o&&c.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-200",children:c.jsxs("div",{className:"py-2",children:[c.jsxs(_r,{to:"/profile",onClick:()=>l(!1),className:"flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(gc,{className:"h-4 w-4"}),"Profile Settings"]}),c.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[c.jsx(Kf,{className:"h-4 w-4"}),"Logout"]})]})})]}),c.jsx("button",{onClick:()=>s(!n),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n?c.jsx(Ed,{className:"h-6 w-6"}):c.jsx(jy,{className:"h-6 w-6"})})]}):c.jsx(_r,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors",children:"Login"})})]})}),n&&e&&c.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:c.jsxs("div",{className:"px-4 py-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Grades"}),h?c.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):v.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"No exam papers available"}):c.jsx("div",{className:"space-y-2",children:v.map(k=>c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:["Grade ",k]}),Object.entries(u[k]).map(([g,P])=>c.jsxs("div",{className:"ml-3 mb-2",children:[c.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:g}),c.jsx("div",{className:"ml-3 space-y-1",children:P.map(N=>c.jsxs("button",{onClick:()=>p(N.id),className:"block w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 rounded-lg transition-colors",children:[N.year," - Paper ",N.paper_number]},N.id))})]},g))]},k))})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-3 space-y-2",children:[c.jsxs(_r,{to:"/profile",onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[c.jsx(gc,{className:"h-4 w-4"}),"Profile Settings"]}),c.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Kf,{className:"h-4 w-4"}),"Logout"]})]})]})})]})}const Fb=[{name:"Dashboard",href:"/app/dashboard",icon:Ob,permission:{resource:"dashboard",action:"access"}},{name:"Admin Panel",href:"/app/admin/dashboard",icon:Vs,permission:{resource:"admin",action:"access"}},{name:"User Management",href:"/app/admin/users",icon:Ub,permission:{resource:"users",action:"manage"}},{name:"Role Management",href:"/app/admin/roles",icon:Vs,permission:{resource:"roles",action:"manage"}},{name:"Permission Management",href:"/app/admin/permissions",icon:Lb,permission:{resource:"permissions",action:"manage"}},{name:"Reports",href:"/app/reports",icon:Rb,permission:{resource:"reports",action:"view"}},{name:"Transactions",href:"/app/transactions",icon:Tb,permission:{resource:"transactions",action:"create"}},{name:"Analytics",href:"/app/analytics",icon:Cb,permission:{resource:"reports",action:"view"}},{name:"Exam Papers",href:"/app/exam-papers",icon:Hs,permission:{resource:"exam_papers",action:"view"}},{name:"Manage Papers",href:"/app/admin/exam-papers",icon:$b,permission:{resource:"exam_papers",action:"manage"}},{name:"Settings",href:"/app/settings",icon:gc}];function zb(){const e=er(),{user:t}=Cr(),r=Fb.filter(n=>n.permission?ky(t,n.permission.resource,n.permission.action):!0);return c.jsx("aside",{className:"bg-white w-64 min-h-screen border-r border-gray-200 fixed left-0 top-16 z-20",children:c.jsx("div",{className:"flex flex-col h-full",children:c.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:r.map(n=>{const s=e.pathname===n.href,i=n.icon;return c.jsxs(_r,{to:n.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 ${s?"bg-emerald-100 text-emerald-900 border-r-2 border-emerald-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(i,{className:`flex-shrink-0 -ml-1 mr-3 h-5 w-5 ${s?"text-emerald-600":"text-gray-400 group-hover:text-gray-500"}`}),c.jsx("span",{className:"truncate",children:n.name})]},n.name)})})})})}function Gf({showSidebar:e=!0,modernLayout:t=!1}){const{error:r}=Cr(),n=(r==null?void 0:r.includes("cached"))||(r==null?void 0:r.includes("offline"));return t?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Qf,{}),n&&c.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 px-4 py-2",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-sm text-yellow-800",children:[c.jsx(qn,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{children:"Using offline data. Some features may be limited."})]})}),c.jsx(bf,{})]}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(Qf,{}),n&&c.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 px-4 py-2",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-sm text-yellow-800",children:[c.jsx(qn,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{children:"Using offline data. Some features may be limited."})]})}),c.jsxs("div",{className:"flex",children:[e&&c.jsx(zb,{}),c.jsx("main",{className:`flex-1 ${e?"ml-64":""} p-6`,children:c.jsx(bf,{})})]})]})}function Bb(){var w,x;const[e,t]=_.useState({email:"",password:""}),[r,n]=_.useState(!1),[s,i]=_.useState(!1),{signIn:a,error:o,user:l}=Cr(),u=mn();(x=(w=er().state)==null?void 0:w.from)!=null&&x.pathname;const h=async S=>{S.preventDefault(),i(!0);try{await a(e.email,e.password)}catch{}finally{i(!1)}};Pt.useEffect(()=>{var S;l&&!s&&(l.needs_password_reset?u("/force-password-change",{replace:!0}):(S=l.roles)!=null&&S.some(E=>E.name==="admin")?u("/admin/dashboard",{replace:!0}):u("/home",{replace:!0}))},[l,s,u]);const f=S=>{const{name:E,value:p}=S.target;t(y=>({...y,[E]:p}))};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:c.jsx(Vs,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Portal"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[o&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 flex items-start",children:[c.jsx(qn,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),c.jsx("div",{className:"text-sm text-red-700",children:o})]}),c.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:f,className:"relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:f,className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?c.jsx(qs,{className:"h-4 w-4 text-gray-400"}):c.jsx(Ws,{className:"h-4 w-4 text-gray-400"})})]})]})]}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsx("div",{className:"text-sm",children:c.jsx(_r,{to:"/forgot-password",className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Forgot your password?"})})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s||!e.email||!e.password,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:s?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"For demo purposes: admin@example.com / member@example.com (password: password123)"})})]})]})})}function Hb({onLoginClick:e}){const[t,r]=_.useState(!1);return c.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 fixed w-full z-50 top-0 transition-all",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-400 p-2 rounded-lg",children:c.jsx(Hs,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"ExamAI"})]})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",children:"Log In"}),c.jsx("button",{onClick:e,className:"px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full hover:from-blue-600 hover:to-cyan-500 transform hover:scale-105 transition-all shadow-lg hover:shadow-xl",children:"Get Started"})]}),c.jsx("div",{className:"md:hidden",children:c.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-blue-600 transition-colors",children:t?c.jsx(Ed,{className:"h-6 w-6"}):c.jsx(jy,{className:"h-6 w-6"})})})]})}),t&&c.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:c.jsxs("div",{className:"px-4 pt-2 pb-4 space-y-2",children:[c.jsx("button",{onClick:()=>{e(),r(!1)},className:"block w-full text-left px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Log In"}),c.jsx("button",{onClick:()=>{e(),r(!1)},className:"block w-full px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-lg hover:from-blue-600 hover:to-cyan-500 transition-all",children:"Get Started"})]})})]})}function qb({isOpen:e,onClose:t}){const[r,n]=_.useState({email:"",password:""}),[s,i]=_.useState(!1),[a,o]=_.useState(!1),{signIn:l,error:u,user:d}=Cr(),h=mn();Pt.useEffect(()=>{var x;d&&!a&&(t(),d.needs_password_reset?h("/force-password-change",{replace:!0}):(x=d.roles)!=null&&x.some(S=>S.name==="admin")?h("/admin/dashboard",{replace:!0}):h("/home",{replace:!0}))},[d,a,h,t]);const f=async x=>{x.preventDefault(),o(!0);try{await l(r.email,r.password)}catch{}finally{o(!1)}},w=x=>{const{name:S,value:E}=x.target;n(p=>({...p,[S]:E}))};return e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:t}),c.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all",children:[c.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Ed,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"inline-flex items-center justify-center bg-gradient-to-br from-blue-500 to-cyan-400 p-3 rounded-2xl mb-4",children:c.jsx(Hs,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back!"}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Sign in to continue your exam prep"})]}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start",children:[c.jsx(qn,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0"}),c.jsx("div",{className:"text-sm text-red-700",children:u})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:w,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"student@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:r.password,onChange:w,className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?c.jsx(qs,{className:"h-5 w-5 text-gray-400"}):c.jsx(Ws,{className:"h-5 w-5 text-gray-400"})})]})]}),c.jsx("button",{type:"submit",disabled:a||!r.email||!r.password,className:"w-full py-3 px-4 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-lg hover:from-blue-600 hover:to-cyan-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] transition-all shadow-lg",children:a?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-xs text-gray-500",children:["Demo: admin@example.com / member@example.com",c.jsx("br",{}),"Password: password123"]})})]})]})}):null}function Wb(){const[e,t]=_.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[c.jsx(Hb,{onLoginClick:()=>t(!0)}),c.jsx(qb,{isOpen:e,onClose:()=>t(!1)}),c.jsx("section",{className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"text-center lg:text-left",children:[c.jsx("div",{className:"inline-block mb-4",children:c.jsx("span",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"AI-Powered Exam Prep"})}),c.jsxs("h1",{className:"text-5xl sm:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Ace Your Exams with"," ",c.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"AI Help"})]}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Get instant explanations for any past paper question. Our AI reads through exam papers and marking schemes to give you clear, detailed answers."}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:c.jsxs("button",{onClick:()=>t(!0),className:"px-8 py-4 text-lg font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full hover:from-blue-600 hover:to-cyan-500 transform hover:scale-105 transition-all shadow-lg hover:shadow-xl flex items-center justify-center",children:["Get Started Free",c.jsx(Pb,{className:"ml-2 h-5 w-5"})]})}),c.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"No credit card required"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative z-10 bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full flex items-center justify-center",children:c.jsx(Wf,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"AI Assistant"}),c.jsxs("p",{className:"text-sm text-green-500 flex items-center",children:[c.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Online"]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 ml-auto max-w-[85%]",children:c.jsx("p",{className:"text-sm text-gray-700",children:"Can you explain question 3b from the 2023 Mathematics paper?"})}),c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 rounded-2xl p-4 mr-auto max-w-[85%]",children:c.jsx("p",{className:"text-sm text-white",children:"Sure! Question 3b asks you to find the derivative. Let me break it down step by step..."})}),c.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[c.jsx(iu,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{children:"Analyzing marking scheme..."})]})]})]}),c.jsx("div",{className:"absolute -top-6 -right-6 w-32 h-32 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-full blur-3xl opacity-30 animate-pulse"}),c.jsx("div",{className:"absolute -bottom-6 -left-6 w-32 h-32 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDelay:"1s"}})]})]})})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Three simple steps to exam success"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 h-full border border-blue-100 hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(Db,{className:"h-8 w-8 text-white"})}),c.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-blue-500",children:c.jsx("span",{className:"text-lg font-bold text-blue-600",children:"1"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Select Your Subject"}),c.jsx("p",{className:"text-gray-600",children:"Choose from a wide range of subjects and access past exam papers instantly."})]})}),c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 h-full border border-blue-100 hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(Ab,{className:"h-8 w-8 text-white"})}),c.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-blue-500",children:c.jsx("span",{className:"text-lg font-bold text-blue-600",children:"2"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Ask About Questions"}),c.jsx("p",{className:"text-gray-600",children:'Type in the specific question number you need help with, like "Question 1" or "Q3b".'})]})}),c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 h-full border border-blue-100 hover:shadow-xl transition-shadow",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(iu,{className:"h-8 w-8 text-white"})}),c.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-blue-500",children:c.jsx("span",{className:"text-lg font-bold text-blue-600",children:"3"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Get AI Explanations"}),c.jsx("p",{className:"text-gray-600",children:"Our AI analyzes the paper and marking scheme to give you detailed step-by-step explanations."})]})})]})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Students Love ExamAI"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to crush your exams"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-4",children:c.jsx(ml,{className:"h-6 w-6 text-green-600"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Instant Answers"}),c.jsx("p",{className:"text-gray-600",children:"Get explanations in seconds, not hours. No more waiting for tutors."})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4",children:c.jsx(Wf,{className:"h-6 w-6 text-blue-600"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Smart AI"}),c.jsx("p",{className:"text-gray-600",children:"Trained on marking schemes to give you exam-focused answers."})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-4",children:c.jsx(Nb,{className:"h-6 w-6 text-purple-600"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"24/7 Available"}),c.jsx("p",{className:"text-gray-600",children:"Study anytime, anywhere. No schedules, no appointments needed."})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[c.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mb-4",children:c.jsx(Hs,{className:"h-6 w-6 text-orange-600"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"All Subjects"}),c.jsx("p",{className:"text-gray-600",children:"Math, Science, English, and more. We've got you covered."})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[c.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-xl flex items-center justify-center mb-4",children:c.jsx(Ib,{className:"h-6 w-6 text-cyan-600"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Boost Grades"}),c.jsx("p",{className:"text-gray-600",children:"Understand concepts better and improve your exam performance."})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[c.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center mb-4",children:c.jsx(iu,{className:"h-6 w-6 text-pink-600"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Easy to Use"}),c.jsx("p",{className:"text-gray-600",children:"Simple interface designed for students. Just ask and learn."})]})]})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-600 to-cyan-500",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Ace Your Next Exam?"}),c.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of students already using ExamAI to boost their grades"}),c.jsx("button",{onClick:()=>t(!0),className:"px-8 py-4 text-lg font-medium text-blue-600 bg-white rounded-full hover:bg-gray-50 transform hover:scale-105 transition-all shadow-xl hover:shadow-2xl",children:"Start Learning Now"})]})}),c.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-400 p-2 rounded-lg",children:c.jsx(Hs,{className:"h-5 w-5 text-white"})}),c.jsx("span",{className:"text-lg font-bold",children:"ExamAI"})]}),c.jsx("p",{className:"text-gray-400 text-sm",children:"AI-powered exam preparation made easy for students everywhere."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[c.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Features"}),c.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"How It Works"}),c.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Subjects"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[c.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Help Center"}),c.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Contact Us"}),c.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"FAQs"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Coming Soon"}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Sign up feature launching soon! Get ready to join our community."})]})]}),c.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-sm text-gray-400",children:c.jsx("p",{children:" 2025 ExamAI. All rights reserved."})})]})})]})}function Vb(){const e=mn(),{sendPasswordResetEmail:t}=Cr(),[r,n]=_.useState(""),[s,i]=_.useState(null),[a,o]=_.useState(!1),[l,u]=_.useState(!1),d=async h=>{if(h.preventDefault(),i(null),o(!1),!r){i("Please enter your email.");return}u(!0);try{await t(r),i("Password reset email sent! Please check your inbox."),o(!0),n("")}catch(f){const w=(f==null?void 0:f.message)||"Failed to send reset email.";i(w),o(!1)}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:c.jsx(Vs,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Enter your email to receive a password reset link"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[s&&c.jsxs("div",{className:`p-4 rounded-md ${a?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} flex items-start`,children:[a?c.jsx(ml,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"}):c.jsx(qn,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),c.jsx("div",{className:`text-sm ${a?"text-green-700":"text-red-700"}`,children:s})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),c.jsx("input",{id:"email",type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Enter your email",className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0})]}),c.jsx("button",{type:"submit",disabled:l||!r,className:"w-full py-2 px-4 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Sending reset link...":"Send Reset Link"})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-emerald-600 hover:text-emerald-500",children:"Back to Login"})})]})})}async function Py(e){const r=/[A-Z]/.test(e),n=/[a-z]/.test(e),s=/[0-9]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),a=[];let o=!0;e.length<8&&(a.push("Password must be at least 8 characters long"),o=!1),r||(a.push("Password must contain at least one uppercase letter"),o=!1),n||(a.push("Password must contain at least one lowercase letter"),o=!1),s||(a.push("Password must contain at least one number"),o=!1),i||(a.push('Password must contain at least one special character (!@#$%^&*(),.?":{}|<>)'),o=!1);const l=o?"Password meets all strength requirements":a.join(". ");return{isValid:o,message:l,errors:a}}function Tk(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="abcdefghijklmnopqrstuvwxyz",r="0123456789",n="!@#$%^&*";let s="";s+=e[Math.floor(Math.random()*e.length)],s+=t[Math.floor(Math.random()*t.length)],s+=r[Math.floor(Math.random()*r.length)],s+=n[Math.floor(Math.random()*n.length)];const i=e+t+r+n;for(let a=s.length;a<12;a++)s+=i[Math.floor(Math.random()*i.length)];return s.split("").sort(()=>Math.random()-.5).join("")}function Kb(){const e=mn(),{changePassword:t}=Cr(),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(!1),[f,w]=_.useState(!1),[x,S]=_.useState(null),[E,p]=_.useState(null);_.useEffect(()=>{(()=>{const v=window.location.hash.substring(1);let g=new URLSearchParams(v).get("access_token");g||(g=new URLSearchParams(window.location.search).get("token")),g?S(g):(u("Invalid or missing reset link. Please request a new one."),h(!1))})()},[]),_.useEffect(()=>{r?Py(r).then(m=>p(m)):p(null)},[r]);const y=async m=>{if(m.preventDefault(),u(null),h(!1),r!==s){u("Passwords do not match.");return}if(!(E!=null&&E.isValid)){u("Password does not meet strength requirements.");return}if(!x){u("Invalid reset link. Please request a new password reset email.");return}w(!0);try{await t(r,!0),u("Your password has been successfully reset. Redirecting to login page..."),h(!0),n(""),i("");const v=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,v),setTimeout(()=>{e("/login",{replace:!0})},2e3)}catch(v){const k=(v==null?void 0:v.message)||"Failed to reset password.";k.includes("expired")||k.includes("invalid")?u("This reset link has expired or is invalid. Please request a new password reset email."):u(k),h(!1)}finally{w(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:c.jsx(Vs,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Reset Your Password"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[l&&c.jsxs("div",{className:`p-4 rounded-md ${d?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"} flex items-start`,children:[d?c.jsx(ml,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"}):c.jsx(qn,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),c.jsx("div",{className:`text-sm ${d?"text-green-700":"text-red-700"}`,children:l})]}),c.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",name:"password",type:a?"text":"password",required:!0,value:r,onChange:m=>n(m.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter new password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!a),children:a?c.jsx(qs,{className:"h-4 w-4 text-gray-400"}):c.jsx(Ws,{className:"h-4 w-4 text-gray-400"})})]}),E&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:`text-xs ${E.isValid?"text-green-600":"text-red-600"}`,children:E.message}),!E.isValid&&E.errors.length>0&&c.jsx("ul",{className:"mt-1 text-xs text-red-600 list-disc list-inside",children:E.errors.map((m,v)=>c.jsx("li",{children:m},v))})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"confirm-password",name:"confirm-password",type:a?"text":"password",required:!0,value:s,onChange:m=>i(m.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!a),children:a?c.jsx(qs,{className:"h-4 w-4 text-gray-400"}):c.jsx(Ws,{className:"h-4 w-4 text-gray-400"})})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:f||!r||!s||!(E!=null&&E.isValid)||!x,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:f?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resetting password..."]}):"Reset Password"})}),!x&&c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Need a new reset link?"}),c.jsx(_r,{to:"/forgot-password",className:"text-sm font-medium text-emerald-600 hover:text-emerald-500",children:"Request password reset"})]})]})]})})}function Qb(){const e=mn(),{user:t,changePassword:r,signOut:n,loading:s}=Cr(),[i,a]=_.useState(""),[o,l]=_.useState(""),[u,d]=_.useState(!1),[h,f]=_.useState(null),[w,x]=_.useState(!1),[S,E]=_.useState(!1),[p,y]=_.useState(null);_.useEffect(()=>{!s&&(!t||!t.needs_password_reset)&&e("/home",{replace:!0})},[t,s,e]),_.useEffect(()=>{i?Py(i).then(v=>{y(v)}):y(null)},[i]);const m=async v=>{if(v.preventDefault(),f(null),x(!1),E(!0),i!==o){f("Passwords do not match."),x(!1),E(!1);return}if(!(p!=null&&p.isValid)){f("Password does not meet strength requirements."),x(!1),E(!1);return}if(!t){f("User not authenticated."),E(!1);return}try{await r(i,!0),f("Your password has been successfully changed. You will be redirected to the login page."),x(!0),a(""),l(""),setTimeout(()=>{n()},2e3)}catch(k){f(k instanceof Error?k.message:"Failed to change password."),x(!1)}finally{E(!1)}};return s||!t||!t.needs_password_reset?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-600"})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:c.jsx(Vs,{className:"h-8 w-8 text-white"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Change Your Temporary Password"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"You must change your password before accessing the application."})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[h&&c.jsxs("div",{className:`p-4 rounded-md ${w?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"} flex items-start`,children:[w?c.jsx(ml,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"}):c.jsx(qn,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),c.jsx("div",{className:`text-sm ${w?"text-green-700":"text-red-700"}`,children:h})]}),c.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",name:"password",type:u?"text":"password",required:!0,value:i,onChange:v=>a(v.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter new password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>d(!u),children:u?c.jsx(qs,{className:"h-4 w-4 text-gray-400"}):c.jsx(Ws,{className:"h-4 w-4 text-gray-400"})})]}),p&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:`text-xs ${p.isValid?"text-green-600":"text-red-600"}`,children:p.message}),!p.isValid&&p.errors.length>0&&c.jsx("ul",{className:"mt-1 text-xs text-red-600 list-disc list-inside",children:p.errors.map((v,k)=>c.jsx("li",{children:v},k))})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"confirm-password",name:"confirm-password",type:u?"text":"password",required:!0,value:o,onChange:v=>l(v.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>d(!u),children:u?c.jsx(qs,{className:"h-4 w-4 text-gray-400"}):c.jsx(Ws,{className:"h-4 w-4 text-gray-400"})})]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:S||s||!i||!o||!(p!=null&&p.isValid),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:S||s?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Changing password..."]}):"Change Password"})})]})]})})}const Gb=Pt.lazy(()=>Je(()=>import("./Dashboard-CPK_uy5U.js"),__vite__mapDeps([0,1])).then(e=>({default:e.Dashboard}))),Jb=Pt.lazy(()=>Je(()=>import("./AdminDashboard-Bb-lkDVo.js"),[]).then(e=>({default:e.AdminDashboard}))),Yb=Pt.lazy(()=>Je(()=>import("./AdminUsers-DyF-4QrS.js"),__vite__mapDeps([2,1,3,4,5,6])).then(e=>({default:e.AdminUsers}))),Xb=Pt.lazy(()=>Je(()=>import("./AdminRoles-BGrp4jNi.js"),__vite__mapDeps([7,1,3,4,5,6])).then(e=>({default:e.AdminRoles}))),Zb=Pt.lazy(()=>Je(()=>import("./AdminPermissions-c8LPbilg.js"),__vite__mapDeps([8,1,3,4,5,6])).then(e=>({default:e.AdminPermissions}))),ek=Pt.lazy(()=>Je(()=>import("./ProfilePage-CZDs0l8Z.js"),__vite__mapDeps([9,5])).then(e=>({default:e.ProfilePage}))),tk=Pt.lazy(()=>Je(()=>import("./AdminExamPapers-QBywuXLV.js"),__vite__mapDeps([10,1,3,6])).then(e=>({default:e.AdminExamPapers}))),rk=Pt.lazy(()=>Je(()=>import("./StudentExamPapers-BEtWyAK8.js"),__vite__mapDeps([11,1])).then(e=>({default:e.StudentExamPapers}))),nk=Pt.lazy(()=>Je(()=>import("./ExamPaperViewer-Bn-BHuHi.js"),__vite__mapDeps([12,1,3,13,14])).then(e=>({default:e.ExamPaperViewer}))),sk=Pt.lazy(()=>Je(()=>import("./ModernExamPaperViewer-D2CBIbAJ.js"),__vite__mapDeps([15,13,14]))),ik=Pt.lazy(()=>Je(()=>import("./StudentHome-CB6RMnUp.js"),__vite__mapDeps([16,13]))),fe=()=>c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Loading page..."})]})}),jn=()=>c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading app..."})]})}),ak=async()=>{console.log("[Loader] dashboardLoader called");try{const[e,t]=await Promise.all([Ke.fetchQuery({queryKey:ft.dashboardStats(),queryFn:Bf.getStats}),Ke.fetchQuery({queryKey:ft.dashboardActivity(),queryFn:Bf.getRecentActivity})]);return console.log("[Loader] dashboardLoader success",{stats:e,activity:t}),{stats:e,activity:t}}catch(e){return console.error("[Loader] dashboardLoader error:",e),{stats:[],activity:[]}}},ok=async()=>{console.log("[Loader] adminUsersLoader called");try{const[e,t]=await Promise.all([Ke.fetchQuery({queryKey:ft.adminUsers(),queryFn:gb.getUsers}),Ke.fetchQuery({queryKey:ft.roles(),queryFn:yb.getRoles})]);return console.log("[Loader] adminUsersLoader success"),{users:e.users,roles:t}}catch(e){return console.error("[Loader] adminUsersLoader error:",e),{users:[],roles:[]}}},lk=async()=>{console.log("[Loader] adminRolesLoader called");try{const[e,t]=await Promise.all([Ke.fetchQuery({queryKey:ft.adminRoles(),queryFn:vb.getRoles}),Ke.fetchQuery({queryKey:ft.adminPermissions(),queryFn:_y.getPermissions})]);return console.log("[Loader] adminRolesLoader success"),{roles:e,permissions:t}}catch(e){return console.error("[Loader] adminRolesLoader error:",e),{roles:[],permissions:[]}}},uk=async()=>{console.log("[Loader] adminPermissionsLoader called");try{const e=await Ke.fetchQuery({queryKey:ft.adminPermissions(),queryFn:_y.getPermissions,staleTime:6e5});return console.log("[Loader] adminPermissionsLoader success"),{permissions:e}}catch(e){return console.error("[Loader] adminPermissionsLoader error:",e),{permissions:[]}}},ck=M_([{path:"/",element:c.jsx(Wb,{})},{path:"/login",element:c.jsx(Bb,{})},{path:"/forgot-password",element:c.jsx(Vb,{})},{path:"/reset-password",element:c.jsx(Kb,{})},{path:"/force-password-change",element:c.jsx(Qb,{})},{path:"/home",element:c.jsx(tt,{children:c.jsx(_.Suspense,{fallback:c.jsx(jn,{}),children:c.jsx(ik,{})})}),hydrateFallbackElement:c.jsx(jn,{})},{path:"/exam-papers/:paperId",element:c.jsx(tt,{requiredPermission:{resource:"exam_papers",action:"view"},children:c.jsx(_.Suspense,{fallback:c.jsx(jn,{}),children:c.jsx(sk,{})})}),hydrateFallbackElement:c.jsx(jn,{})},{path:"/profile",element:c.jsx(tt,{children:c.jsx(Gf,{showSidebar:!1,modernLayout:!0,children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:c.jsx(ek,{})})})})}),hydrateFallbackElement:c.jsx(jn,{})},{path:"/app",element:c.jsx(tt,{children:c.jsx(Gf,{})}),hydrateFallbackElement:c.jsx(jn,{}),children:[{path:"dashboard",element:c.jsx(tt,{requiredPermission:{resource:"dashboard",action:"access"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(Gb,{})})}),loader:ak,hydrateFallbackElement:c.jsx(fe,{})},{path:"admin/dashboard",element:c.jsx(tt,{requireAdmin:!0,children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(Jb,{})})}),hydrateFallbackElement:c.jsx(fe,{})},{path:"admin/users",element:c.jsx(tt,{requiredPermission:{resource:"users",action:"manage"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(Yb,{})})}),loader:ok,hydrateFallbackElement:c.jsx(fe,{})},{path:"admin/roles",element:c.jsx(tt,{requiredPermission:{resource:"roles",action:"manage"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(Xb,{})})}),loader:lk,hydrateFallbackElement:c.jsx(fe,{})},{path:"admin/permissions",element:c.jsx(tt,{requiredPermission:{resource:"permissions",action:"manage"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(Zb,{})})}),loader:uk,hydrateFallbackElement:c.jsx(fe,{})},{path:"reports",element:c.jsx(tt,{requiredPermission:{resource:"reports",action:"view"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reports"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})})}),hydrateFallbackElement:c.jsx(fe,{})},{path:"transactions",element:c.jsx(tt,{requiredPermission:{resource:"transactions",action:"create"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transactions"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})})}),hydrateFallbackElement:c.jsx(fe,{})},{path:"analytics",element:c.jsx(tt,{requiredPermission:{resource:"reports",action:"view"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})})}),hydrateFallbackElement:c.jsx(fe,{})},{path:"settings",element:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Settings"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})}),hydrateFallbackElement:c.jsx(fe,{})},{path:"admin/exam-papers",element:c.jsx(tt,{requiredPermission:{resource:"exam_papers",action:"manage"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(tk,{})})}),hydrateFallbackElement:c.jsx(fe,{})},{path:"exam-papers",element:c.jsx(tt,{requiredPermission:{resource:"exam_papers",action:"view"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(rk,{})})}),hydrateFallbackElement:c.jsx(fe,{})},{path:"exam-papers/:paperId",element:c.jsx(tt,{requiredPermission:{resource:"exam_papers",action:"view"},children:c.jsx(_.Suspense,{fallback:c.jsx(fe,{}),children:c.jsx(nk,{})})}),hydrateFallbackElement:c.jsx(fe,{})}]},{path:"/admin/dashboard",element:c.jsx(rt,{to:"/app/admin/dashboard",replace:!0})},{path:"/admin/users",element:c.jsx(rt,{to:"/app/admin/users",replace:!0})},{path:"/admin/roles",element:c.jsx(rt,{to:"/app/admin/roles",replace:!0})},{path:"/admin/permissions",element:c.jsx(rt,{to:"/app/admin/permissions",replace:!0})},{path:"/admin/exam-papers",element:c.jsx(rt,{to:"/app/admin/exam-papers",replace:!0})},{path:"/exam-papers",element:c.jsx(rt,{to:"/app/exam-papers",replace:!0})},{path:"/app/profile",element:c.jsx(rt,{to:"/profile",replace:!0})},{path:"/reports",element:c.jsx(rt,{to:"/app/reports",replace:!0})},{path:"/transactions",element:c.jsx(rt,{to:"/app/transactions",replace:!0})},{path:"/analytics",element:c.jsx(rt,{to:"/app/analytics",replace:!0})},{path:"/settings",element:c.jsx(rt,{to:"/app/settings",replace:!0})},{path:"*",element:c.jsx(rt,{to:"/",replace:!0})}],{future:{v7_partialHydration:!0}});function dk(){return console.log("[App] Mounting application..."),c.jsx(kb,{children:c.jsx(J_,{router:ck,fallbackElement:c.jsx(jn,{})})})}yg(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsxs(Fw,{client:Ke,children:[c.jsx(dk,{}),c.jsx(Hw,{initialIsOpen:!1})]})}));export{qn as A,Cb as B,ml as C,Ji as D,Iw as E,Rb as F,it as G,qt as H,pk as I,Pw as J,Lb as K,_r as L,Ab as M,xw as N,Xu as O,rl as P,vw as Q,ww as R,Vs as S,Ib as T,Ub as U,xg as V,Ow as W,Sw as X,Qf as Y,jy as Z,Ed as _,yk as a,gc as b,de as c,Bf as d,mk as e,Db as f,Tk as g,ky as h,gb as i,c as j,pb as k,vb as l,_y as m,Mb as n,$b as o,Hs as p,ft as q,_ as r,Q as s,Nk as t,Cr as u,Nb as v,mn as w,gk as x,tl as y,fk as z};
