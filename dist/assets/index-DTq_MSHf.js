const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-b15aCCjD.js","assets/useQuery-jHUkFj9r.js","assets/AdminUsers-DMZ4Hths.js","assets/useMutation-ChvwOYZS.js","assets/plus-BfRGY63g.js","assets/square-pen-6OPMsKYv.js","assets/trash-2-KMggmlSB.js","assets/AdminRoles-BSqMz7LD.js","assets/AdminPermissions-BMHhRw-9.js","assets/ProfilePage-D-JtZmDr.js","assets/AdminExamPapers-yo37JaI1.js","assets/StudentExamPapers-CUCHyjFm.js","assets/ExamPaperViewer-DfC_QFeS.js"])))=>i.map(i=>d[i]);
var Id=e=>{throw TypeError(e)};var vl=(e,t,r)=>t.has(e)||Id("Cannot "+r);var N=(e,t,r)=>(vl(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>t.has(e)?Id("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,n)=>(vl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),We=(e,t,r)=>(vl(e,t,"access private method"),r);var wa=(e,t,r,n)=>({set _(s){K(e,t,s,r)},get _(){return N(e,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Iy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Gf={exports:{}},$o={},Jf={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),$y=Symbol.for("react.portal"),My=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),Fy=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),By=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Wy=Symbol.for("react.memo"),Vy=Symbol.for("react.lazy"),$d=Symbol.iterator;function Ky(e){return e===null||typeof e!="object"?null:(e=$d&&e[$d]||e["@@iterator"],typeof e=="function"?e:null)}var Yf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xf=Object.assign,Zf={};function Bs(e,t,r){this.props=e,this.context=t,this.refs=Zf,this.updater=r||Yf}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ep(){}ep.prototype=Bs.prototype;function mc(e,t,r){this.props=e,this.context=t,this.refs=Zf,this.updater=r||Yf}var gc=mc.prototype=new ep;gc.constructor=mc;Xf(gc,Bs.prototype);gc.isPureReactComponent=!0;var Md=Array.isArray,tp=Object.prototype.hasOwnProperty,yc={current:null},rp={key:!0,ref:!0,__self:!0,__source:!0};function np(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)tp.call(t,n)&&!rp.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:na,type:e,key:i,ref:a,props:s,_owner:yc.current}}function Qy(e,t){return{$$typeof:na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vc(e){return typeof e=="object"&&e!==null&&e.$$typeof===na}function Gy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ud=/\/+/g;function wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gy(""+e.key):t.toString(36)}function qa(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case na:case $y:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+wl(a,0):n,Md(s)?(r="",e!=null&&(r=e.replace(Ud,"$&/")+"/"),qa(s,t,r,"",function(u){return u})):s!=null&&(vc(s)&&(s=Qy(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ud,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Md(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+wl(i,o);a+=qa(i,t,r,l,s)}else if(l=Ky(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+wl(i,o++),a+=qa(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xa(e,t,r){if(e==null)return e;var n=[],s=0;return qa(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Jy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Wa={transition:null},Yy={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Wa,ReactCurrentOwner:yc};function sp(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:xa,forEach:function(e,t,r){xa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xa(e,function(){t++}),t},toArray:function(e){return xa(e,function(t){return t})||[]},only:function(e){if(!vc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Bs;Z.Fragment=My;Z.Profiler=Fy;Z.PureComponent=mc;Z.StrictMode=Uy;Z.Suspense=qy;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy;Z.act=sp;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Xf({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=yc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)tp.call(t,l)&&!rp.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:na,type:e.type,key:s,ref:i,props:n,_owner:a}};Z.createContext=function(e){return e={$$typeof:By,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zy,_context:e},e.Consumer=e};Z.createElement=np;Z.createFactory=function(e){var t=np.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Hy,render:e}};Z.isValidElement=vc;Z.lazy=function(e){return{$$typeof:Vy,_payload:{_status:-1,_result:e},_init:Jy}};Z.memo=function(e,t){return{$$typeof:Wy,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Wa.transition;Wa.transition={};try{e()}finally{Wa.transition=t}};Z.unstable_act=sp;Z.useCallback=function(e,t){return lt.current.useCallback(e,t)};Z.useContext=function(e){return lt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return lt.current.useEffect(e,t)};Z.useId=function(){return lt.current.useId()};Z.useImperativeHandle=function(e,t,r){return lt.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return lt.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return lt.current.useReducer(e,t,r)};Z.useRef=function(e){return lt.current.useRef(e)};Z.useState=function(e){return lt.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return lt.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return lt.current.useTransition()};Z.version="18.3.1";Jf.exports=Z;var b=Jf.exports;const Xt=Dy(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=b,Zy=Symbol.for("react.element"),ev=Symbol.for("react.fragment"),tv=Object.prototype.hasOwnProperty,rv=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nv={key:!0,ref:!0,__self:!0,__source:!0};function ip(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)tv.call(t,n)&&!nv.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Zy,type:e,key:i,ref:a,props:s,_owner:rv.current}}$o.Fragment=ev;$o.jsx=ip;$o.jsxs=ip;Gf.exports=$o;var d=Gf.exports,ap={exports:{}},Pt={},op={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,U){var q=A.length;A.push(U);e:for(;0<q;){var ee=q-1>>>1,ie=A[ee];if(0<s(ie,U))A[ee]=U,A[q]=ie,q=ee;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var U=A[0],q=A.pop();if(q!==U){A[0]=q;e:for(var ee=0,ie=A.length,Pe=ie>>>1;ee<Pe;){var Je=2*(ee+1)-1,Cr=A[Je],Ye=Je+1,Kn=A[Ye];if(0>s(Cr,q))Ye<ie&&0>s(Kn,Cr)?(A[ee]=Kn,A[Ye]=q,ee=Ye):(A[ee]=Cr,A[Je]=q,ee=Je);else if(Ye<ie&&0>s(Kn,q))A[ee]=Kn,A[Ye]=q,ee=Ye;else break e}}return U}function s(A,U){var q=A.sortIndex-U.sortIndex;return q!==0?q:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,f=3,v=!1,x=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=A)n(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(u)}}function w(A){if(S=!1,m(A),!x)if(r(l)!==null)x=!0,se(j);else{var U=r(u);U!==null&&Ne(w,U.startTime-A)}}function j(A,U){x=!1,S&&(S=!1,p(T),T=-1),v=!0;var q=f;try{for(m(U),h=r(l);h!==null&&(!(h.expirationTime>U)||A&&!le());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var ie=ee(h.expirationTime<=U);U=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(l)&&n(l),m(U)}else n(l);h=r(l)}if(h!==null)var Pe=!0;else{var Je=r(u);Je!==null&&Ne(w,Je.startTime-U),Pe=!1}return Pe}finally{h=null,f=q,v=!1}}var y=!1,C=null,T=-1,L=5,I=-1;function le(){return!(e.unstable_now()-I<L)}function xt(){if(C!==null){var A=e.unstable_now();I=A;var U=!0;try{U=C(!0,A)}finally{U?ct():(y=!1,C=null)}}else y=!1}var ct;if(typeof g=="function")ct=function(){g(xt)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Se=ne.port2;ne.port1.onmessage=xt,ct=function(){Se.postMessage(null)}}else ct=function(){k(xt,0)};function se(A){C=A,y||(y=!0,ct())}function Ne(A,U){T=k(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,se(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return A()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=f;f=A;try{return U()}finally{f=q}},e.unstable_scheduleCallback=function(A,U,q){var ee=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,A){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=q+ie,A={id:c++,callback:U,priorityLevel:A,startTime:q,expirationTime:ie,sortIndex:-1},q>ee?(A.sortIndex=q,t(u,A),r(l)===null&&A===r(u)&&(S?(p(T),T=-1):S=!0,Ne(w,q-ee))):(A.sortIndex=ie,t(l,A),x||v||(x=!0,se(j))),A},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(A){var U=f;return function(){var q=f;f=U;try{return A.apply(this,arguments)}finally{f=q}}}})(lp);op.exports=lp;var sv=op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=b,jt=sv;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var up=new Set,Ri={};function Bn(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(Ri[e]=t,e=0;e<t.length;e++)up.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=Object.prototype.hasOwnProperty,av=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fd={},zd={};function ov(e){return iu.call(zd,e)?!0:iu.call(Fd,e)?!1:av.test(e)?zd[e]=!0:(Fd[e]=!0,!1)}function lv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uv(e,t,r,n){if(t===null||typeof t>"u"||lv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var wc=/[\-:]([a-z])/g;function xc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wc,xc);ze[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wc,xc);ze[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wc,xc);ze[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function _c(e,t,r,n){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uv(t,r,s,n)&&(r=null),n||s===null?ov(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pr=iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_a=Symbol.for("react.element"),ss=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),Sc=Symbol.for("react.strict_mode"),au=Symbol.for("react.profiler"),cp=Symbol.for("react.provider"),dp=Symbol.for("react.context"),bc=Symbol.for("react.forward_ref"),ou=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),kc=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),hp=Symbol.for("react.offscreen"),Bd=Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,xl;function fi(e){if(xl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xl=t&&t[1]||""}return`
`+xl+e}var _l=!1;function Sl(e,t){if(!e||_l)return"";_l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{_l=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fi(e):""}function cv(e){switch(e.tag){case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return e=Sl(e.type,!1),e;case 11:return e=Sl(e.type.render,!1),e;case 1:return e=Sl(e.type,!0),e;default:return""}}function uu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case ss:return"Portal";case au:return"Profiler";case Sc:return"StrictMode";case ou:return"Suspense";case lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dp:return(e.displayName||"Context")+".Consumer";case cp:return(e._context.displayName||"Context")+".Provider";case bc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kc:return t=e.displayName||null,t!==null?t:uu(e.type)||"Memo";case $r:t=e._payload,e=e._init;try{return uu(e(t))}catch{}}return null}function dv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uu(t);case 8:return t===Sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hv(e){var t=fp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sa(e){e._valueTracker||(e._valueTracker=hv(e))}function pp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ao(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cu(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Hd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=on(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mp(e,t){t=t.checked,t!=null&&_c(e,"checked",t,!1)}function du(e,t){mp(e,t);var r=on(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hu(e,t.type,r):t.hasOwnProperty("defaultValue")&&hu(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hu(e,t,r){(t!=="number"||ao(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pi=Array.isArray;function gs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+on(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(pi(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:on(r)}}function gp(e,t){var r=on(t.value),n=on(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Vd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ba,vp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ba.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fv=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(e){fv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wi[t]=wi[e]})});function wp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wi.hasOwnProperty(e)&&wi[e]?(""+t).trim():t+"px"}function xp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=wp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var pv=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mu(e,t){if(t){if(pv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function gu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=null;function Ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vu=null,ys=null,vs=null;function Kd(e){if(e=aa(e)){if(typeof vu!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Bo(t),vu(e.stateNode,e.type,t))}}function _p(e){ys?vs?vs.push(e):vs=[e]:ys=e}function Sp(){if(ys){var e=ys,t=vs;if(vs=ys=null,Kd(e),t)for(e=0;e<t.length;e++)Kd(t[e])}}function bp(e,t){return e(t)}function kp(){}var bl=!1;function Ep(e,t,r){if(bl)return e(t,r);bl=!0;try{return bp(e,t,r)}finally{bl=!1,(ys!==null||vs!==null)&&(kp(),Sp())}}function Li(e,t){var r=e.stateNode;if(r===null)return null;var n=Bo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var wu=!1;if(br)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){wu=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{wu=!1}function mv(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var xi=!1,oo=null,lo=!1,xu=null,gv={onError:function(e){xi=!0,oo=e}};function yv(e,t,r,n,s,i,a,o,l){xi=!1,oo=null,mv.apply(gv,arguments)}function vv(e,t,r,n,s,i,a,o,l){if(yv.apply(this,arguments),xi){if(xi){var u=oo;xi=!1,oo=null}else throw Error(O(198));lo||(lo=!0,xu=u)}}function Hn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qd(e){if(Hn(e)!==e)throw Error(O(188))}function wv(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Qd(s),e;if(i===n)return Qd(s),t;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Pp(e){return e=wv(e),e!==null?Cp(e):null}function Cp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cp(e);if(t!==null)return t;e=e.sibling}return null}var Np=jt.unstable_scheduleCallback,Gd=jt.unstable_cancelCallback,xv=jt.unstable_shouldYield,_v=jt.unstable_requestPaint,Ee=jt.unstable_now,Sv=jt.unstable_getCurrentPriorityLevel,jc=jt.unstable_ImmediatePriority,Tp=jt.unstable_UserBlockingPriority,uo=jt.unstable_NormalPriority,bv=jt.unstable_LowPriority,Rp=jt.unstable_IdlePriority,Mo=null,ur=null;function kv(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Pv,Ev=Math.log,jv=Math.LN2;function Pv(e){return e>>>=0,e===0?32:31-(Ev(e)/jv|0)|0}var ka=64,Ea=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function co(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=mi(o):(i&=a,i!==0&&(n=mi(i)))}else a=r&~s,a!==0?n=mi(a):i!==0&&(n=mi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gt(t),s=1<<r,n|=e[r],t&=~s;return n}function Cv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Gt(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Cv(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function _u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Op(){var e=ka;return ka<<=1,!(ka&4194240)&&(ka=64),e}function kl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function sa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=r}function Tv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Gt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Pc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var oe=0;function Lp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ap,Cc,Dp,Ip,$p,Su=!1,ja=[],Yr=null,Xr=null,Zr=null,Ai=new Map,Di=new Map,Ur=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(e,t){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function ri(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=aa(t),t!==null&&Cc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ov(e,t,r,n,s){switch(t){case"focusin":return Yr=ri(Yr,e,t,r,n,s),!0;case"dragenter":return Xr=ri(Xr,e,t,r,n,s),!0;case"mouseover":return Zr=ri(Zr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ai.set(i,ri(Ai.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Di.set(i,ri(Di.get(i)||null,e,t,r,n,s)),!0}return!1}function Mp(e){var t=En(e.target);if(t!==null){var r=Hn(t);if(r!==null){if(t=r.tag,t===13){if(t=jp(r),t!==null){e.blockedOn=t,$p(e.priority,function(){Dp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yu=n,r.target.dispatchEvent(n),yu=null}else return t=aa(r),t!==null&&Cc(t),e.blockedOn=r,!1;t.shift()}return!0}function Yd(e,t,r){Va(e)&&r.delete(t)}function Lv(){Su=!1,Yr!==null&&Va(Yr)&&(Yr=null),Xr!==null&&Va(Xr)&&(Xr=null),Zr!==null&&Va(Zr)&&(Zr=null),Ai.forEach(Yd),Di.forEach(Yd)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Lv)))}function Ii(e){function t(s){return ni(s,e)}if(0<ja.length){ni(ja[0],e);for(var r=1;r<ja.length;r++){var n=ja[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yr!==null&&ni(Yr,e),Xr!==null&&ni(Xr,e),Zr!==null&&ni(Zr,e),Ai.forEach(t),Di.forEach(t),r=0;r<Ur.length;r++)n=Ur[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ur.length&&(r=Ur[0],r.blockedOn===null);)Mp(r),r.blockedOn===null&&Ur.shift()}var ws=Pr.ReactCurrentBatchConfig,ho=!0;function Av(e,t,r,n){var s=oe,i=ws.transition;ws.transition=null;try{oe=1,Nc(e,t,r,n)}finally{oe=s,ws.transition=i}}function Dv(e,t,r,n){var s=oe,i=ws.transition;ws.transition=null;try{oe=4,Nc(e,t,r,n)}finally{oe=s,ws.transition=i}}function Nc(e,t,r,n){if(ho){var s=bu(e,t,r,n);if(s===null)Al(e,t,n,fo,r),Jd(e,n);else if(Ov(s,e,t,r,n))n.stopPropagation();else if(Jd(e,n),t&4&&-1<Rv.indexOf(e)){for(;s!==null;){var i=aa(s);if(i!==null&&Ap(i),i=bu(e,t,r,n),i===null&&Al(e,t,n,fo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Al(e,t,n,null,r)}}var fo=null;function bu(e,t,r,n){if(fo=null,e=Ec(n),e=En(e),e!==null)if(t=Hn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fo=e,null}function Up(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sv()){case jc:return 1;case Tp:return 4;case uo:case bv:return 16;case Rp:return 536870912;default:return 16}default:return 16}}var Gr=null,Tc=null,Ka=null;function Fp(){if(Ka)return Ka;var e,t=Tc,r=t.length,n,s="value"in Gr?Gr.value:Gr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ka=s.slice(e,1<n?1-n:void 0)}function Qa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function Xd(){return!1}function Ct(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pa:Xd,this.isPropagationStopped=Xd,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=Ct(Hs),ia=_e({},Hs,{view:0,detail:0}),Iv=Ct(ia),El,jl,si,Uo=_e({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(El=e.screenX-si.screenX,jl=e.screenY-si.screenY):jl=El=0,si=e),El)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),Zd=Ct(Uo),$v=_e({},Uo,{dataTransfer:0}),Mv=Ct($v),Uv=_e({},ia,{relatedTarget:0}),Pl=Ct(Uv),Fv=_e({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=Ct(Fv),Bv=_e({},Hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hv=Ct(Bv),qv=_e({},Hs,{data:0}),eh=Ct(qv),Wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kv[e])?!!t[e]:!1}function Oc(){return Qv}var Gv=_e({},ia,{key:function(e){if(e.key){var t=Wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?Qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jv=Ct(Gv),Yv=_e({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),th=Ct(Yv),Xv=_e({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),Zv=Ct(Xv),e0=_e({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=Ct(e0),r0=_e({},Uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=Ct(r0),s0=[9,13,27,32],Lc=br&&"CompositionEvent"in window,_i=null;br&&"documentMode"in document&&(_i=document.documentMode);var i0=br&&"TextEvent"in window&&!_i,zp=br&&(!Lc||_i&&8<_i&&11>=_i),rh=" ",nh=!1;function Bp(e,t){switch(e){case"keyup":return s0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function a0(e,t){switch(e){case"compositionend":return Hp(t);case"keypress":return t.which!==32?null:(nh=!0,rh);case"textInput":return e=t.data,e===rh&&nh?null:e;default:return null}}function o0(e,t){if(as)return e==="compositionend"||!Lc&&Bp(e,t)?(e=Fp(),Ka=Tc=Gr=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zp&&t.locale!=="ko"?null:t.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l0[e.type]:t==="textarea"}function qp(e,t,r,n){_p(n),t=po(t,"onChange"),0<t.length&&(r=new Rc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Si=null,$i=null;function u0(e){tm(e,0)}function Fo(e){var t=us(e);if(pp(t))return e}function c0(e,t){if(e==="change")return t}var Wp=!1;if(br){var Cl;if(br){var Nl="oninput"in document;if(!Nl){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Nl=typeof ih.oninput=="function"}Cl=Nl}else Cl=!1;Wp=Cl&&(!document.documentMode||9<document.documentMode)}function ah(){Si&&(Si.detachEvent("onpropertychange",Vp),$i=Si=null)}function Vp(e){if(e.propertyName==="value"&&Fo($i)){var t=[];qp(t,$i,e,Ec(e)),Ep(u0,t)}}function d0(e,t,r){e==="focusin"?(ah(),Si=t,$i=r,Si.attachEvent("onpropertychange",Vp)):e==="focusout"&&ah()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fo($i)}function f0(e,t){if(e==="click")return Fo(t)}function p0(e,t){if(e==="input"||e==="change")return Fo(t)}function m0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:m0;function Mi(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!iu.call(t,s)||!Yt(e[s],t[s]))return!1}return!0}function oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lh(e,t){var r=oh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oh(r)}}function Kp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qp(){for(var e=window,t=ao();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ao(e.document)}return t}function Ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g0(e){var t=Qp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Kp(r.ownerDocument.documentElement,r)){if(n!==null&&Ac(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=lh(r,i);var a=lh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y0=br&&"documentMode"in document&&11>=document.documentMode,os=null,ku=null,bi=null,Eu=!1;function uh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eu||os==null||os!==ao(n)||(n=os,"selectionStart"in n&&Ac(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bi&&Mi(bi,n)||(bi=n,n=po(ku,"onSelect"),0<n.length&&(t=new Rc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=os)))}function Ca(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ls={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},Tl={},Gp={};br&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function zo(e){if(Tl[e])return Tl[e];if(!ls[e])return e;var t=ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gp)return Tl[e]=t[r];return e}var Jp=zo("animationend"),Yp=zo("animationiteration"),Xp=zo("animationstart"),Zp=zo("transitionend"),em=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){em.set(e,t),Bn(t,[e])}for(var Rl=0;Rl<ch.length;Rl++){var Ol=ch[Rl],v0=Ol.toLowerCase(),w0=Ol[0].toUpperCase()+Ol.slice(1);cn(v0,"on"+w0)}cn(Jp,"onAnimationEnd");cn(Yp,"onAnimationIteration");cn(Xp,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Zp,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function dh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vv(n,t,void 0,e),e.currentTarget=null}function tm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;dh(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;dh(s,o,u),i=l}}}if(lo)throw e=xu,lo=!1,xu=null,e}function fe(e,t){var r=t[Tu];r===void 0&&(r=t[Tu]=new Set);var n=e+"__bubble";r.has(n)||(rm(t,e,2,!1),r.add(n))}function Ll(e,t,r){var n=0;t&&(n|=4),rm(r,e,n,t)}var Na="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Na]){e[Na]=!0,up.forEach(function(r){r!=="selectionchange"&&(x0.has(r)||Ll(r,!1,e),Ll(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Na]||(t[Na]=!0,Ll("selectionchange",!1,t))}}function rm(e,t,r,n){switch(Up(t)){case 1:var s=Av;break;case 4:s=Dv;break;default:s=Nc}r=s.bind(null,t,r,e),s=void 0,!wu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Al(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=En(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Ep(function(){var u=i,c=Ec(r),h=[];e:{var f=em.get(e);if(f!==void 0){var v=Rc,x=e;switch(e){case"keypress":if(Qa(r)===0)break e;case"keydown":case"keyup":v=Jv;break;case"focusin":x="focus",v=Pl;break;case"focusout":x="blur",v=Pl;break;case"beforeblur":case"afterblur":v=Pl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Zv;break;case Jp:case Yp:case Xp:v=zv;break;case Zp:v=t0;break;case"scroll":v=Iv;break;case"wheel":v=n0;break;case"copy":case"cut":case"paste":v=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=th}var S=(t&4)!==0,k=!S&&e==="scroll",p=S?f!==null?f+"Capture":null:f;S=[];for(var g=u,m;g!==null;){m=g;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,p!==null&&(w=Li(g,p),w!=null&&S.push(Fi(g,w,m)))),k)break;g=g.return}0<S.length&&(f=new v(f,x,null,r,c),h.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==yu&&(x=r.relatedTarget||r.fromElement)&&(En(x)||x[kr]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=u,x=x?En(x):null,x!==null&&(k=Hn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(S=Zd,w="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(S=th,w="onPointerLeave",p="onPointerEnter",g="pointer"),k=v==null?f:us(v),m=x==null?f:us(x),f=new S(w,g+"leave",v,r,c),f.target=k,f.relatedTarget=m,w=null,En(c)===u&&(S=new S(p,g+"enter",x,r,c),S.target=m,S.relatedTarget=k,w=S),k=w,v&&x)t:{for(S=v,p=x,g=0,m=S;m;m=Gn(m))g++;for(m=0,w=p;w;w=Gn(w))m++;for(;0<g-m;)S=Gn(S),g--;for(;0<m-g;)p=Gn(p),m--;for(;g--;){if(S===p||p!==null&&S===p.alternate)break t;S=Gn(S),p=Gn(p)}S=null}else S=null;v!==null&&hh(h,f,v,S,!1),x!==null&&k!==null&&hh(h,k,x,S,!0)}}e:{if(f=u?us(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var j=c0;else if(sh(f))if(Wp)j=p0;else{j=h0;var y=d0}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=f0);if(j&&(j=j(e,u))){qp(h,j,r,c);break e}y&&y(e,f,u),e==="focusout"&&(y=f._wrapperState)&&y.controlled&&f.type==="number"&&hu(f,"number",f.value)}switch(y=u?us(u):window,e){case"focusin":(sh(y)||y.contentEditable==="true")&&(os=y,ku=u,bi=null);break;case"focusout":bi=ku=os=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,uh(h,r,c);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":uh(h,r,c)}var C;if(Lc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else as?Bp(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(zp&&r.locale!=="ko"&&(as||T!=="onCompositionStart"?T==="onCompositionEnd"&&as&&(C=Fp()):(Gr=c,Tc="value"in Gr?Gr.value:Gr.textContent,as=!0)),y=po(u,T),0<y.length&&(T=new eh(T,e,null,r,c),h.push({event:T,listeners:y}),C?T.data=C:(C=Hp(r),C!==null&&(T.data=C)))),(C=i0?a0(e,r):o0(e,r))&&(u=po(u,"onBeforeInput"),0<u.length&&(c=new eh("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=C))}tm(h,t)})}function Fi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function po(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Li(e,r),i!=null&&n.unshift(Fi(e,i,s)),i=Li(e,t),i!=null&&n.push(Fi(e,i,s))),e=e.return}return n}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=Li(r,i),l!=null&&a.unshift(Fi(r,l,o))):s||(l=Li(r,i),l!=null&&a.push(Fi(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var _0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function fh(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(S0,"")}function Ta(e,t,r){if(t=fh(t),fh(e)!==t&&r)throw Error(O(425))}function mo(){}var ju=null,Pu=null;function Cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(e){return ph.resolve(null).then(e).catch(E0)}:Nu;function E0(e){setTimeout(function(){throw e})}function Dl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ii(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ii(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),lr="__reactFiber$"+qs,zi="__reactProps$"+qs,kr="__reactContainer$"+qs,Tu="__reactEvents$"+qs,j0="__reactListeners$"+qs,P0="__reactHandles$"+qs;function En(e){var t=e[lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kr]||r[lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mh(e);e!==null;){if(r=e[lr])return r;e=mh(e)}return t}e=r,r=e.parentNode}return null}function aa(e){return e=e[lr]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Bo(e){return e[zi]||null}var Ru=[],cs=-1;function dn(e){return{current:e}}function pe(e){0>cs||(e.current=Ru[cs],Ru[cs]=null,cs--)}function de(e,t){cs++,Ru[cs]=e.current,e.current=t}var ln={},Ge=dn(ln),gt=dn(!1),In=ln;function Ls(e,t){var r=e.type.contextTypes;if(!r)return ln;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yt(e){return e=e.childContextTypes,e!=null}function go(){pe(gt),pe(Ge)}function gh(e,t,r){if(Ge.current!==ln)throw Error(O(168));de(Ge,t),de(gt,r)}function nm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,dv(e)||"Unknown",s));return _e({},r,n)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,In=Ge.current,de(Ge,e),de(gt,gt.current),!0}function yh(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=nm(e,t,In),n.__reactInternalMemoizedMergedChildContext=e,pe(gt),pe(Ge),de(Ge,e)):pe(gt),de(gt,r)}var vr=null,Ho=!1,Il=!1;function sm(e){vr===null?vr=[e]:vr.push(e)}function C0(e){Ho=!0,sm(e)}function hn(){if(!Il&&vr!==null){Il=!0;var e=0,t=oe;try{var r=vr;for(oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vr=null,Ho=!1}catch(s){throw vr!==null&&(vr=vr.slice(e+1)),Np(jc,hn),s}finally{oe=t,Il=!1}}return null}var ds=[],hs=0,vo=null,wo=0,Rt=[],Ot=0,$n=null,xr=1,_r="";function _n(e,t){ds[hs++]=wo,ds[hs++]=vo,vo=e,wo=t}function im(e,t,r){Rt[Ot++]=xr,Rt[Ot++]=_r,Rt[Ot++]=$n,$n=e;var n=xr;e=_r;var s=32-Gt(n)-1;n&=~(1<<s),r+=1;var i=32-Gt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,xr=1<<32-Gt(t)+s|r<<s|n,_r=i+e}else xr=1<<i|r<<s|n,_r=e}function Dc(e){e.return!==null&&(_n(e,1),im(e,1,0))}function Ic(e){for(;e===vo;)vo=ds[--hs],ds[hs]=null,wo=ds[--hs],ds[hs]=null;for(;e===$n;)$n=Rt[--Ot],Rt[Ot]=null,_r=Rt[--Ot],Rt[Ot]=null,xr=Rt[--Ot],Rt[Ot]=null}var Et=null,kt=null,ye=!1,Qt=null;function am(e,t){var r=Lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,kt=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$n!==null?{id:xr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Et=e,kt=null,!0):!1;default:return!1}}function Ou(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lu(e){if(ye){var t=kt;if(t){var r=t;if(!vh(e,t)){if(Ou(e))throw Error(O(418));t=en(r.nextSibling);var n=Et;t&&vh(e,t)?am(n,r):(e.flags=e.flags&-4097|2,ye=!1,Et=e)}}else{if(Ou(e))throw Error(O(418));e.flags=e.flags&-4097|2,ye=!1,Et=e}}}function wh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Ra(e){if(e!==Et)return!1;if(!ye)return wh(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cu(e.type,e.memoizedProps)),t&&(t=kt)){if(Ou(e))throw om(),Error(O(418));for(;t;)am(e,t),t=en(t.nextSibling)}if(wh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kt=en(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Et?en(e.stateNode.nextSibling):null;return!0}function om(){for(var e=kt;e;)e=en(e.nextSibling)}function As(){kt=Et=null,ye=!1}function $c(e){Qt===null?Qt=[e]:Qt.push(e)}var N0=Pr.ReactCurrentBatchConfig;function ii(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xh(e){var t=e._init;return t(e._payload)}function lm(e){function t(p,g){if(e){var m=p.deletions;m===null?(p.deletions=[g],p.flags|=16):m.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=sn(p,g),p.index=0,p.sibling=null,p}function i(p,g,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<g?(p.flags|=2,g):m):(p.flags|=2,g)):(p.flags|=1048576,g)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,g,m,w){return g===null||g.tag!==6?(g=Hl(m,p.mode,w),g.return=p,g):(g=s(g,m),g.return=p,g)}function l(p,g,m,w){var j=m.type;return j===is?c(p,g,m.props.children,w,m.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$r&&xh(j)===g.type)?(w=s(g,m.props),w.ref=ii(p,g,m),w.return=p,w):(w=to(m.type,m.key,m.props,null,p.mode,w),w.ref=ii(p,g,m),w.return=p,w)}function u(p,g,m,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=ql(m,p.mode,w),g.return=p,g):(g=s(g,m.children||[]),g.return=p,g)}function c(p,g,m,w,j){return g===null||g.tag!==7?(g=Dn(m,p.mode,w,j),g.return=p,g):(g=s(g,m),g.return=p,g)}function h(p,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Hl(""+g,p.mode,m),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _a:return m=to(g.type,g.key,g.props,null,p.mode,m),m.ref=ii(p,null,g),m.return=p,m;case ss:return g=ql(g,p.mode,m),g.return=p,g;case $r:var w=g._init;return h(p,w(g._payload),m)}if(pi(g)||ei(g))return g=Dn(g,p.mode,m,null),g.return=p,g;Oa(p,g)}return null}function f(p,g,m,w){var j=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:o(p,g,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _a:return m.key===j?l(p,g,m,w):null;case ss:return m.key===j?u(p,g,m,w):null;case $r:return j=m._init,f(p,g,j(m._payload),w)}if(pi(m)||ei(m))return j!==null?null:c(p,g,m,w,null);Oa(p,m)}return null}function v(p,g,m,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(m)||null,o(g,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _a:return p=p.get(w.key===null?m:w.key)||null,l(g,p,w,j);case ss:return p=p.get(w.key===null?m:w.key)||null,u(g,p,w,j);case $r:var y=w._init;return v(p,g,m,y(w._payload),j)}if(pi(w)||ei(w))return p=p.get(m)||null,c(g,p,w,j,null);Oa(g,w)}return null}function x(p,g,m,w){for(var j=null,y=null,C=g,T=g=0,L=null;C!==null&&T<m.length;T++){C.index>T?(L=C,C=null):L=C.sibling;var I=f(p,C,m[T],w);if(I===null){C===null&&(C=L);break}e&&C&&I.alternate===null&&t(p,C),g=i(I,g,T),y===null?j=I:y.sibling=I,y=I,C=L}if(T===m.length)return r(p,C),ye&&_n(p,T),j;if(C===null){for(;T<m.length;T++)C=h(p,m[T],w),C!==null&&(g=i(C,g,T),y===null?j=C:y.sibling=C,y=C);return ye&&_n(p,T),j}for(C=n(p,C);T<m.length;T++)L=v(C,p,T,m[T],w),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?T:L.key),g=i(L,g,T),y===null?j=L:y.sibling=L,y=L);return e&&C.forEach(function(le){return t(p,le)}),ye&&_n(p,T),j}function S(p,g,m,w){var j=ei(m);if(typeof j!="function")throw Error(O(150));if(m=j.call(m),m==null)throw Error(O(151));for(var y=j=null,C=g,T=g=0,L=null,I=m.next();C!==null&&!I.done;T++,I=m.next()){C.index>T?(L=C,C=null):L=C.sibling;var le=f(p,C,I.value,w);if(le===null){C===null&&(C=L);break}e&&C&&le.alternate===null&&t(p,C),g=i(le,g,T),y===null?j=le:y.sibling=le,y=le,C=L}if(I.done)return r(p,C),ye&&_n(p,T),j;if(C===null){for(;!I.done;T++,I=m.next())I=h(p,I.value,w),I!==null&&(g=i(I,g,T),y===null?j=I:y.sibling=I,y=I);return ye&&_n(p,T),j}for(C=n(p,C);!I.done;T++,I=m.next())I=v(C,p,T,I.value,w),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),g=i(I,g,T),y===null?j=I:y.sibling=I,y=I);return e&&C.forEach(function(xt){return t(p,xt)}),ye&&_n(p,T),j}function k(p,g,m,w){if(typeof m=="object"&&m!==null&&m.type===is&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case _a:e:{for(var j=m.key,y=g;y!==null;){if(y.key===j){if(j=m.type,j===is){if(y.tag===7){r(p,y.sibling),g=s(y,m.props.children),g.return=p,p=g;break e}}else if(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$r&&xh(j)===y.type){r(p,y.sibling),g=s(y,m.props),g.ref=ii(p,y,m),g.return=p,p=g;break e}r(p,y);break}else t(p,y);y=y.sibling}m.type===is?(g=Dn(m.props.children,p.mode,w,m.key),g.return=p,p=g):(w=to(m.type,m.key,m.props,null,p.mode,w),w.ref=ii(p,g,m),w.return=p,p=w)}return a(p);case ss:e:{for(y=m.key;g!==null;){if(g.key===y)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){r(p,g.sibling),g=s(g,m.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=ql(m,p.mode,w),g.return=p,p=g}return a(p);case $r:return y=m._init,k(p,g,y(m._payload),w)}if(pi(m))return x(p,g,m,w);if(ei(m))return S(p,g,m,w);Oa(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,m),g.return=p,p=g):(r(p,g),g=Hl(m,p.mode,w),g.return=p,p=g),a(p)):r(p,g)}return k}var Ds=lm(!0),um=lm(!1),xo=dn(null),_o=null,fs=null,Mc=null;function Uc(){Mc=fs=_o=null}function Fc(e){var t=xo.current;pe(xo),e._currentValue=t}function Au(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xs(e,t){_o=e,Mc=fs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Mc!==e)if(e={context:e,memoizedValue:t,next:null},fs===null){if(_o===null)throw Error(O(308));fs=e,_o.dependencies={lanes:0,firstContext:e}}else fs=fs.next=e;return t}var jn=null;function zc(e){jn===null?jn=[e]:jn.push(e)}function cm(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,zc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Er(e,n)}function Er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mr=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Er(e,r)}return s=n.interleaved,s===null?(t.next=t,zc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Er(e,r)}function Ga(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pc(e,r)}}function _h(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function So(e,t,r,n){var s=e.updateQueue;Mr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,c=u=l=null,o=i;do{var f=o.lane,v=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,S=o;switch(f=t,v=r,S.tag){case 1:if(x=S.payload,typeof x=="function"){h=x.call(v,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,f=typeof x=="function"?x.call(v,h,f):x,f==null)break e;h=_e({},h,f);break e;case 2:Mr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Un|=a,e.lanes=a,e.memoizedState=h}}function Sh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var oa={},cr=dn(oa),Bi=dn(oa),Hi=dn(oa);function Pn(e){if(e===oa)throw Error(O(174));return e}function Hc(e,t){switch(de(Hi,t),de(Bi,e),de(cr,oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pu(t,e)}pe(cr),de(cr,t)}function Is(){pe(cr),pe(Bi),pe(Hi)}function hm(e){Pn(Hi.current);var t=Pn(cr.current),r=pu(t,e.type);t!==r&&(de(Bi,e),de(cr,r))}function qc(e){Bi.current===e&&(pe(cr),pe(Bi))}var we=dn(0);function bo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function Wc(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Ja=Pr.ReactCurrentDispatcher,Ml=Pr.ReactCurrentBatchConfig,Mn=0,xe=null,Ae=null,$e=null,ko=!1,ki=!1,qi=0,T0=0;function Ve(){throw Error(O(321))}function Vc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yt(e[r],t[r]))return!1;return!0}function Kc(e,t,r,n,s,i){if(Mn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=e===null||e.memoizedState===null?A0:D0,e=r(n,s),ki){i=0;do{if(ki=!1,qi=0,25<=i)throw Error(O(301));i+=1,$e=Ae=null,t.updateQueue=null,Ja.current=I0,e=r(n,s)}while(ki)}if(Ja.current=Eo,t=Ae!==null&&Ae.next!==null,Mn=0,$e=Ae=xe=null,ko=!1,t)throw Error(O(300));return e}function Qc(){var e=qi!==0;return qi=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?xe.memoizedState=$e=e:$e=$e.next=e,$e}function $t(){if(Ae===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=$e===null?xe.memoizedState:$e.next;if(t!==null)$e=t,Ae=e;else{if(e===null)throw Error(O(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},$e===null?xe.memoizedState=$e=e:$e=$e.next=e}return $e}function Wi(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=$t(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Mn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,xe.lanes|=c,Un|=c}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,Yt(n,t.memoizedState)||(mt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,Un|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fl(e){var t=$t(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Yt(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function fm(){}function pm(e,t){var r=xe,n=$t(),s=t(),i=!Yt(n.memoizedState,s);if(i&&(n.memoizedState=s,mt=!0),n=n.queue,Gc(ym.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,Vi(9,gm.bind(null,r,n,s,t),void 0,null),Me===null)throw Error(O(349));Mn&30||mm(r,t,s)}return s}function mm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gm(e,t,r,n){t.value=r,t.getSnapshot=n,vm(t)&&wm(e)}function ym(e,t,r){return r(function(){vm(t)&&wm(e)})}function vm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yt(e,r)}catch{return!0}}function wm(e){var t=Er(e,1);t!==null&&Jt(t,e,1,-1)}function bh(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=L0.bind(null,xe,e),[t.memoizedState,e]}function Vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function xm(){return $t().memoizedState}function Ya(e,t,r,n){var s=nr();xe.flags|=e,s.memoizedState=Vi(1|t,r,void 0,n===void 0?null:n)}function qo(e,t,r,n){var s=$t();n=n===void 0?null:n;var i=void 0;if(Ae!==null){var a=Ae.memoizedState;if(i=a.destroy,n!==null&&Vc(n,a.deps)){s.memoizedState=Vi(t,r,i,n);return}}xe.flags|=e,s.memoizedState=Vi(1|t,r,i,n)}function kh(e,t){return Ya(8390656,8,e,t)}function Gc(e,t){return qo(2048,8,e,t)}function _m(e,t){return qo(4,2,e,t)}function Sm(e,t){return qo(4,4,e,t)}function bm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function km(e,t,r){return r=r!=null?r.concat([e]):null,qo(4,4,bm.bind(null,t,e),r)}function Jc(){}function Em(e,t){var r=$t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jm(e,t){var r=$t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Pm(e,t,r){return Mn&21?(Yt(r,t)||(r=Op(),xe.lanes|=r,Un|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r)}function R0(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var n=Ml.transition;Ml.transition={};try{e(!1),t()}finally{oe=r,Ml.transition=n}}function Cm(){return $t().memoizedState}function O0(e,t,r){var n=nn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nm(e))Tm(t,r);else if(r=cm(e,t,r,n),r!==null){var s=ot();Jt(r,e,n,s),Rm(r,t,n)}}function L0(e,t,r){var n=nn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nm(e))Tm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Yt(o,a)){var l=t.interleaved;l===null?(s.next=s,zc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=cm(e,t,s,n),r!==null&&(s=ot(),Jt(r,e,n,s),Rm(r,t,n))}}function Nm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Tm(e,t){ki=ko=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pc(e,r)}}var Eo={readContext:It,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},A0={readContext:It,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:kh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ya(4194308,4,bm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ya(4,2,e,t)},useMemo:function(e,t){var r=nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=nr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O0.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:bh,useDebugValue:Jc,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=bh(!1),t=e[0];return e=R0.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,s=nr();if(ye){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),Me===null)throw Error(O(349));Mn&30||mm(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,kh(ym.bind(null,n,i,e),[e]),n.flags|=2048,Vi(9,gm.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=nr(),t=Me.identifierPrefix;if(ye){var r=_r,n=xr;r=(n&~(1<<32-Gt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=T0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D0={readContext:It,useCallback:Em,useContext:It,useEffect:Gc,useImperativeHandle:km,useInsertionEffect:_m,useLayoutEffect:Sm,useMemo:jm,useReducer:Ul,useRef:xm,useState:function(){return Ul(Wi)},useDebugValue:Jc,useDeferredValue:function(e){var t=$t();return Pm(t,Ae.memoizedState,e)},useTransition:function(){var e=Ul(Wi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Cm,unstable_isNewReconciler:!1},I0={readContext:It,useCallback:Em,useContext:It,useEffect:Gc,useImperativeHandle:km,useInsertionEffect:_m,useLayoutEffect:Sm,useMemo:jm,useReducer:Fl,useRef:xm,useState:function(){return Fl(Wi)},useDebugValue:Jc,useDeferredValue:function(e){var t=$t();return Ae===null?t.memoizedState=e:Pm(t,Ae.memoizedState,e)},useTransition:function(){var e=Fl(Wi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Cm,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Du(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wo={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ot(),s=nn(e),i=Sr(n,s);i.payload=t,r!=null&&(i.callback=r),t=tn(e,i,s),t!==null&&(Jt(t,e,s,n),Ga(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ot(),s=nn(e),i=Sr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tn(e,i,s),t!==null&&(Jt(t,e,s,n),Ga(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ot(),n=nn(e),s=Sr(r,n);s.tag=2,t!=null&&(s.callback=t),t=tn(e,s,n),t!==null&&(Jt(t,e,n,r),Ga(t,e,n))}};function Eh(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Mi(r,n)||!Mi(s,i):!0}function Om(e,t,r){var n=!1,s=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=yt(t)?In:Ge.current,n=t.contextTypes,i=(n=n!=null)?Ls(e,s):ln),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function jh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function Iu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Bc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=yt(t)?In:Ge.current,s.context=Ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Du(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wo.enqueueReplaceState(s,s.state,null),So(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t){try{var r="",n=t;do r+=cv(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $u(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $0=typeof WeakMap=="function"?WeakMap:Map;function Lm(e,t,r){r=Sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Po||(Po=!0,Ku=n),$u(e,t)},r}function Am(e,t,r){r=Sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){$u(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$u(e,t),typeof n!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Ph(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Y0.bind(null,e,t,r),t.then(e,e))}function Ch(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sr(-1,1),t.tag=2,tn(r,t,1))),r.lanes|=1),e)}var M0=Pr.ReactCurrentOwner,mt=!1;function tt(e,t,r,n){t.child=e===null?um(t,null,r,n):Ds(t,e.child,r,n)}function Th(e,t,r,n,s){r=r.render;var i=t.ref;return xs(t,s),n=Kc(e,t,r,n,i,s),r=Qc(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(ye&&r&&Dc(t),t.flags|=1,tt(e,t,n,s),t.child)}function Rh(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Dm(e,t,i,n,s)):(e=to(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mi,r(a,n)&&e.ref===t.ref)return jr(e,t,s)}return t.flags|=1,e=sn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Dm(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Mi(i,n)&&e.ref===t.ref)if(mt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,jr(e,t,s)}return Mu(e,t,r,n,s)}function Im(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(ms,St),St|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(ms,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,de(ms,St),St|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,de(ms,St),St|=n;return tt(e,t,s,r),t.child}function $m(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mu(e,t,r,n,s){var i=yt(r)?In:Ge.current;return i=Ls(t,i),xs(t,s),r=Kc(e,t,r,n,i,s),n=Qc(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(ye&&n&&Dc(t),t.flags|=1,tt(e,t,r,s),t.child)}function Oh(e,t,r,n,s){if(yt(r)){var i=!0;yo(t)}else i=!1;if(xs(t,s),t.stateNode===null)Xa(e,t),Om(t,r,n),Iu(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=It(u):(u=yt(r)?In:Ge.current,u=Ls(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&jh(t,a,n,u),Mr=!1;var f=t.memoizedState;a.state=f,So(t,n,a,s),l=t.memoizedState,o!==n||f!==l||gt.current||Mr?(typeof c=="function"&&(Du(t,r,c,n),l=t.memoizedState),(o=Mr||Eh(t,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,dm(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Bt(t.type,o),a.props=u,h=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=It(l):(l=yt(r)?In:Ge.current,l=Ls(t,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&jh(t,a,n,l),Mr=!1,f=t.memoizedState,a.state=f,So(t,n,a,s);var x=t.memoizedState;o!==h||f!==x||gt.current||Mr?(typeof v=="function"&&(Du(t,r,v,n),x=t.memoizedState),(u=Mr||Eh(t,r,u,n,f,x,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Uu(e,t,r,n,i,s)}function Uu(e,t,r,n,s,i){$m(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&yh(t,r,!1),jr(e,t,i);n=t.stateNode,M0.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ds(t,e.child,null,i),t.child=Ds(t,null,o,i)):tt(e,t,o,i),t.memoizedState=n.state,s&&yh(t,r,!0),t.child}function Mm(e){var t=e.stateNode;t.pendingContext?gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gh(e,t.context,!1),Hc(e,t.containerInfo)}function Lh(e,t,r,n,s){return As(),$c(s),t.flags|=256,tt(e,t,r,n),t.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function zu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Um(e,t,r){var n=t.pendingProps,s=we.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(we,s&1),e===null)return Lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Qo(a,n,0,null),e=Dn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zu(r),t.memoizedState=Fu,e):Yc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return U0(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=sn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=sn(o,i):(i=Dn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?zu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Fu,n}return i=e.child,e=i.sibling,n=sn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yc(e,t){return t=Qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function La(e,t,r,n){return n!==null&&$c(n),Ds(t,e.child,null,r),e=Yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=zl(Error(O(422))),La(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Qo({mode:"visible",children:n.children},s,0,null),i=Dn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ds(t,e.child,null,a),t.child.memoizedState=zu(a),t.memoizedState=Fu,i);if(!(t.mode&1))return La(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(O(419)),n=zl(i,n,void 0),La(e,t,a,n)}if(o=(a&e.childLanes)!==0,mt||o){if(n=Me,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Er(e,s),Jt(n,e,s,-1))}return nd(),n=zl(Error(O(421))),La(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=X0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,kt=en(s.nextSibling),Et=t,ye=!0,Qt=null,e!==null&&(Rt[Ot++]=xr,Rt[Ot++]=_r,Rt[Ot++]=$n,xr=e.id,_r=e.overflow,$n=t),t=Yc(t,n.children),t.flags|=4096,t)}function Ah(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Au(e.return,t,r)}function Bl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Fm(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(tt(e,t,n.children,r),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,r,t);else if(e.tag===19)Ah(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(de(we,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&bo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Bl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Bl(t,!0,r,null,i);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=sn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function F0(e,t,r){switch(t.tag){case 3:Mm(t),As();break;case 5:hm(t);break;case 1:yt(t.type)&&yo(t);break;case 4:Hc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;de(xo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(de(we,we.current&1),t.flags|=128,null):r&t.child.childLanes?Um(e,t,r):(de(we,we.current&1),e=jr(e,t,r),e!==null?e.sibling:null);de(we,we.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Fm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,Im(e,t,r)}return jr(e,t,r)}var zm,Bu,Bm,Hm;zm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bu=function(){};Bm=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Pn(cr.current);var i=null;switch(r){case"input":s=cu(e,s),n=cu(e,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=fu(e,s),n=fu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mo)}mu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ri.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ri.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Hm=function(e,t,r,n){r!==n&&(t.flags|=4)};function ai(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function z0(e,t,r){var n=t.pendingProps;switch(Ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return yt(t.type)&&go(),Ke(t),null;case 3:return n=t.stateNode,Is(),pe(gt),pe(Ge),Wc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(Ju(Qt),Qt=null))),Bu(e,t),Ke(t),null;case 5:qc(t);var s=Pn(Hi.current);if(r=t.type,e!==null&&t.stateNode!=null)Bm(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Ke(t),null}if(e=Pn(cr.current),Ra(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[lr]=t,n[zi]=i,e=(t.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(s=0;s<gi.length;s++)fe(gi[s],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":Hd(n,i),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},fe("invalid",n);break;case"textarea":Wd(n,i),fe("invalid",n)}mu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ta(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ta(n.textContent,o,e),s=["children",""+o]):Ri.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&fe("scroll",n)}switch(r){case"input":Sa(n),qd(n,i,!0);break;case"textarea":Sa(n),Vd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[lr]=t,e[zi]=n,zm(e,t,!1,!1),t.stateNode=e;e:{switch(a=gu(r,n),r){case"dialog":fe("cancel",e),fe("close",e),s=n;break;case"iframe":case"object":case"embed":fe("load",e),s=n;break;case"video":case"audio":for(s=0;s<gi.length;s++)fe(gi[s],e);s=n;break;case"source":fe("error",e),s=n;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=n;break;case"details":fe("toggle",e),s=n;break;case"input":Hd(e,n),s=cu(e,n),fe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),fe("invalid",e);break;case"textarea":Wd(e,n),s=fu(e,n),fe("invalid",e);break;default:s=n}mu(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?xp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vp(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Oi(e,l):typeof l=="number"&&Oi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ri.hasOwnProperty(i)?l!=null&&i==="onScroll"&&fe("scroll",e):l!=null&&_c(e,i,l,a))}switch(r){case"input":Sa(e),qd(e,n,!1);break;case"textarea":Sa(e),Vd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+on(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?gs(e,!!n.multiple,i,!1):n.defaultValue!=null&&gs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Hm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=Pn(Hi.current),Pn(cr.current),Ra(t)){if(n=t.stateNode,r=t.memoizedProps,n[lr]=t,(i=n.nodeValue!==r)&&(e=Et,e!==null))switch(e.tag){case 3:Ta(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=t,t.stateNode=n}return Ke(t),null;case 13:if(pe(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&kt!==null&&t.mode&1&&!(t.flags&128))om(),As(),t.flags|=98560,i=!1;else if(i=Ra(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[lr]=t}else As(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Qt!==null&&(Ju(Qt),Qt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?De===0&&(De=3):nd())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Is(),Bu(e,t),e===null&&Ui(t.stateNode.containerInfo),Ke(t),null;case 10:return Fc(t.type._context),Ke(t),null;case 17:return yt(t.type)&&go(),Ke(t),null;case 19:if(pe(we),i=t.memoizedState,i===null)return Ke(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ai(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bo(e),a!==null){for(t.flags|=128,ai(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return de(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>Ms&&(t.flags|=128,n=!0,ai(i,!1),t.lanes=4194304)}else{if(!n)if(e=bo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ye)return Ke(t),null}else 2*Ee()-i.renderingStartTime>Ms&&r!==1073741824&&(t.flags|=128,n=!0,ai(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,r=we.current,de(we,n?r&1|2:r&1),t):(Ke(t),null);case 22:case 23:return rd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?St&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function B0(e,t){switch(Ic(t),t.tag){case 1:return yt(t.type)&&go(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Is(),pe(gt),pe(Ge),Wc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qc(t),null;case 13:if(pe(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));As()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(we),null;case 4:return Is(),null;case 10:return Fc(t.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var Aa=!1,Qe=!1,H0=typeof WeakSet=="function"?WeakSet:Set,$=null;function ps(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function Hu(e,t,r){try{r()}catch(n){ke(e,t,n)}}var Dh=!1;function q0(e,t){if(ju=ho,e=Qp(),Ac(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++c===n&&(l=a),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pu={focusedElem:e,selectionRange:r},ho=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,k=x.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?S:Bt(t.type,S),k);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){ke(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return x=Dh,Dh=!1,x}function Ei(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hu(t,r,i)}s=s.next}while(s!==n)}}function Vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qm(e){var t=e.alternate;t!==null&&(e.alternate=null,qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[zi],delete t[Tu],delete t[j0],delete t[P0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wm(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mo));else if(n!==4&&(e=e.child,e!==null))for(Wu(e,t,r),e=e.sibling;e!==null;)Wu(e,t,r),e=e.sibling}function Vu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}var Ue=null,Vt=!1;function Or(e,t,r){for(r=r.child;r!==null;)Vm(e,t,r),r=r.sibling}function Vm(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Mo,r)}catch{}switch(r.tag){case 5:Qe||ps(r,t);case 6:var n=Ue,s=Vt;Ue=null,Or(e,t,r),Ue=n,Vt=s,Ue!==null&&(Vt?(e=Ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Vt?(e=Ue,r=r.stateNode,e.nodeType===8?Dl(e.parentNode,r):e.nodeType===1&&Dl(e,r),Ii(e)):Dl(Ue,r.stateNode));break;case 4:n=Ue,s=Vt,Ue=r.stateNode.containerInfo,Vt=!0,Or(e,t,r),Ue=n,Vt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Hu(r,t,a),s=s.next}while(s!==n)}Or(e,t,r);break;case 1:if(!Qe&&(ps(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ke(r,t,o)}Or(e,t,r);break;case 21:Or(e,t,r);break;case 22:r.mode&1?(Qe=(n=Qe)||r.memoizedState!==null,Or(e,t,r),Qe=n):Or(e,t,r);break;default:Or(e,t,r)}}function $h(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new H0),t.forEach(function(n){var s=Z0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ue=o.stateNode,Vt=!1;break e;case 3:Ue=o.stateNode.containerInfo,Vt=!0;break e;case 4:Ue=o.stateNode.containerInfo,Vt=!0;break e}o=o.return}if(Ue===null)throw Error(O(160));Vm(i,a,s),Ue=null,Vt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Km(t,e),t=t.sibling}function Km(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),rr(e),n&4){try{Ei(3,e,e.return),Vo(3,e)}catch(S){ke(e,e.return,S)}try{Ei(5,e,e.return)}catch(S){ke(e,e.return,S)}}break;case 1:Ft(t,e),rr(e),n&512&&r!==null&&ps(r,r.return);break;case 5:if(Ft(t,e),rr(e),n&512&&r!==null&&ps(r,r.return),e.flags&32){var s=e.stateNode;try{Oi(s,"")}catch(S){ke(e,e.return,S)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&mp(s,i),gu(o,a);var u=gu(o,i);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?xp(s,h):c==="dangerouslySetInnerHTML"?vp(s,h):c==="children"?Oi(s,h):_c(s,c,h,u)}switch(o){case"input":du(s,i);break;case"textarea":gp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?gs(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?gs(s,!!i.multiple,i.defaultValue,!0):gs(s,!!i.multiple,i.multiple?[]:"",!1))}s[zi]=i}catch(S){ke(e,e.return,S)}}break;case 6:if(Ft(t,e),rr(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){ke(e,e.return,S)}}break;case 3:if(Ft(t,e),rr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(S){ke(e,e.return,S)}break;case 4:Ft(t,e),rr(e);break;case 13:Ft(t,e),rr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ed=Ee())),n&4&&$h(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||c,Ft(t,e),Qe=u):Ft(t,e),rr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for($=e,c=e.child;c!==null;){for(h=$=c;$!==null;){switch(f=$,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ei(4,f,f.return);break;case 1:ps(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){ke(n,r,S)}}break;case 5:ps(f,f.return);break;case 22:if(f.memoizedState!==null){Uh(h);continue}}v!==null?(v.return=f,$=v):Uh(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=wp("display",a))}catch(S){ke(e,e.return,S)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){ke(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ft(t,e),rr(e),n&4&&$h(e);break;case 21:break;default:Ft(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wm(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Oi(s,""),n.flags&=-33);var i=Ih(e);Vu(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Ih(e);Wu(e,o,a);break;default:throw Error(O(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W0(e,t,r){$=e,Qm(e)}function Qm(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Aa;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Qe;o=Aa;var u=Qe;if(Aa=a,(Qe=l)&&!u)for($=s;$!==null;)a=$,l=a.child,a.tag===22&&a.memoizedState!==null?Fh(s):l!==null?(l.return=a,$=l):Fh(s);for(;i!==null;)$=i,Qm(i),i=i.sibling;$=s,Aa=o,Qe=u}Mh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Mh(e)}}function Mh(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Vo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Bt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sh(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sh(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ii(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Qe||t.flags&512&&qu(t)}catch(f){ke(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Uh(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Fh(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vo(4,t)}catch(l){ke(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ke(t,s,l)}}var i=t.return;try{qu(t)}catch(l){ke(t,i,l)}break;case 5:var a=t.return;try{qu(t)}catch(l){ke(t,a,l)}}}catch(l){ke(t,t.return,l)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var V0=Math.ceil,jo=Pr.ReactCurrentDispatcher,Xc=Pr.ReactCurrentOwner,At=Pr.ReactCurrentBatchConfig,te=0,Me=null,Ce=null,Fe=0,St=0,ms=dn(0),De=0,Ki=null,Un=0,Ko=0,Zc=0,ji=null,ft=null,ed=0,Ms=1/0,gr=null,Po=!1,Ku=null,rn=null,Da=!1,Jr=null,Co=0,Pi=0,Qu=null,Za=-1,eo=0;function ot(){return te&6?Ee():Za!==-1?Za:Za=Ee()}function nn(e){return e.mode&1?te&2&&Fe!==0?Fe&-Fe:N0.transition!==null?(eo===0&&(eo=Op()),eo):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Up(e.type)),e):1}function Jt(e,t,r,n){if(50<Pi)throw Pi=0,Qu=null,Error(O(185));sa(e,r,n),(!(te&2)||e!==Me)&&(e===Me&&(!(te&2)&&(Ko|=r),De===4&&Fr(e,Fe)),vt(e,n),r===1&&te===0&&!(t.mode&1)&&(Ms=Ee()+500,Ho&&hn()))}function vt(e,t){var r=e.callbackNode;Nv(e,t);var n=co(e,e===Me?Fe:0);if(n===0)r!==null&&Gd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gd(r),t===1)e.tag===0?C0(zh.bind(null,e)):sm(zh.bind(null,e)),k0(function(){!(te&6)&&hn()}),r=null;else{switch(Lp(n)){case 1:r=jc;break;case 4:r=Tp;break;case 16:r=uo;break;case 536870912:r=Rp;break;default:r=uo}r=rg(r,Gm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gm(e,t){if(Za=-1,eo=0,te&6)throw Error(O(327));var r=e.callbackNode;if(_s()&&e.callbackNode!==r)return null;var n=co(e,e===Me?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=No(e,n);else{t=n;var s=te;te|=2;var i=Ym();(Me!==e||Fe!==t)&&(gr=null,Ms=Ee()+500,An(e,t));do try{G0();break}catch(o){Jm(e,o)}while(!0);Uc(),jo.current=i,te=s,Ce!==null?t=0:(Me=null,Fe=0,t=De)}if(t!==0){if(t===2&&(s=_u(e),s!==0&&(n=s,t=Gu(e,s))),t===1)throw r=Ki,An(e,0),Fr(e,n),vt(e,Ee()),r;if(t===6)Fr(e,n);else{if(s=e.current.alternate,!(n&30)&&!K0(s)&&(t=No(e,n),t===2&&(i=_u(e),i!==0&&(n=i,t=Gu(e,i))),t===1))throw r=Ki,An(e,0),Fr(e,n),vt(e,Ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Sn(e,ft,gr);break;case 3:if(Fr(e,n),(n&130023424)===n&&(t=ed+500-Ee(),10<t)){if(co(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nu(Sn.bind(null,e,ft,gr),t);break}Sn(e,ft,gr);break;case 4:if(Fr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Gt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V0(n/1960))-n,10<n){e.timeoutHandle=Nu(Sn.bind(null,e,ft,gr),n);break}Sn(e,ft,gr);break;case 5:Sn(e,ft,gr);break;default:throw Error(O(329))}}}return vt(e,Ee()),e.callbackNode===r?Gm.bind(null,e):null}function Gu(e,t){var r=ji;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=No(e,t),e!==2&&(t=ft,ft=r,t!==null&&Ju(t)),e}function Ju(e){ft===null?ft=e:ft.push.apply(ft,e)}function K0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fr(e,t){for(t&=~Zc,t&=~Ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gt(t),n=1<<r;e[r]=-1,t&=~n}}function zh(e){if(te&6)throw Error(O(327));_s();var t=co(e,0);if(!(t&1))return vt(e,Ee()),null;var r=No(e,t);if(e.tag!==0&&r===2){var n=_u(e);n!==0&&(t=n,r=Gu(e,n))}if(r===1)throw r=Ki,An(e,0),Fr(e,t),vt(e,Ee()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,ft,gr),vt(e,Ee()),null}function td(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(Ms=Ee()+500,Ho&&hn())}}function Fn(e){Jr!==null&&Jr.tag===0&&!(te&6)&&_s();var t=te;te|=1;var r=At.transition,n=oe;try{if(At.transition=null,oe=1,e)return e()}finally{oe=n,At.transition=r,te=t,!(te&6)&&hn()}}function rd(){St=ms.current,pe(ms)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,b0(r)),Ce!==null)for(r=Ce.return;r!==null;){var n=r;switch(Ic(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&go();break;case 3:Is(),pe(gt),pe(Ge),Wc();break;case 5:qc(n);break;case 4:Is();break;case 13:pe(we);break;case 19:pe(we);break;case 10:Fc(n.type._context);break;case 22:case 23:rd()}r=r.return}if(Me=e,Ce=e=sn(e.current,null),Fe=St=t,De=0,Ki=null,Zc=Ko=Un=0,ft=ji=null,jn!==null){for(t=0;t<jn.length;t++)if(r=jn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}jn=null}return e}function Jm(e,t){do{var r=Ce;try{if(Uc(),Ja.current=Eo,ko){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ko=!1}if(Mn=0,$e=Ae=xe=null,ki=!1,qi=0,Xc.current=null,r===null||r.return===null){De=1,Ki=t,Ce=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=Fe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Ch(a);if(v!==null){v.flags&=-257,Nh(v,a,o,i,t),v.mode&1&&Ph(i,u,t),t=v,l=u;var x=t.updateQueue;if(x===null){var S=new Set;S.add(l),t.updateQueue=S}else x.add(l);break e}else{if(!(t&1)){Ph(i,u,t),nd();break e}l=Error(O(426))}}else if(ye&&o.mode&1){var k=Ch(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Nh(k,a,o,i,t),$c($s(l,o));break e}}i=l=$s(l,o),De!==4&&(De=2),ji===null?ji=[i]:ji.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Lm(i,l,t);_h(i,p);break e;case 1:o=l;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rn===null||!rn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Am(i,o,t);_h(i,w);break e}}i=i.return}while(i!==null)}Zm(r)}catch(j){t=j,Ce===r&&r!==null&&(Ce=r=r.return);continue}break}while(!0)}function Ym(){var e=jo.current;return jo.current=Eo,e===null?Eo:e}function nd(){(De===0||De===3||De===2)&&(De=4),Me===null||!(Un&268435455)&&!(Ko&268435455)||Fr(Me,Fe)}function No(e,t){var r=te;te|=2;var n=Ym();(Me!==e||Fe!==t)&&(gr=null,An(e,t));do try{Q0();break}catch(s){Jm(e,s)}while(!0);if(Uc(),te=r,jo.current=n,Ce!==null)throw Error(O(261));return Me=null,Fe=0,De}function Q0(){for(;Ce!==null;)Xm(Ce)}function G0(){for(;Ce!==null&&!xv();)Xm(Ce)}function Xm(e){var t=tg(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?Zm(e):Ce=t,Xc.current=null}function Zm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B0(r,t),r!==null){r.flags&=32767,Ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ce=null;return}}else if(r=z0(r,t,St),r!==null){Ce=r;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);De===0&&(De=5)}function Sn(e,t,r){var n=oe,s=At.transition;try{At.transition=null,oe=1,J0(e,t,r,n)}finally{At.transition=s,oe=n}return null}function J0(e,t,r,n){do _s();while(Jr!==null);if(te&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Tv(e,i),e===Me&&(Ce=Me=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Da||(Da=!0,rg(uo,function(){return _s(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=At.transition,At.transition=null;var a=oe;oe=1;var o=te;te|=4,Xc.current=null,q0(e,r),Km(r,e),g0(Pu),ho=!!ju,Pu=ju=null,e.current=r,W0(r),_v(),te=o,oe=a,At.transition=i}else e.current=r;if(Da&&(Da=!1,Jr=e,Co=s),i=e.pendingLanes,i===0&&(rn=null),kv(r.stateNode),vt(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Po)throw Po=!1,e=Ku,Ku=null,e;return Co&1&&e.tag!==0&&_s(),i=e.pendingLanes,i&1?e===Qu?Pi++:(Pi=0,Qu=e):Pi=0,hn(),null}function _s(){if(Jr!==null){var e=Lp(Co),t=At.transition,r=oe;try{if(At.transition=null,oe=16>e?16:e,Jr===null)var n=!1;else{if(e=Jr,Jr=null,Co=0,te&6)throw Error(O(331));var s=te;for(te|=4,$=e.current;$!==null;){var i=$,a=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:Ei(8,c,i)}var h=c.child;if(h!==null)h.return=c,$=h;else for(;$!==null;){c=$;var f=c.sibling,v=c.return;if(qm(c),c===u){$=null;break}if(f!==null){f.return=v,$=f;break}$=v}}}var x=i.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}$=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,$=a;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ei(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,$=p;break e}$=i.return}}var g=e.current;for($=g;$!==null;){a=$;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,$=m;else e:for(a=g;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Vo(9,o)}}catch(j){ke(o,o.return,j)}if(o===a){$=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,$=w;break e}$=o.return}}if(te=s,hn(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Mo,e)}catch{}n=!0}return n}finally{oe=r,At.transition=t}}return!1}function Bh(e,t,r){t=$s(r,t),t=Lm(e,t,1),e=tn(e,t,1),t=ot(),e!==null&&(sa(e,1,t),vt(e,t))}function ke(e,t,r){if(e.tag===3)Bh(e,e,r);else for(;t!==null;){if(t.tag===3){Bh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rn===null||!rn.has(n))){e=$s(r,e),e=Am(t,e,1),t=tn(t,e,1),e=ot(),t!==null&&(sa(t,1,e),vt(t,e));break}}t=t.return}}function Y0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(Fe&r)===r&&(De===4||De===3&&(Fe&130023424)===Fe&&500>Ee()-ed?An(e,0):Zc|=r),vt(e,t)}function eg(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var r=ot();e=Er(e,t),e!==null&&(sa(e,t,r),vt(e,r))}function X0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),eg(e,r)}function Z0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),eg(e,r)}var tg;tg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mt=!1,F0(e,t,r);mt=!!(e.flags&131072)}else mt=!1,ye&&t.flags&1048576&&im(t,wo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xa(e,t),e=t.pendingProps;var s=Ls(t,Ge.current);xs(t,r),s=Kc(null,t,n,e,s,r);var i=Qc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(n)?(i=!0,yo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bc(t),s.updater=Wo,t.stateNode=s,s._reactInternals=t,Iu(t,n,e,r),t=Uu(null,t,n,!0,i,r)):(t.tag=0,ye&&i&&Dc(t),tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xa(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=tw(n),e=Bt(n,e),s){case 0:t=Mu(null,t,n,e,r);break e;case 1:t=Oh(null,t,n,e,r);break e;case 11:t=Th(null,t,n,e,r);break e;case 14:t=Rh(null,t,n,Bt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Bt(n,s),Mu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Bt(n,s),Oh(e,t,n,s,r);case 3:e:{if(Mm(t),e===null)throw Error(O(387));n=t.pendingProps,i=t.memoizedState,s=i.element,dm(e,t),So(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$s(Error(O(423)),t),t=Lh(e,t,n,r,s);break e}else if(n!==s){s=$s(Error(O(424)),t),t=Lh(e,t,n,r,s);break e}else for(kt=en(t.stateNode.containerInfo.firstChild),Et=t,ye=!0,Qt=null,r=um(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(As(),n===s){t=jr(e,t,r);break e}tt(e,t,n,r)}t=t.child}return t;case 5:return hm(t),e===null&&Lu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Cu(n,s)?a=null:i!==null&&Cu(n,i)&&(t.flags|=32),$m(e,t),tt(e,t,a,r),t.child;case 6:return e===null&&Lu(t),null;case 13:return Um(e,t,r);case 4:return Hc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ds(t,null,n,r):tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Bt(n,s),Th(e,t,n,s,r);case 7:return tt(e,t,t.pendingProps,r),t.child;case 8:return tt(e,t,t.pendingProps.children,r),t.child;case 12:return tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,de(xo,n._currentValue),n._currentValue=a,i!==null)if(Yt(i.value,a)){if(i.children===s.children&&!gt.current){t=jr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Sr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Au(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(O(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Au(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,xs(t,r),s=It(s),n=n(s),t.flags|=1,tt(e,t,n,r),t.child;case 14:return n=t.type,s=Bt(n,t.pendingProps),s=Bt(n.type,s),Rh(e,t,n,s,r);case 15:return Dm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Bt(n,s),Xa(e,t),t.tag=1,yt(n)?(e=!0,yo(t)):e=!1,xs(t,r),Om(t,n,s),Iu(t,n,s,r),Uu(null,t,n,!0,e,r);case 19:return Fm(e,t,r);case 22:return Im(e,t,r)}throw Error(O(156,t.tag))};function rg(e,t){return Np(e,t)}function ew(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,r,n){return new ew(e,t,r,n)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tw(e){if(typeof e=="function")return sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bc)return 11;if(e===kc)return 14}return 2}function sn(e,t){var r=e.alternate;return r===null?(r=Lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function to(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")sd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case is:return Dn(r.children,s,i,t);case Sc:a=8,s|=8;break;case au:return e=Lt(12,r,t,s|2),e.elementType=au,e.lanes=i,e;case ou:return e=Lt(13,r,t,s),e.elementType=ou,e.lanes=i,e;case lu:return e=Lt(19,r,t,s),e.elementType=lu,e.lanes=i,e;case hp:return Qo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cp:a=10;break e;case dp:a=9;break e;case bc:a=11;break e;case kc:a=14;break e;case $r:a=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Lt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Dn(e,t,r,n){return e=Lt(7,e,n,t),e.lanes=r,e}function Qo(e,t,r,n){return e=Lt(22,e,n,t),e.elementType=hp,e.lanes=r,e.stateNode={isHidden:!1},e}function Hl(e,t,r){return e=Lt(6,e,null,t),e.lanes=r,e}function ql(e,t,r){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function id(e,t,r,n,s,i,a,o,l){return e=new rw(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(i),e}function nw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ng(e){if(!e)return ln;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(yt(r))return nm(e,r,t)}return t}function sg(e,t,r,n,s,i,a,o,l){return e=id(r,n,!0,e,s,i,a,o,l),e.context=ng(null),r=e.current,n=ot(),s=nn(r),i=Sr(n,s),i.callback=t??null,tn(r,i,s),e.current.lanes=s,sa(e,s,n),vt(e,n),e}function Go(e,t,r,n){var s=t.current,i=ot(),a=nn(s);return r=ng(r),t.context===null?t.context=r:t.pendingContext=r,t=Sr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tn(s,t,a),e!==null&&(Jt(e,s,a,i),Ga(e,s,a)),a}function To(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ad(e,t){Hh(e,t),(e=e.alternate)&&Hh(e,t)}function sw(){return null}var ig=typeof reportError=="function"?reportError:function(e){console.error(e)};function od(e){this._internalRoot=e}Jo.prototype.render=od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Go(e,t,null,null)};Jo.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){Go(null,e,null,null)}),t[kr]=null}};function Jo(e){this._internalRoot=e}Jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ip();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ur.length&&t!==0&&t<Ur[r].priority;r++);Ur.splice(r,0,e),r===0&&Mp(e)}};function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qh(){}function iw(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=To(a);i.call(u)}}var a=sg(t,n,e,0,null,!1,!1,"",qh);return e._reactRootContainer=a,e[kr]=a.current,Ui(e.nodeType===8?e.parentNode:e),Fn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=To(l);o.call(u)}}var l=id(e,0,!1,null,null,!1,!1,"",qh);return e._reactRootContainer=l,e[kr]=l.current,Ui(e.nodeType===8?e.parentNode:e),Fn(function(){Go(t,l,r,n)}),l}function Xo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=To(a);o.call(l)}}Go(t,a,e,s)}else a=iw(r,t,e,s,n);return To(a)}Ap=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mi(t.pendingLanes);r!==0&&(Pc(t,r|1),vt(t,Ee()),!(te&6)&&(Ms=Ee()+500,hn()))}break;case 13:Fn(function(){var n=Er(e,1);if(n!==null){var s=ot();Jt(n,e,1,s)}}),ad(e,1)}};Cc=function(e){if(e.tag===13){var t=Er(e,134217728);if(t!==null){var r=ot();Jt(t,e,134217728,r)}ad(e,134217728)}};Dp=function(e){if(e.tag===13){var t=nn(e),r=Er(e,t);if(r!==null){var n=ot();Jt(r,e,t,n)}ad(e,t)}};Ip=function(){return oe};$p=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};vu=function(e,t,r){switch(t){case"input":if(du(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Bo(n);if(!s)throw Error(O(90));pp(n),du(n,s)}}}break;case"textarea":gp(e,r);break;case"select":t=r.value,t!=null&&gs(e,!!r.multiple,t,!1)}};bp=td;kp=Fn;var aw={usingClientEntryPoint:!1,Events:[aa,us,Bo,_p,Sp,td]},oi={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ow={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pp(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||sw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Mo=Ia.inject(ow),ur=Ia}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aw;Pt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(t))throw Error(O(200));return nw(e,t,null,r)};Pt.createRoot=function(e,t){if(!ld(e))throw Error(O(299));var r=!1,n="",s=ig;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=id(e,1,!1,null,null,r,!1,n,s),e[kr]=t.current,Ui(e.nodeType===8?e.parentNode:e),new od(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Pp(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Fn(e)};Pt.hydrate=function(e,t,r){if(!Yo(t))throw Error(O(200));return Xo(null,e,t,!0,r)};Pt.hydrateRoot=function(e,t,r){if(!ld(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ig;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=sg(t,null,e,1,r??null,s,!1,i,a),e[kr]=t.current,Ui(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jo(t)};Pt.render=function(e,t,r){if(!Yo(t))throw Error(O(200));return Xo(null,e,t,!1,r)};Pt.unmountComponentAtNode=function(e){if(!Yo(e))throw Error(O(40));return e._reactRootContainer?(Fn(function(){Xo(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};Pt.unstable_batchedUpdates=td;Pt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yo(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Xo(e,t,r,!1,n)};Pt.version="18.3.1-next-f1338f8080-20240426";function ag(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ag)}catch(e){console.error(e)}}ag(),ap.exports=Pt;var og=ap.exports,lg,Wh=og;lg=Wh.createRoot,Wh.hydrateRoot;var Zo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},el=typeof window>"u"||"Deno"in globalThis;function Ht(){}function lw(e,t){return typeof e=="function"?e(t):e}function uw(e){return typeof e=="number"&&e>=0&&e!==1/0}function cw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yu(e,t){return typeof e=="function"?e(t):e}function dw(e,t){return typeof e=="function"?e(t):e}function Vh(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==ud(a,t.options))return!1}else if(!Gi(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Kh(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Qi(t.options.mutationKey)!==Qi(i))return!1}else if(!Gi(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ud(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qi)(e)}function Qi(e){return JSON.stringify(e,(t,r)=>Xu(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Gi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Gi(e[r],t[r])):!1}function ug(e,t){if(e===t)return e;const r=Qh(e)&&Qh(t);if(r||Xu(e)&&Xu(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{},l=new Set(n);let u=0;for(let c=0;c<a;c++){const h=r?c:i[c];(!r&&l.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,u++):(o[h]=ug(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:o}return t}function dk(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Qh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xu(e){if(!Gh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Gh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gh(e){return Object.prototype.toString.call(e)==="[object Object]"}function hw(e){return new Promise(t=>{setTimeout(t,e)})}function fw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ug(e,t):t}function pw(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mw(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var cd=Symbol();function cg(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function hk(e,t){return typeof e=="function"?e(...t):!!e}var Nn,qr,bs,zf,gw=(zf=class extends Zo{constructor(){super();re(this,Nn);re(this,qr);re(this,bs);K(this,bs,t=>{if(!el&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,qr)||this.setEventListener(N(this,bs))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,qr))==null||t.call(this),K(this,qr,void 0))}setEventListener(t){var r;K(this,bs,t),(r=N(this,qr))==null||r.call(this),K(this,qr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,Nn)!==t&&(K(this,Nn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,Nn)=="boolean"?N(this,Nn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nn=new WeakMap,qr=new WeakMap,bs=new WeakMap,zf),dg=new gw,ks,Wr,Es,Bf,yw=(Bf=class extends Zo{constructor(){super();re(this,ks,!0);re(this,Wr);re(this,Es);K(this,Es,t=>{if(!el&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,Wr)||this.setEventListener(N(this,Es))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Wr))==null||t.call(this),K(this,Wr,void 0))}setEventListener(t){var r;K(this,Es,t),(r=N(this,Wr))==null||r.call(this),K(this,Wr,t(this.setOnline.bind(this)))}setOnline(t){N(this,ks)!==t&&(K(this,ks,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,ks)}},ks=new WeakMap,Wr=new WeakMap,Es=new WeakMap,Bf),Ro=new yw;function vw(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function ww(e){return Math.min(1e3*2**e,3e4)}function hg(e){return(e??"online")==="online"?Ro.isOnline():!0}var fg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pg(e){let t=!1,r=0,n;const s=vw(),i=()=>s.status!=="pending",a=S=>{var k;i()||(f(new fg(S)),(k=e.abort)==null||k.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>dg.isFocused()&&(e.networkMode==="always"||Ro.isOnline())&&e.canRun(),c=()=>hg(e.networkMode)&&e.canRun(),h=S=>{i()||(n==null||n(),s.resolve(S))},f=S=>{i()||(n==null||n(),s.reject(S))},v=()=>new Promise(S=>{var k;n=p=>{(i()||u())&&S(p)},(k=e.onPause)==null||k.call(e)}).then(()=>{var S;n=void 0,i()||(S=e.onContinue)==null||S.call(e)}),x=()=>{if(i())return;let S;const k=r===0?e.initialPromise:void 0;try{S=k??e.fn()}catch(p){S=Promise.reject(p)}Promise.resolve(S).then(h).catch(p=>{var y;if(i())return;const g=e.retry??(el?0:3),m=e.retryDelay??ww,w=typeof m=="function"?m(r,p):m,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,p);if(t||!j){f(p);return}r++,(y=e.onFail)==null||y.call(e,r,p),hw(w).then(()=>u()?void 0:v()).then(()=>{t?f(p):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?x():v().then(x),s)}}var xw=e=>setTimeout(e,0);function _w(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=xw;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var nt=_w(),Tn,Hf,mg=(Hf=class{constructor(){re(this,Tn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uw(this.gcTime)&&K(this,Tn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(el?1/0:5*60*1e3))}clearGcTimeout(){N(this,Tn)&&(clearTimeout(N(this,Tn)),K(this,Tn,void 0))}},Tn=new WeakMap,Hf),js,Ps,Nt,Rn,Ie,ta,On,qt,pr,qf,Sw=(qf=class extends mg{constructor(t){super();re(this,qt);re(this,js);re(this,Ps);re(this,Nt);re(this,Rn);re(this,Ie);re(this,ta);re(this,On);K(this,On,!1),K(this,ta,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,Rn,t.client),K(this,Nt,N(this,Rn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,js,kw(this.options)),this.state=t.state??N(this,js),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Ie))==null?void 0:t.promise}setOptions(t){this.options={...N(this,ta),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Nt).remove(this)}setData(t,r){const n=fw(this.state.data,t,this.options);return We(this,qt,pr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){We(this,qt,pr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=N(this,Ie))==null?void 0:n.promise;return(s=N(this,Ie))==null||s.cancel(t),r?r.then(Ht).catch(Ht):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,js))}isActive(){return this.observers.some(t=>dw(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Yu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cw(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Ie))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Ie))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,Nt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,Ie)&&(N(this,On)?N(this,Ie).cancel({revert:!0}):N(this,Ie).cancelRetry()),this.scheduleGc()),N(this,Nt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,qt,pr).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,c,h,f,v,x,S,k,p,g,m;if(this.state.fetchStatus!=="idle"&&((l=N(this,Ie))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ie))return N(this,Ie).continueRetry(),N(this,Ie).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(j=>j.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,s=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(K(this,On,!0),n.signal)})},i=()=>{const w=cg(this.options,r),y=(()=>{const C={client:N(this,Rn),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return K(this,On,!1),this.options.persister?this.options.persister(w,y,this):w(y)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,Rn),state:this.state,fetchFn:i};return s(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),K(this,Ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&We(this,qt,pr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),K(this,Ie,pg({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onFail:(w,j)=>{We(this,qt,pr).call(this,{type:"failed",failureCount:w,error:j})},onPause:()=>{We(this,qt,pr).call(this,{type:"pause"})},onContinue:()=>{We(this,qt,pr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await N(this,Ie).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(v=(f=N(this,Nt).config).onSuccess)==null||v.call(f,w,this),(S=(x=N(this,Nt).config).onSettled)==null||S.call(x,w,this.state.error,this),w}catch(w){if(w instanceof fg){if(w.silent)return N(this,Ie).promise;if(w.revert){if(this.setState({...N(this,Ps),fetchStatus:"idle"}),this.state.data===void 0)throw w;return this.state.data}}throw We(this,qt,pr).call(this,{type:"error",error:w}),(p=(k=N(this,Nt).config).onError)==null||p.call(k,w,this),(m=(g=N(this,Nt).config).onSettled)==null||m.call(g,this.state.data,w,this),w}finally{this.scheduleGc()}}},js=new WeakMap,Ps=new WeakMap,Nt=new WeakMap,Rn=new WeakMap,Ie=new WeakMap,ta=new WeakMap,On=new WeakMap,qt=new WeakSet,pr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bw(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,Ps,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),nt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,Nt).notify({query:this,type:"updated",action:t})})},qf);function bw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hg(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ir,Wf,Ew=(Wf=class extends Zo{constructor(t={}){super();re(this,ir);this.config=t,K(this,ir,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??ud(s,r);let a=this.get(i);return a||(a=new Sw({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){N(this,ir).has(t.queryHash)||(N(this,ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,ir).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,ir).get(t)}getAll(){return[...N(this,ir).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Vh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Vh(t,n)):r}notify(t){nt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){nt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ir=new WeakMap,Wf),ar,et,Ln,or,Ar,Vf,jw=(Vf=class extends mg{constructor(t){super();re(this,or);re(this,ar);re(this,et);re(this,Ln);this.mutationId=t.mutationId,K(this,et,t.mutationCache),K(this,ar,[]),this.state=t.state||Pw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,ar).includes(t)||(N(this,ar).push(t),this.clearGcTimeout(),N(this,et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,ar,N(this,ar).filter(r=>r!==t)),this.scheduleGc(),N(this,et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,ar).length||(this.state.status==="pending"?this.scheduleGc():N(this,et).remove(this))}continue(){var t;return((t=N(this,Ln))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,u,c,h,f,v,x,S,k,p,g,m,w,j,y,C,T;const r=()=>{We(this,or,Ar).call(this,{type:"continue"})};K(this,Ln,pg({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,I)=>{We(this,or,Ar).call(this,{type:"failed",failureCount:L,error:I})},onPause:()=>{We(this,or,Ar).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,et).canRun(this)}));const n=this.state.status==="pending",s=!N(this,Ln).canStart();try{if(n)r();else{We(this,or,Ar).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=N(this,et).config).onMutate)==null?void 0:a.call(i,t,this));const I=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));I!==this.state.context&&We(this,or,Ar).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const L=await N(this,Ln).start();return await((c=(u=N(this,et).config).onSuccess)==null?void 0:c.call(u,L,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,L,t,this.state.context)),await((x=(v=N(this,et).config).onSettled)==null?void 0:x.call(v,L,null,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,L,null,t,this.state.context)),We(this,or,Ar).call(this,{type:"success",data:L}),L}catch(L){try{throw await((g=(p=N(this,et).config).onError)==null?void 0:g.call(p,L,t,this.state.context,this)),await((w=(m=this.options).onError)==null?void 0:w.call(m,L,t,this.state.context)),await((y=(j=N(this,et).config).onSettled)==null?void 0:y.call(j,void 0,L,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,L,t,this.state.context)),L}finally{We(this,or,Ar).call(this,{type:"error",error:L})}}finally{N(this,et).runNext(this)}}},ar=new WeakMap,et=new WeakMap,Ln=new WeakMap,or=new WeakSet,Ar=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nt.batch(()=>{N(this,ar).forEach(n=>{n.onMutationUpdate(t)}),N(this,et).notify({mutation:this,type:"updated",action:t})})},Vf);function Pw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wr,Wt,ra,Kf,Cw=(Kf=class extends Zo{constructor(t={}){super();re(this,wr);re(this,Wt);re(this,ra);this.config=t,K(this,wr,new Set),K(this,Wt,new Map),K(this,ra,0)}build(t,r,n){const s=new jw({mutationCache:this,mutationId:++wa(this,ra)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){N(this,wr).add(t);const r=$a(t);if(typeof r=="string"){const n=N(this,Wt).get(r);n?n.push(t):N(this,Wt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,wr).delete(t)){const r=$a(t);if(typeof r=="string"){const n=N(this,Wt).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&N(this,Wt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=$a(t);if(typeof r=="string"){const n=N(this,Wt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=$a(t);if(typeof r=="string"){const s=(n=N(this,Wt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nt.batch(()=>{N(this,wr).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,wr).clear(),N(this,Wt).clear()})}getAll(){return Array.from(N(this,wr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Kh(r,n))}findAll(t={}){return this.getAll().filter(r=>Kh(t,r))}notify(t){nt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return nt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ht))))}},wr=new WeakMap,Wt=new WeakMap,ra=new WeakMap,Kf);function $a(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Jh(e){return{onFetch:(t,r)=>{var c,h,f,v,x;const n=t.options,s=(f=(h=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let S=!1;const k=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},p=cg(t.options,t.fetchOptions),g=async(m,w,j)=>{if(S)return Promise.reject();if(w==null&&m.pages.length)return Promise.resolve(m);const C=(()=>{const le={client:t.client,queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};return k(le),le})(),T=await p(C),{maxPages:L}=t.options,I=j?mw:pw;return{pages:I(m.pages,T,L),pageParams:I(m.pageParams,w,L)}};if(s&&i.length){const m=s==="backward",w=m?Nw:Yh,j={pages:i,pageParams:a},y=w(n,j);o=await g(j,y,m)}else{const m=e??i.length;do{const w=l===0?a[0]??n.initialPageParam:Yh(n,o);if(l>0&&w==null)break;o=await g(o,w),l++}while(l<m)}return o};t.options.persister?t.fetchFn=()=>{var S,k;return(k=(S=t.options).persister)==null?void 0:k.call(S,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Yh(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Nw(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var be,Vr,Kr,Cs,Ns,Qr,Ts,Rs,Qf,Tw=(Qf=class{constructor(e={}){re(this,be);re(this,Vr);re(this,Kr);re(this,Cs);re(this,Ns);re(this,Qr);re(this,Ts);re(this,Rs);K(this,be,e.queryCache||new Ew),K(this,Vr,e.mutationCache||new Cw),K(this,Kr,e.defaultOptions||{}),K(this,Cs,new Map),K(this,Ns,new Map),K(this,Qr,0)}mount(){wa(this,Qr)._++,N(this,Qr)===1&&(K(this,Ts,dg.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,be).onFocus())})),K(this,Rs,Ro.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,be).onOnline())})))}unmount(){var e,t;wa(this,Qr)._--,N(this,Qr)===0&&((e=N(this,Ts))==null||e.call(this),K(this,Ts,void 0),(t=N(this,Rs))==null||t.call(this),K(this,Rs,void 0))}isFetching(e){return N(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,Vr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,be).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=N(this,be).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Yu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,be).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=N(this,be).get(n.queryHash),i=s==null?void 0:s.state.data,a=lw(t,i);if(a!==void 0)return N(this,be).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return nt.batch(()=>N(this,be).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,be).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,be);nt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,be);return nt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=nt.batch(()=>N(this,be).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ht).catch(Ht)}invalidateQueries(e,t={}){return nt.batch(()=>(N(this,be).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=nt.batch(()=>N(this,be).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ht)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ht)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,be).build(this,t);return r.isStaleByTime(Yu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ht).catch(Ht)}fetchInfiniteQuery(e){return e.behavior=Jh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ht).catch(Ht)}ensureInfiniteQueryData(e){return e.behavior=Jh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ro.isOnline()?N(this,Vr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,be)}getMutationCache(){return N(this,Vr)}getDefaultOptions(){return N(this,Kr)}setDefaultOptions(e){K(this,Kr,e)}setQueryDefaults(e,t){N(this,Cs).set(Qi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Cs).values()],r={};return t.forEach(n=>{Gi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){N(this,Ns).set(Qi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,Ns).values()],r={};return t.forEach(n=>{Gi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ud(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,be).clear(),N(this,Vr).clear()}},be=new WeakMap,Vr=new WeakMap,Kr=new WeakMap,Cs=new WeakMap,Ns=new WeakMap,Qr=new WeakMap,Ts=new WeakMap,Rs=new WeakMap,Qf),gg=b.createContext(void 0),fk=e=>{const t=b.useContext(gg);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Rw=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(gg.Provider,{value:e,children:t}));const Ow="modulepreload",Lw=function(e){return"/"+e},Xh={},wt=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Lw(l),l in Xh)return;Xh[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ow,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Aw=function(){return null};const rt=new Tw({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!0,placeholderData:e=>e},mutations:{retry:1,retryDelay:1e3}}}),dt={user:e=>["user",e],userProfile:e=>["userProfile",e],dashboardStats:()=>["dashboard","stats"],dashboardActivity:()=>["dashboard","activity"],adminUsers:()=>["admin","users"],roles:()=>["roles"],adminRoles:()=>["admin","roles"],adminPermissions:()=>["admin","permissions"],currentUser:()=>["auth","currentUser"]};/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yg=e=>{throw TypeError(e)},Dw=(e,t,r)=>t.has(e)||yg("Cannot "+r),Wl=(e,t,r)=>(Dw(e,t,"read from private field"),r?r.call(e):t.get(e)),Iw=(e,t,r)=>t.has(e)?yg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Zh="popstate";function $w(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Ji("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:un(s)}return Uw(t,r,null,e)}function Y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function je(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mw(){return Math.random().toString(36).substring(2,10)}function ef(e,t){return{usr:e.state,key:e.key,idx:t}}function Ji(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fn(t):t,state:r,key:t&&t.key||n||Mw()}}function un({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Uw(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function h(){o="POP";let k=c(),p=k==null?null:k-u;u=k,l&&l({action:o,location:S.location,delta:p})}function f(k,p){o="PUSH";let g=Ji(S.location,k,p);u=c()+1;let m=ef(g,u),w=S.createHref(g);try{a.pushState(m,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(w)}i&&l&&l({action:o,location:S.location,delta:1})}function v(k,p){o="REPLACE";let g=Ji(S.location,k,p);u=c();let m=ef(g,u),w=S.createHref(g);a.replaceState(m,"",w),i&&l&&l({action:o,location:S.location,delta:0})}function x(k){return vg(k)}let S={get action(){return o},get location(){return e(s,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Zh,h),l=k,()=>{s.removeEventListener(Zh,h),l=null}},createHref(k){return t(s,k)},createURL:x,encodeLocation(k){let p=x(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:v,go(k){return a.go(k)}};return S}function vg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Y(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:un(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var yi,tf=class{constructor(e){if(Iw(this,yi,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Wl(this,yi).has(e))return Wl(this,yi).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Wl(this,yi).set(e,t)}};yi=new WeakMap;var Fw=new Set(["lazy","caseSensitive","path","id","index","children"]);function zw(e){return Fw.has(e)}var Bw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Hw(e){return Bw.has(e)}function qw(e){return e.index===!0}function Yi(e,t,r=[],n={},s=!1){return e.map((i,a)=>{let o=[...r,String(a)],l=typeof i.id=="string"?i.id:o.join("-");if(Y(i.index!==!0||!i.children,"Cannot specify children on an index route"),Y(s||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),qw(i)){let u={...i,...t(i),id:l};return n[l]=u,u}else{let u={...i,...t(i),id:l,children:void 0};return n[l]=u,i.children&&(u.children=Yi(i.children,t,o,n,s)),u}})}function zr(e,t,r="/"){return ro(e,t,r,!1)}function ro(e,t,r,n){let s=typeof t=="string"?fn(t):t,i=Mt(s.pathname||"/",r);if(i==null)return null;let a=wg(e);Vw(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=nx(i);o=tx(a[l],u,n)}return o}function Ww(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function wg(e,t=[],r=[],n="",s=!1){let i=(a,o,l=s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;Y(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let h=dr([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(Y(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wg(a.children,t,f,h,l)),!(a.path==null&&!a.index)&&t.push({path:h,score:Zw(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of xg(a.path))i(a,o,!0,u)}),t}function xg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=xg(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Vw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ex(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Kw=/^:[\w-]+$/,Qw=3,Gw=2,Jw=1,Yw=10,Xw=-2,rf=e=>e==="*";function Zw(e,t){let r=e.split("/"),n=r.length;return r.some(rf)&&(n+=Xw),t&&(n+=Gw),r.filter(s=>!rf(s)).reduce((s,i)=>s+(Kw.test(i)?Qw:i===""?Jw:Yw),n)}function ex(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function tx(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=Oo({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Oo({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:dr([i,h.pathname]),pathnameBase:ox(dr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=dr([i,h.pathnameBase]))}return a}function Oo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=rx(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:h},f)=>{if(c==="*"){let x=o[f]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=o[f];return h&&!v?u[c]=void 0:u[c]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function rx(e,t=!1,r=!0){je(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function nx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return je(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Mt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function sx({basename:e,pathname:t}){return t==="/"?e:dr([e,t])}function ix(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fn(e):e;return{pathname:r?r.startsWith("/")?r:ax(r,t):t,search:lx(n),hash:ux(s)}}function ax(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Vl(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _g(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tl(e){let t=_g(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function rl(e,t,r,n=!1){let s;typeof e=="string"?s=fn(e):(s={...e},Y(!s.pathname||!s.pathname.includes("?"),Vl("?","pathname","search",s)),Y(!s.pathname||!s.pathname.includes("#"),Vl("#","pathname","hash",s)),Y(!s.search||!s.search.includes("#"),Vl("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=ix(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var dr=e=>e.join("/").replace(/\/\/+/g,"/"),ox=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ux=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Lo=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Xi(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Sg=["POST","PUT","PATCH","DELETE"],cx=new Set(Sg),dx=["GET",...Sg],hx=new Set(dx),fx=new Set([301,302,303,307,308]),px=new Set([307,308]),Kl={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},li={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dd=e=>gx.test(e),yx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),bg="remix-router-transitions",kg=Symbol("ResetLoaderData");function vx(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Y(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],s=e.mapRouteProperties||yx,i={},a=Yi(e.routes,s,void 0,i),o,l=e.basename||"/",u=e.dataStrategy||bx,c={unstable_middleware:!1,...e.future},h=null,f=new Set,v=null,x=null,S=null,k=e.hydrationData!=null,p=zr(a,e.history.location,l),g=!1,m=null,w;if(p==null&&!e.patchRoutesOnNavigation){let _=Tt(404,{pathname:e.history.location.pathname}),{matches:E,route:P}=mf(a);w=!0,p=E,m={[P.id]:_}}else if(p&&!e.hydrationData&&fa(p,a,e.history.location.pathname).active&&(p=null),p)if(p.some(_=>_.route.lazy))w=!1;else if(!p.some(_=>_.route.loader))w=!0;else{let _=e.hydrationData?e.hydrationData.loaderData:null,E=e.hydrationData?e.hydrationData.errors:null;if(E){let P=p.findIndex(R=>E[R.route.id]!==void 0);w=p.slice(0,P+1).every(R=>!ec(R.route,_,E))}else w=p.every(P=>!ec(P.route,_,E))}else{w=!1,p=[];let _=fa(null,a,e.history.location.pathname);_.active&&_.matches&&(g=!0,p=_.matches)}let j,y={historyAction:e.history.action,location:e.history.location,matches:p,initialized:w,navigation:Kl,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},C="POP",T=!1,L,I=!1,le=new Map,xt=null,ct=!1,ne=!1,Se=new Set,se=new Map,Ne=0,A=-1,U=new Map,q=new Set,ee=new Map,ie=new Map,Pe=new Set,Je=new Map,Cr,Ye=null;function Kn(){if(h=e.history.listen(({action:_,location:E,delta:P})=>{if(Cr){Cr(),Cr=void 0;return}je(Je.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let R=Od({currentLocation:y.location,nextLocation:E,historyAction:_});if(R&&P!=null){let D=new Promise(F=>{Cr=F});e.history.go(P*-1),ha(R,{state:"blocked",location:E,proceed(){ha(R,{state:"proceeding",proceed:void 0,reset:void 0,location:E}),D.then(()=>e.history.go(P))},reset(){let F=new Map(y.blockers);F.set(R,li),Be({blockers:F})}});return}return mn(_,E)}),r){Dx(t,le);let _=()=>Ix(t,le);t.addEventListener("pagehide",_),xt=()=>t.removeEventListener("pagehide",_)}return y.initialized||mn("POP",y.location,{initialHydration:!0}),j}function wy(){h&&h(),xt&&xt(),f.clear(),L&&L.abort(),y.fetchers.forEach((_,E)=>ml(E)),y.blockers.forEach((_,E)=>Rd(E))}function xy(_){return f.add(_),()=>f.delete(_)}function Be(_,E={}){_.matches&&(_.matches=_.matches.map(D=>{let F=i[D.route.id],z=D.route;return z.element!==F.element||z.errorElement!==F.errorElement||z.hydrateFallbackElement!==F.hydrateFallbackElement?{...D,route:F}:D})),y={...y,..._};let P=[],R=[];y.fetchers.forEach((D,F)=>{D.state==="idle"&&(Pe.has(F)?P.push(F):R.push(F))}),Pe.forEach(D=>{!y.fetchers.has(D)&&!se.has(D)&&P.push(D)}),[...f].forEach(D=>D(y,{deletedFetchers:P,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),P.forEach(D=>ml(D)),R.forEach(D=>y.fetchers.delete(D))}function Qn(_,E,{flushSync:P}={}){var W,B;let R=y.actionData!=null&&y.navigation.formMethod!=null&&ht(y.navigation.formMethod)&&y.navigation.state==="loading"&&((W=_.state)==null?void 0:W._isRedirect)!==!0,D;E.actionData?Object.keys(E.actionData).length>0?D=E.actionData:D=null:R?D=y.actionData:D=null;let F=E.loaderData?ff(y.loaderData,E.loaderData,E.matches||[],E.errors):y.loaderData,z=y.blockers;z.size>0&&(z=new Map(z),z.forEach((Q,ge)=>z.set(ge,li)));let M=ct?!1:Ad(_,E.matches||y.matches),H=T===!0||y.navigation.formMethod!=null&&ht(y.navigation.formMethod)&&((B=_.state)==null?void 0:B._isRedirect)!==!0;o&&(a=o,o=void 0),ct||C==="POP"||(C==="PUSH"?e.history.push(_,_.state):C==="REPLACE"&&e.history.replace(_,_.state));let V;if(C==="POP"){let Q=le.get(y.location.pathname);Q&&Q.has(_.pathname)?V={currentLocation:y.location,nextLocation:_}:le.has(_.pathname)&&(V={currentLocation:_,nextLocation:y.location})}else if(I){let Q=le.get(y.location.pathname);Q?Q.add(_.pathname):(Q=new Set([_.pathname]),le.set(y.location.pathname,Q)),V={currentLocation:y.location,nextLocation:_}}Be({...E,actionData:D,loaderData:F,historyAction:C,location:_,initialized:!0,navigation:Kl,revalidation:"idle",restoreScrollPosition:M,preventScrollReset:H,blockers:z},{viewTransitionOpts:V,flushSync:P===!0}),C="POP",T=!1,I=!1,ct=!1,ne=!1,Ye==null||Ye.resolve(),Ye=null}async function kd(_,E){if(typeof _=="number"){e.history.go(_);return}let P=Zu(y.location,y.matches,l,_,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:R,submission:D,error:F}=nf(!1,P,E),z=y.location,M=Ji(y.location,R,E&&E.state);M={...M,...e.history.encodeLocation(M)};let H=E&&E.replace!=null?E.replace:void 0,V="PUSH";H===!0?V="REPLACE":H===!1||D!=null&&ht(D.formMethod)&&D.formAction===y.location.pathname+y.location.search&&(V="REPLACE");let W=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,B=(E&&E.flushSync)===!0,Q=Od({currentLocation:z,nextLocation:M,historyAction:V});if(Q){ha(Q,{state:"blocked",location:M,proceed(){ha(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),kd(_,E)},reset(){let ge=new Map(y.blockers);ge.set(Q,li),Be({blockers:ge})}});return}await mn(V,M,{submission:D,pendingError:F,preventScrollReset:W,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:B})}function _y(){Ye||(Ye=$x()),pl(),Be({revalidation:"loading"});let _=Ye.promise;return y.navigation.state==="submitting"?_:y.navigation.state==="idle"?(mn(y.historyAction,y.location,{startUninterruptedRevalidation:!0}),_):(mn(C||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:I===!0}),_)}async function mn(_,E,P){L&&L.abort(),L=null,C=_,ct=(P&&P.startUninterruptedRevalidation)===!0,Ry(y.location,y.matches),T=(P&&P.preventScrollReset)===!0,I=(P&&P.enableViewTransition)===!0;let R=o||a,D=P&&P.overrideNavigation,F=P!=null&&P.initialHydration&&y.matches&&y.matches.length>0&&!g?y.matches:zr(R,E,l),z=(P&&P.flushSync)===!0;if(F&&y.initialized&&!ne&&Tx(y.location,E)&&!(P&&P.submission&&ht(P.submission.formMethod))){Qn(E,{matches:F},{flushSync:z});return}let M=fa(F,R,E.pathname);if(M.active&&M.matches&&(F=M.matches),!F){let{error:Xe,notFoundMatches:ve,route:he}=gl(E.pathname);Qn(E,{matches:ve,loaderData:{},errors:{[he.id]:Xe}},{flushSync:z});return}L=new AbortController;let H=ts(e.history,E,L.signal,P&&P.submission),V=e.unstable_getContext?await e.unstable_getContext():new tf,W;if(P&&P.pendingError)W=[Br(F).route.id,{type:"error",error:P.pendingError}];else if(P&&P.submission&&ht(P.submission.formMethod)){let Xe=await Sy(H,E,P.submission,F,V,M.active,P&&P.initialHydration===!0,{replace:P.replace,flushSync:z});if(Xe.shortCircuited)return;if(Xe.pendingActionResult){let[ve,he]=Xe.pendingActionResult;if(bt(he)&&Xi(he.error)&&he.error.status===404){L=null,Qn(E,{matches:Xe.matches,loaderData:{},errors:{[ve]:he.error}});return}}F=Xe.matches||F,W=Xe.pendingActionResult,D=Ql(E,P.submission),z=!1,M.active=!1,H=ts(e.history,H.url,H.signal)}let{shortCircuited:B,matches:Q,loaderData:ge,errors:He}=await by(H,E,F,V,M.active,D,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,z,W);B||(L=null,Qn(E,{matches:Q||F,...pf(W),loaderData:ge,errors:He}))}async function Sy(_,E,P,R,D,F,z,M={}){pl();let H=Lx(E,P);if(Be({navigation:H},{flushSync:M.flushSync===!0}),F){let B=await pa(R,E.pathname,_.signal);if(B.type==="aborted")return{shortCircuited:!0};if(B.type==="error"){let Q=Br(B.partialMatches).route.id;return{matches:B.partialMatches,pendingActionResult:[Q,{type:"error",error:B.error}]}}else if(B.matches)R=B.matches;else{let{notFoundMatches:Q,error:ge,route:He}=gl(E.pathname);return{matches:Q,pendingActionResult:[He.id,{type:"error",error:ge}]}}}let V,W=no(R,E);if(!W.route.action&&!W.route.lazy)V={type:"error",error:Tt(405,{method:_.method,pathname:E.pathname,routeId:W.route.id})};else{let B=Ss(s,i,_,R,W,z?[]:n,D),Q=await Js(_,B,D,null);if(V=Q[W.route.id],!V){for(let ge of R)if(Q[ge.route.id]){V=Q[ge.route.id];break}}if(_.signal.aborted)return{shortCircuited:!0}}if(Cn(V)){let B;return M&&M.replace!=null?B=M.replace:B=cf(V.response.headers.get("Location"),new URL(_.url),l)===y.location.pathname+y.location.search,await gn(_,V,!0,{submission:P,replace:B}),{shortCircuited:!0}}if(bt(V)){let B=Br(R,W.route.id);return(M&&M.replace)!==!0&&(C="PUSH"),{matches:R,pendingActionResult:[B.route.id,V,W.route.id]}}return{matches:R,pendingActionResult:[W.route.id,V]}}async function by(_,E,P,R,D,F,z,M,H,V,W,B){let Q=F||Ql(E,z),ge=z||M||yf(Q),He=!ct&&!V;if(D){if(He){let qe=Ed(B);Be({navigation:Q,...qe!==void 0?{actionData:qe}:{}},{flushSync:W})}let ae=await pa(P,E.pathname,_.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let qe=Br(ae.partialMatches).route.id;return{matches:ae.partialMatches,loaderData:{},errors:{[qe]:ae.error}}}else if(ae.matches)P=ae.matches;else{let{error:qe,notFoundMatches:ya,route:Zs}=gl(E.pathname);return{matches:ya,loaderData:{},errors:{[Zs.id]:qe}}}}let Xe=o||a,{dsMatches:ve,revalidatingFetchers:he}=sf(_,R,s,i,e.history,y,P,ge,E,V?[]:n,V===!0,ne,Se,Pe,ee,q,Xe,l,e.patchRoutesOnNavigation!=null,B);if(A=++Ne,!e.dataStrategy&&!ve.some(ae=>ae.shouldLoad)&&!ve.some(ae=>ae.route.unstable_middleware)&&he.length===0){let ae=Nd();return Qn(E,{matches:P,loaderData:{},errors:B&&bt(B[1])?{[B[0]]:B[1].error}:null,...pf(B),...ae?{fetchers:new Map(y.fetchers)}:{}},{flushSync:W}),{shortCircuited:!0}}if(He){let ae={};if(!D){ae.navigation=Q;let qe=Ed(B);qe!==void 0&&(ae.actionData=qe)}he.length>0&&(ae.fetchers=ky(he)),Be(ae,{flushSync:W})}he.forEach(ae=>{Tr(ae.key),ae.controller&&se.set(ae.key,ae.controller)});let yn=()=>he.forEach(ae=>Tr(ae.key));L&&L.signal.addEventListener("abort",yn);let{loaderResults:Ys,fetcherResults:Rr}=await jd(ve,he,_,R);if(_.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",yn),he.forEach(ae=>se.delete(ae.key));let tr=Ma(Ys);if(tr)return await gn(_,tr.result,!0,{replace:H}),{shortCircuited:!0};if(tr=Ma(Rr),tr)return q.add(tr.key),await gn(_,tr.result,!0,{replace:H}),{shortCircuited:!0};let{loaderData:yl,errors:Xs}=hf(y,P,Ys,B,he,Rr);V&&y.errors&&(Xs={...y.errors,...Xs});let vn=Nd(),ma=Td(A),ga=vn||ma||he.length>0;return{matches:P,loaderData:yl,errors:Xs,...ga?{fetchers:new Map(y.fetchers)}:{}}}function Ed(_){if(_&&!bt(_[1]))return{[_[0]]:_[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function ky(_){return _.forEach(E=>{let P=y.fetchers.get(E.key),R=ui(void 0,P?P.data:void 0);y.fetchers.set(E.key,R)}),new Map(y.fetchers)}async function Ey(_,E,P,R){Tr(_);let D=(R&&R.flushSync)===!0,F=o||a,z=Zu(y.location,y.matches,l,P,E,R==null?void 0:R.relative),M=zr(F,z,l),H=fa(M,F,z);if(H.active&&H.matches&&(M=H.matches),!M){fr(_,E,Tt(404,{pathname:z}),{flushSync:D});return}let{path:V,submission:W,error:B}=nf(!0,z,R);if(B){fr(_,E,B,{flushSync:D});return}let Q=e.unstable_getContext?await e.unstable_getContext():new tf,ge=(R&&R.preventScrollReset)===!0;if(W&&ht(W.formMethod)){await jy(_,E,V,M,Q,H.active,D,ge,W);return}ee.set(_,{routeId:E,path:V}),await Py(_,E,V,M,Q,H.active,D,ge,W)}async function jy(_,E,P,R,D,F,z,M,H){pl(),ee.delete(_);let V=y.fetchers.get(_);Nr(_,Ax(H,V),{flushSync:z});let W=new AbortController,B=ts(e.history,P,W.signal,H);if(F){let Te=await pa(R,new URL(B.url).pathname,B.signal,_);if(Te.type==="aborted")return;if(Te.type==="error"){fr(_,E,Te.error,{flushSync:z});return}else if(Te.matches)R=Te.matches;else{fr(_,E,Tt(404,{pathname:P}),{flushSync:z});return}}let Q=no(R,P);if(!Q.route.action&&!Q.route.lazy){let Te=Tt(405,{method:H.formMethod,pathname:P,routeId:E});fr(_,E,Te,{flushSync:z});return}se.set(_,W);let ge=Ne,He=Ss(s,i,B,R,Q,n,D),ve=(await Js(B,He,D,_))[Q.route.id];if(B.signal.aborted){se.get(_)===W&&se.delete(_);return}if(Pe.has(_)){if(Cn(ve)||bt(ve)){Nr(_,Dr(void 0));return}}else{if(Cn(ve))if(se.delete(_),A>ge){Nr(_,Dr(void 0));return}else return q.add(_),Nr(_,ui(H)),gn(B,ve,!1,{fetcherSubmission:H,preventScrollReset:M});if(bt(ve)){fr(_,E,ve.error);return}}let he=y.navigation.location||y.location,yn=ts(e.history,he,W.signal),Ys=o||a,Rr=y.navigation.state!=="idle"?zr(Ys,y.navigation.location,l):y.matches;Y(Rr,"Didn't find any matches after fetcher action");let tr=++Ne;U.set(_,tr);let yl=ui(H,ve.data);y.fetchers.set(_,yl);let{dsMatches:Xs,revalidatingFetchers:vn}=sf(yn,D,s,i,e.history,y,Rr,H,he,n,!1,ne,Se,Pe,ee,q,Ys,l,e.patchRoutesOnNavigation!=null,[Q.route.id,ve]);vn.filter(Te=>Te.key!==_).forEach(Te=>{let va=Te.key,Dd=y.fetchers.get(va),Ay=ui(void 0,Dd?Dd.data:void 0);y.fetchers.set(va,Ay),Tr(va),Te.controller&&se.set(va,Te.controller)}),Be({fetchers:new Map(y.fetchers)});let ma=()=>vn.forEach(Te=>Tr(Te.key));W.signal.addEventListener("abort",ma);let{loaderResults:ga,fetcherResults:ae}=await jd(Xs,vn,yn,D);if(W.signal.aborted)return;if(W.signal.removeEventListener("abort",ma),U.delete(_),se.delete(_),vn.forEach(Te=>se.delete(Te.key)),y.fetchers.has(_)){let Te=Dr(ve.data);y.fetchers.set(_,Te)}let qe=Ma(ga);if(qe)return gn(yn,qe.result,!1,{preventScrollReset:M});if(qe=Ma(ae),qe)return q.add(qe.key),gn(yn,qe.result,!1,{preventScrollReset:M});let{loaderData:ya,errors:Zs}=hf(y,Rr,ga,void 0,vn,ae);Td(tr),y.navigation.state==="loading"&&tr>A?(Y(C,"Expected pending action"),L&&L.abort(),Qn(y.navigation.location,{matches:Rr,loaderData:ya,errors:Zs,fetchers:new Map(y.fetchers)})):(Be({errors:Zs,loaderData:ff(y.loaderData,ya,Rr,Zs),fetchers:new Map(y.fetchers)}),ne=!1)}async function Py(_,E,P,R,D,F,z,M,H){let V=y.fetchers.get(_);Nr(_,ui(H,V?V.data:void 0),{flushSync:z});let W=new AbortController,B=ts(e.history,P,W.signal);if(F){let he=await pa(R,new URL(B.url).pathname,B.signal,_);if(he.type==="aborted")return;if(he.type==="error"){fr(_,E,he.error,{flushSync:z});return}else if(he.matches)R=he.matches;else{fr(_,E,Tt(404,{pathname:P}),{flushSync:z});return}}let Q=no(R,P);se.set(_,W);let ge=Ne,He=Ss(s,i,B,R,Q,n,D),ve=(await Js(B,He,D,_))[Q.route.id];if(se.get(_)===W&&se.delete(_),!B.signal.aborted){if(Pe.has(_)){Nr(_,Dr(void 0));return}if(Cn(ve))if(A>ge){Nr(_,Dr(void 0));return}else{q.add(_),await gn(B,ve,!1,{preventScrollReset:M});return}if(bt(ve)){fr(_,E,ve.error);return}Nr(_,Dr(ve.data))}}async function gn(_,E,P,{submission:R,fetcherSubmission:D,preventScrollReset:F,replace:z}={}){E.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let M=E.response.headers.get("Location");Y(M,"Expected a Location header on the redirect Response"),M=cf(M,new URL(_.url),l);let H=Ji(y.location,M,{_isRedirect:!0});if(r){let He=!1;if(E.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(dd(M)){const Xe=vg(M,!0);He=Xe.origin!==t.location.origin||Mt(Xe.pathname,l)==null}if(He){z?t.location.replace(M):t.location.assign(M);return}}L=null;let V=z===!0||E.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:W,formAction:B,formEncType:Q}=y.navigation;!R&&!D&&W&&B&&Q&&(R=yf(y.navigation));let ge=R||D;if(px.has(E.response.status)&&ge&&ht(ge.formMethod))await mn(V,H,{submission:{...ge,formAction:M},preventScrollReset:F||T,enableViewTransition:P?I:void 0});else{let He=Ql(H,R);await mn(V,H,{overrideNavigation:He,fetcherSubmission:D,preventScrollReset:F||T,enableViewTransition:P?I:void 0})}}async function Js(_,E,P,R){let D,F={};try{D=await kx(u,_,E,R,P,!1)}catch(z){return E.filter(M=>M.shouldLoad).forEach(M=>{F[M.route.id]={type:"error",error:z}}),F}if(_.signal.aborted)return F;for(let[z,M]of Object.entries(D))if(Rx(M)){let H=M.result;F[z]={type:"redirect",response:Cx(H,_,z,E,l)}}else F[z]=await Px(M);return F}async function jd(_,E,P,R){let D=Js(P,_,R,null),F=Promise.all(E.map(async H=>{if(H.matches&&H.match&&H.request&&H.controller){let W=(await Js(H.request,H.matches,R,H.key))[H.match.route.id];return{[H.key]:W}}else return Promise.resolve({[H.key]:{type:"error",error:Tt(404,{pathname:H.path})}})})),z=await D,M=(await F).reduce((H,V)=>Object.assign(H,V),{});return{loaderResults:z,fetcherResults:M}}function pl(){ne=!0,ee.forEach((_,E)=>{se.has(E)&&Se.add(E),Tr(E)})}function Nr(_,E,P={}){y.fetchers.set(_,E),Be({fetchers:new Map(y.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function fr(_,E,P,R={}){let D=Br(y.matches,E);ml(_),Be({errors:{[D.route.id]:P},fetchers:new Map(y.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function Pd(_){return ie.set(_,(ie.get(_)||0)+1),Pe.has(_)&&Pe.delete(_),y.fetchers.get(_)||mx}function ml(_){let E=y.fetchers.get(_);se.has(_)&&!(E&&E.state==="loading"&&U.has(_))&&Tr(_),ee.delete(_),U.delete(_),q.delete(_),Pe.delete(_),Se.delete(_),y.fetchers.delete(_)}function Cy(_){let E=(ie.get(_)||0)-1;E<=0?(ie.delete(_),Pe.add(_)):ie.set(_,E),Be({fetchers:new Map(y.fetchers)})}function Tr(_){let E=se.get(_);E&&(E.abort(),se.delete(_))}function Cd(_){for(let E of _){let P=Pd(E),R=Dr(P.data);y.fetchers.set(E,R)}}function Nd(){let _=[],E=!1;for(let P of q){let R=y.fetchers.get(P);Y(R,`Expected fetcher: ${P}`),R.state==="loading"&&(q.delete(P),_.push(P),E=!0)}return Cd(_),E}function Td(_){let E=[];for(let[P,R]of U)if(R<_){let D=y.fetchers.get(P);Y(D,`Expected fetcher: ${P}`),D.state==="loading"&&(Tr(P),U.delete(P),E.push(P))}return Cd(E),E.length>0}function Ny(_,E){let P=y.blockers.get(_)||li;return Je.get(_)!==E&&Je.set(_,E),P}function Rd(_){y.blockers.delete(_),Je.delete(_)}function ha(_,E){let P=y.blockers.get(_)||li;Y(P.state==="unblocked"&&E.state==="blocked"||P.state==="blocked"&&E.state==="blocked"||P.state==="blocked"&&E.state==="proceeding"||P.state==="blocked"&&E.state==="unblocked"||P.state==="proceeding"&&E.state==="unblocked",`Invalid blocker state transition: ${P.state} -> ${E.state}`);let R=new Map(y.blockers);R.set(_,E),Be({blockers:R})}function Od({currentLocation:_,nextLocation:E,historyAction:P}){if(Je.size===0)return;Je.size>1&&je(!1,"A router only supports one blocker at a time");let R=Array.from(Je.entries()),[D,F]=R[R.length-1],z=y.blockers.get(D);if(!(z&&z.state==="proceeding")&&F({currentLocation:_,nextLocation:E,historyAction:P}))return D}function gl(_){let E=Tt(404,{pathname:_}),P=o||a,{matches:R,route:D}=mf(P);return{notFoundMatches:R,route:D,error:E}}function Ty(_,E,P){if(v=_,S=E,x=P||null,!k&&y.navigation===Kl){k=!0;let R=Ad(y.location,y.matches);R!=null&&Be({restoreScrollPosition:R})}return()=>{v=null,S=null,x=null}}function Ld(_,E){return x&&x(_,E.map(R=>Ww(R,y.loaderData)))||_.key}function Ry(_,E){if(v&&S){let P=Ld(_,E);v[P]=S()}}function Ad(_,E){if(v){let P=Ld(_,E),R=v[P];if(typeof R=="number")return R}return null}function fa(_,E,P){if(e.patchRoutesOnNavigation)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:ro(E,P,l,!0)}}else return{active:!0,matches:ro(E,P,l,!0)||[]};return{active:!1,matches:null}}async function pa(_,E,P,R){if(!e.patchRoutesOnNavigation)return{type:"success",matches:_};let D=_;for(;;){let F=o==null,z=o||a,M=i;try{await e.patchRoutesOnNavigation({signal:P,path:E,matches:D,fetcherKey:R,patch:(W,B)=>{P.aborted||af(W,B,z,M,s,!1)}})}catch(W){return{type:"error",error:W,partialMatches:D}}finally{F&&!P.aborted&&(a=[...a])}if(P.aborted)return{type:"aborted"};let H=zr(z,E,l);if(H)return{type:"success",matches:H};let V=ro(z,E,l,!0);if(!V||D.length===V.length&&D.every((W,B)=>W.route.id===V[B].route.id))return{type:"success",matches:null};D=V}}function Oy(_){i={},o=Yi(_,s,void 0,i)}function Ly(_,E,P=!1){let R=o==null;af(_,E,o||a,i,s,P),R&&(a=[...a],Be({}))}return j={get basename(){return l},get future(){return c},get state(){return y},get routes(){return a},get window(){return t},initialize:Kn,subscribe:xy,enableScrollRestoration:Ty,navigate:kd,fetch:Ey,revalidate:_y,createHref:_=>e.history.createHref(_),encodeLocation:_=>e.history.encodeLocation(_),getFetcher:Pd,deleteFetcher:Cy,dispose:wy,getBlocker:Ny,deleteBlocker:Rd,patchRoutes:Ly,_internalFetchControllers:se,_internalSetRoutes:Oy,_internalSetStateDoNotUseOrYouWillBreakYourApp(_){Be(_)}},j}function wx(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Zu(e,t,r,n,s,i){let a,o;if(s){a=[];for(let u of t)if(a.push(u),u.route.id===s){o=u;break}}else a=t,o=t[t.length-1];let l=rl(n||".",tl(a),Mt(e.pathname,r)||e.pathname,i==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&o){let u=hd(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let c=new URLSearchParams(l.search),h=c.getAll("index");c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let f=c.toString();l.search=f?`?${f}`:""}}return r!=="/"&&(l.pathname=sx({basename:r,pathname:l.pathname})),un(l)}function nf(e,t,r){if(!r||!wx(r))return{path:t};if(r.formMethod&&!Ox(r.formMethod))return{path:t,error:Tt(405,{method:r.formMethod})};let n=()=>({path:t,error:Tt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=Rg(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ht(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[v,x])=>`${f}${v}=${x}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ht(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}Y(typeof FormData=="function","FormData is not available in this environment");let o,l;if(r.formData)o=rc(r.formData),l=r.formData;else if(r.body instanceof FormData)o=rc(r.body),l=r.body;else if(r.body instanceof URLSearchParams)o=r.body,l=df(o);else if(r.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(r.body),l=df(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(ht(u.formMethod))return{path:t,submission:u};let c=fn(t);return e&&c.search&&hd(c.search)&&o.append("index",""),c.search=`?${o}`,{path:un(c),submission:u}}function sf(e,t,r,n,s,i,a,o,l,u,c,h,f,v,x,S,k,p,g,m){var ct;let w=m?bt(m[1])?m[1].error:m[1].data:void 0,j=s.createURL(i.location),y=s.createURL(l),C;if(c&&i.errors){let ne=Object.keys(i.errors)[0];C=a.findIndex(Se=>Se.route.id===ne)}else if(m&&bt(m[1])){let ne=m[0];C=a.findIndex(Se=>Se.route.id===ne)-1}let T=m?m[1].statusCode:void 0,L=T&&T>=400,I={currentUrl:j,currentParams:((ct=i.matches[0])==null?void 0:ct.params)||{},nextUrl:y,nextParams:a[0].params,...o,actionResult:w,actionStatus:T},le=a.map((ne,Se)=>{let{route:se}=ne,Ne=null;if(C!=null&&Se>C?Ne=!1:se.lazy?Ne=!0:se.loader==null?Ne=!1:c?Ne=ec(se,i.loaderData,i.errors):xx(i.loaderData,i.matches[Se],ne)&&(Ne=!0),Ne!==null)return tc(r,n,e,ne,u,t,Ne);let A=L?!1:h||j.pathname+j.search===y.pathname+y.search||j.search!==y.search||_x(i.matches[Se],ne),U={...I,defaultShouldRevalidate:A},q=Ao(ne,U);return tc(r,n,e,ne,u,t,q,U)}),xt=[];return x.forEach((ne,Se)=>{if(c||!a.some(Pe=>Pe.route.id===ne.routeId)||v.has(Se))return;let se=i.fetchers.get(Se),Ne=se&&se.state!=="idle"&&se.data===void 0,A=zr(k,ne.path,p);if(!A){if(g&&Ne)return;xt.push({key:Se,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(S.has(Se))return;let U=no(A,ne.path),q=new AbortController,ee=ts(s,ne.path,q.signal),ie=null;if(f.has(Se))f.delete(Se),ie=Ss(r,n,ee,A,U,u,t);else if(Ne)h&&(ie=Ss(r,n,ee,A,U,u,t));else{let Pe={...I,defaultShouldRevalidate:L?!1:h};Ao(U,Pe)&&(ie=Ss(r,n,ee,A,U,u,t,Pe))}ie&&xt.push({key:Se,routeId:ne.routeId,path:ne.path,matches:ie,match:U,request:ee,controller:q})}),{dsMatches:le,revalidatingFetchers:xt}}function ec(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function xx(e,t,r){let n=!t||r.route.id!==t.route.id,s=!e.hasOwnProperty(r.route.id);return n||s}function _x(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ao(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function af(e,t,r,n,s,i){let a;if(e){let u=n[e];Y(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],l=[];if(t.forEach(u=>{let c=a.find(h=>Eg(u,h));c?l.push({existingRoute:c,newRoute:u}):o.push(u)}),o.length>0){let u=Yi(o,s,[e||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:c,newRoute:h}=l[u],f=c,[v]=Yi([h],s,[],{},!0);Object.assign(f,{element:v.element?v.element:f.element,errorElement:v.errorElement?v.errorElement:f.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:f.hydrateFallbackElement})}}function Eg(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Eg(r,i))}):!1}var of=new WeakMap,jg=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let s=r[t.id];if(Y(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[e];if(!i)return;let a=of.get(s);a||(a={},of.set(s,a));let o=a[e];if(o)return o;let l=(async()=>{let u=zw(e),h=s[e]!==void 0&&e!=="hasErrorBoundary";if(u)je(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(h)je(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[e]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[e]=l,l},lf=new WeakMap;function Sx(e,t,r,n,s){let i=r[e.id];if(Y(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let c=lf.get(i);if(c)return{lazyRoutePromise:c,lazyHandlerPromise:c};let h=(async()=>{Y(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),v={};for(let x in f){let S=f[x];if(S===void 0)continue;let k=Hw(x),g=i[x]!==void 0&&x!=="hasErrorBoundary";k?je(!k,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):g?je(!g,`Route "${i.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):v[x]=S}Object.assign(i,v),Object.assign(i,{...n(i),lazy:void 0})})();return lf.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(e.lazy),o=[],l;for(let c of a){if(s&&s.includes(c))continue;let h=jg({key:c,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),c===t&&(l=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function uf(e){let t=e.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,i)=>{r[t[i].route.id]=s}),r}async function bx(e){if(!e.matches.some(r=>r.route.unstable_middleware))return uf(e);let t=!1;return Cg(e,()=>(t=!0,uf(e)),(r,n)=>Pg(r,n,e.matches,t))}function Pg(e,t,r,n){if(n)return{[t]:{type:"error",result:e}};{let s=Math.min(r.findIndex(a=>a.route.id===t)||0,r.findIndex(a=>a.unstable_shouldCallHandler())||0);return{[Br(r,r[s].route.id).route.id]:{type:"error",result:e}}}}async function Cg(e,t,r){let{matches:n,request:s,params:i,context:a}=e,o=n.flatMap(u=>u.route.unstable_middleware?u.route.unstable_middleware.map(c=>[u.route.id,c]):[]),l={};return await Ng({request:s,params:i,context:a},o,t,r,l),l}async function Ng(e,t,r,n,s={},i=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let o=t[i];if(!o){let f=await r();Object.assign(s,f);return}let[l,u]=o,c=!1,h=async()=>{if(c)throw new Error("You may only call `next()` once per middleware");c=!0;try{let f=await Ng(e,t,r,n,s,i+1);Object.assign(s,f)}catch(f){let v=await n(f,l);Object.assign(s,v)}};try{let f=await u({request:e.request,params:e.params,context:e.context},h);typeof f<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",f),c||await h()}catch(f){let v=await n(f,l);Object.assign(s,v)}}function Tg(e,t,r,n,s){let i=jg({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),a=Sx(n.route,ht(r.method)?"action":"loader",t,e,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function tc(e,t,r,n,s,i,a,o=null){let l=!1,u=Tg(e,t,r,n,s);return{...n,_lazyPromises:u,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(c){return l=!0,o?typeof c=="boolean"?Ao(n,{...o,defaultShouldRevalidate:c}):Ao(n,o):a},resolve(c){return l||a||c&&!ht(r.method)&&(n.route.lazy||n.route.loader)?Ex({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:c,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function Ss(e,t,r,n,s,i,a,o=null){return n.map(l=>l.route.id!==s.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Tg(e,t,r,l,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:tc(e,t,r,l,i,a,!0,o))}async function kx(e,t,r,n,s,i){r.some(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware})&&await Promise.all(r.map(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware}));let a={request:t,params:r[0].params,context:s,matches:r},l=await e({...a,fetcherKey:n,unstable_runClientMiddleware:u=>{let c=a,h=!1;return Cg(c,()=>(h=!0,u({...c,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(f,v)=>Pg(f,v,r,h))}});try{await Promise.all(r.flatMap(u=>{var c,h;return[(c=u._lazyPromises)==null?void 0:c.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return l}async function Ex({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:s,scopedContext:i}){let a,o,l=ht(e.method),u=l?"action":"loader",c=h=>{let f,v=new Promise((k,p)=>f=p);o=()=>f(),e.signal.addEventListener("abort",o);let x=k=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:i},...k!==void 0?[k]:[]),S=(async()=>{try{return{type:"data",result:await(s?s(p=>x(p)):x())}}catch(k){return{type:"error",result:k}}})();return Promise.race([S,v])};try{let h=l?t.route.action:t.route.loader;if(r||n)if(h){let f,[v]=await Promise.all([c(h).catch(x=>{f=x}),r,n]);if(f!==void 0)throw f;a=v}else{await r;let f=l?t.route.action:t.route.loader;if(f)[a]=await Promise.all([c(f),n]);else if(u==="action"){let v=new URL(e.url),x=v.pathname+v.search;throw Tt(405,{method:e.method,pathname:x,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)a=await c(h);else{let f=new URL(e.url),v=f.pathname+f.search;throw Tt(404,{pathname:v})}}catch(h){return{type:"error",result:h}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function jx(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Px(e){var n,s,i,a,o,l;let{result:t,type:r}=e;if(Og(t)){let u;try{u=await jx(t)}catch(c){return{type:"error",error:c}}return r==="error"?{type:"error",error:new Lo(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?gf(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Lo(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Xi(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Xi(t)?t.status:void 0}:gf(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Cx(e,t,r,n,s){let i=e.headers.get("Location");if(Y(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!dd(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=Zu(new URL(t.url),a,s,i),e.headers.set("Location",i)}return e}function cf(e,t,r){if(dd(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Mt(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function ts(e,t,r,n){let s=e.createURL(Rg(t)).toString(),i={signal:r};if(n&&ht(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=rc(n.formData):i.body=n.formData}return new Request(s,i)}function rc(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function df(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Nx(e,t,r,n=!1,s=!1){let i={},a=null,o,l=!1,u={},c=r&&bt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,v=t[f];if(Y(!Cn(v),"Cannot handle redirect results in processLoaderData"),bt(v)){let x=v.error;if(c!==void 0&&(x=c,c=void 0),a=a||{},s)a[f]=x;else{let S=Br(e,f);a[S.route.id]==null&&(a[S.route.id]=x)}n||(i[f]=kg),l||(l=!0,o=Xi(v.error)?v.error.status:500),v.headers&&(u[f]=v.headers)}else i[f]=v.data,v.statusCode&&v.statusCode!==200&&!l&&(o=v.statusCode),v.headers&&(u[f]=v.headers)}),c!==void 0&&r&&(a={[r[0]]:c},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function hf(e,t,r,n,s,i){let{loaderData:a,errors:o}=Nx(t,r,n);return s.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:c,controller:h}=l;if(h&&h.signal.aborted)return;let f=i[u];if(Y(f,"Did not find corresponding fetcher result"),bt(f)){let v=Br(e.matches,c==null?void 0:c.route.id);o&&o[v.route.id]||(o={...o,[v.route.id]:f.error}),e.fetchers.delete(u)}else if(Cn(f))Y(!1,"Unhandled fetcher revalidation redirect");else{let v=Dr(f.data);e.fetchers.set(u,v)}}),{loaderData:a,errors:o}}function ff(e,t,r,n){let s=Object.entries(t).filter(([,i])=>i!==kg).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&i.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function pf(e){return e?bt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Br(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function mf(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Tt(e,{pathname:t,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Lo(e||500,a,new Error(o),!0)}function Ma(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Cn(s))return{key:n,result:s}}}function Rg(e){let t=typeof e=="string"?fn(e):e;return un({...t,hash:""})}function Tx(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Rx(e){return Og(e.result)&&fx.has(e.result.status)}function bt(e){return e.type==="error"}function Cn(e){return(e&&e.type)==="redirect"}function gf(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Og(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Ox(e){return hx.has(e.toUpperCase())}function ht(e){return cx.has(e.toUpperCase())}function hd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function no(e,t){let r=typeof t=="string"?fn(t).search:t.search;if(e[e.length-1].route.index&&hd(r||""))return e[e.length-1];let n=_g(e);return n[n.length-1]}function yf(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Ql(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Lx(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ui(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ax(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Dr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Dx(e,t){try{let r=e.sessionStorage.getItem(bg);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function Ix(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(bg,JSON.stringify(r))}catch(n){je(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function $x(){let e,t,r=new Promise((n,s)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var qn=b.createContext(null);qn.displayName="DataRouter";var la=b.createContext(null);la.displayName="DataRouterState";b.createContext(!1);var fd=b.createContext({isTransitioning:!1});fd.displayName="ViewTransition";var Lg=b.createContext(new Map);Lg.displayName="Fetchers";var Mx=b.createContext(null);Mx.displayName="Await";var Zt=b.createContext(null);Zt.displayName="Navigation";var nl=b.createContext(null);nl.displayName="Location";var Ut=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ut.displayName="Route";var pd=b.createContext(null);pd.displayName="RouteError";function Ux(e,{relative:t}={}){Y(Ws(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Zt),{hash:s,pathname:i,search:a}=ua(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:dr([r,i])),n.createHref({pathname:o,search:a,hash:s})}function Ws(){return b.useContext(nl)!=null}function er(){return Y(Ws(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(nl).location}var Ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dg(e){b.useContext(Zt).static||b.useLayoutEffect(e)}function Wn(){let{isDataRoute:e}=b.useContext(Ut);return e?Zx():Fx()}function Fx(){Y(Ws(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(qn),{basename:t,navigator:r}=b.useContext(Zt),{matches:n}=b.useContext(Ut),{pathname:s}=er(),i=JSON.stringify(tl(n)),a=b.useRef(!1);return Dg(()=>{a.current=!0}),b.useCallback((l,u={})=>{if(je(a.current,Ag),!a.current)return;if(typeof l=="number"){r.go(l);return}let c=rl(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:dr([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,i,s,e])}var zx=b.createContext(null);function Bx(e){let t=b.useContext(Ut).outlet;return t&&b.createElement(zx.Provider,{value:e},t)}function pk(){let{matches:e}=b.useContext(Ut),t=e[e.length-1];return t?t.params:{}}function ua(e,{relative:t}={}){let{matches:r}=b.useContext(Ut),{pathname:n}=er(),s=JSON.stringify(tl(r));return b.useMemo(()=>rl(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Hx(e,t,r,n){Y(Ws(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Zt),{matches:i}=b.useContext(Ut),a=i[i.length-1],o=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",c=a&&a.route;{let p=c&&c.path||"";$g(l,!c||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=er(),f;f=h;let v=f.pathname||"/",x=v;if(u!=="/"){let p=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let S=zr(e,{pathname:x});return je(c||S!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),je(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Qx(S&&S.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:dr([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:dr([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n)}function qx(){let e=Xx(),t=Xi(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}var Wx=b.createElement(qx,null),Vx=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Ut.Provider,{value:this.props.routeContext},b.createElement(pd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kx({routeContext:e,match:t,children:r}){let n=b.useContext(qn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ut.Provider,{value:e},r)}function Qx(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);Y(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(r)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:c,errors:h}=r,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,u,c)=>{let h,f=!1,v=null,x=null;r&&(h=i&&u.route.id?i[u.route.id]:void 0,v=u.route.errorElement||Wx,a&&(o<0&&c===0?($g("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,x=null):o===c&&(f=!0,x=u.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,c+1)),k=()=>{let p;return h?p=v:f?p=x:u.route.Component?p=b.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=l,b.createElement(Kx,{match:u,routeContext:{outlet:l,matches:S,isDataRoute:r!=null},children:p})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?b.createElement(Vx,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function md(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(e){let t=b.useContext(qn);return Y(t,md(e)),t}function Ig(e){let t=b.useContext(la);return Y(t,md(e)),t}function Jx(e){let t=b.useContext(Ut);return Y(t,md(e)),t}function sl(e){let t=Jx(e),r=t.matches[t.matches.length-1];return Y(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Yx(){return sl("useRouteId")}function mk(){let e=Ig("useLoaderData"),t=sl("useLoaderData");return e.loaderData[t]}function Xx(){var n;let e=b.useContext(pd),t=Ig("useRouteError"),r=sl("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Zx(){let{router:e}=Gx("useNavigate"),t=sl("useNavigate"),r=b.useRef(!1);return Dg(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{je(r.current,Ag),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var vf={};function $g(e,t,r){!t&&!vf[e]&&(vf[e]=!0,je(!1,r))}var wf={};function xf(e,t){!e&&!wf[t]&&(wf[t]=!0,console.warn(t))}function e_(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&je(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&je(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&je(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var t_=["HydrateFallback","hydrateFallbackElement"],r_=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function n_({router:e,flushSync:t}){let[r,n]=b.useState(e.state),[s,i]=b.useState(),[a,o]=b.useState({isTransitioning:!1}),[l,u]=b.useState(),[c,h]=b.useState(),[f,v]=b.useState(),x=b.useRef(new Map),S=b.useCallback((m,{deletedFetchers:w,flushSync:j,viewTransitionOpts:y})=>{m.fetchers.forEach((T,L)=>{T.data!==void 0&&x.current.set(L,T.data)}),w.forEach(T=>x.current.delete(T)),xf(j===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(xf(y==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!y||!C){t&&j?t(()=>n(m)):b.startTransition(()=>n(m));return}if(t&&j){t(()=>{c&&(l&&l.resolve(),c.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:y.currentLocation,nextLocation:y.nextLocation})});let T=e.window.document.startViewTransition(()=>{t(()=>n(m))});T.finished.finally(()=>{t(()=>{u(void 0),h(void 0),i(void 0),o({isTransitioning:!1})})}),t(()=>h(T));return}c?(l&&l.resolve(),c.skipTransition(),v({state:m,currentLocation:y.currentLocation,nextLocation:y.nextLocation})):(i(m),o({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}))},[e.window,t,c,l]);b.useLayoutEffect(()=>e.subscribe(S),[e,S]),b.useEffect(()=>{a.isTransitioning&&!a.flushSync&&u(new r_)},[a]),b.useEffect(()=>{if(l&&s&&e.window){let m=s,w=l.promise,j=e.window.document.startViewTransition(async()=>{b.startTransition(()=>n(m)),await w});j.finished.finally(()=>{u(void 0),h(void 0),i(void 0),o({isTransitioning:!1})}),h(j)}},[s,l,e.window]),b.useEffect(()=>{l&&s&&r.location.key===s.location.key&&l.resolve()},[l,c,r.location,s]),b.useEffect(()=>{!a.isTransitioning&&f&&(i(f.state),o({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),v(void 0))},[a.isTransitioning,f]);let k=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:m=>e.navigate(m),push:(m,w,j)=>e.navigate(m,{state:w,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(m,w,j)=>e.navigate(m,{replace:!0,state:w,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[e]),p=e.basename||"/",g=b.useMemo(()=>({router:e,navigator:k,static:!1,basename:p}),[e,k,p]);return b.createElement(b.Fragment,null,b.createElement(qn.Provider,{value:g},b.createElement(la.Provider,{value:r},b.createElement(Lg.Provider,{value:x.current},b.createElement(fd.Provider,{value:a},b.createElement(o_,{basename:p,location:r.location,navigationType:r.historyAction,navigator:k},b.createElement(s_,{routes:e.routes,future:e.future,state:r})))))),null)}var s_=b.memo(i_);function i_({routes:e,future:t,state:r}){return Hx(e,void 0,r,t)}function Oe({to:e,replace:t,state:r,relative:n}){Y(Ws(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Zt);je(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Ut),{pathname:a}=er(),o=Wn(),l=rl(e,tl(i),a,n==="path"),u=JSON.stringify(l);return b.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function a_(e){return Bx(e.context)}function o_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Y(!Ws(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=fn(r));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:f="default"}=r,v=b.useMemo(()=>{let x=Mt(l,a);return x==null?null:{location:{pathname:x,search:u,hash:c,state:h,key:f},navigationType:n}},[a,l,u,c,h,f,n]);return je(v!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:b.createElement(Zt.Provider,{value:o},b.createElement(nl.Provider,{children:t,value:v}))}var so="get",io="application/x-www-form-urlencoded";function il(e){return e!=null&&typeof e.tagName=="string"}function l_(e){return il(e)&&e.tagName.toLowerCase()==="button"}function u_(e){return il(e)&&e.tagName.toLowerCase()==="form"}function c_(e){return il(e)&&e.tagName.toLowerCase()==="input"}function d_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function h_(e,t){return e.button===0&&(!t||t==="_self")&&!d_(e)}var Ua=null;function f_(){if(Ua===null)try{new FormData(document.createElement("form"),0),Ua=!1}catch{Ua=!0}return Ua}var p_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gl(e){return e!=null&&!p_.has(e)?(je(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${io}"`),null):e}function m_(e,t){let r,n,s,i,a;if(u_(e)){let o=e.getAttribute("action");n=o?Mt(o,t):null,r=e.getAttribute("method")||so,s=Gl(e.getAttribute("enctype"))||io,i=new FormData(e)}else if(l_(e)||c_(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?Mt(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||so,s=Gl(e.getAttribute("formenctype"))||Gl(o.getAttribute("enctype"))||io,i=new FormData(o,e),!f_()){let{name:u,type:c,value:h}=e;if(c==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(il(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=so,n=null,s=io,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function g_(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Mt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function y_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function w_(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await y_(i,r);return a.links?a.links():[]}return[]}));return b_(n.flat(1).filter(v_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _f(e,t,r,n,s,i){let a=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>a(l,u)||o(l,u)):i==="data"?t.filter((l,u)=>{var h;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function x_(e,t,{includeHydrateFallback:r}={}){return __(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function __(e){return[...new Set(e)]}function S_(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function b_(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(S_(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Mg(){let e=b.useContext(qn);return gd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function k_(){let e=b.useContext(la);return gd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yd=b.createContext(void 0);yd.displayName="FrameworkContext";function Ug(){let e=b.useContext(yd);return gd(e,"You must render this element inside a <HydratedRouter> element"),e}function E_(e,t){let r=b.useContext(yd),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=t,f=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let S=p=>{p.forEach(g=>{a(g.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return f.current&&k.observe(f.current),()=>{k.disconnect()}}},[e]),b.useEffect(()=>{if(n){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{s(!0)},x=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:ci(o,v),onBlur:ci(l,x),onMouseEnter:ci(u,v),onMouseLeave:ci(c,x),onTouchStart:ci(h,v)}]:[!1,f,{}]}function ci(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function j_({page:e,...t}){let{router:r}=Mg(),n=b.useMemo(()=>zr(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(C_,{page:e,matches:n,...t}):null}function P_(e){let{manifest:t,routeModules:r}=Ug(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return w_(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function C_({page:e,matches:t,...r}){let n=er(),{manifest:s,routeModules:i}=Ug(),{basename:a}=Mg(),{loaderData:o,matches:l}=k_(),u=b.useMemo(()=>_f(e,t,l,s,n,"data"),[e,t,l,s,n]),c=b.useMemo(()=>_f(e,t,l,s,n,"assets"),[e,t,l,s,n]),h=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,S=!1;if(t.forEach(p=>{var m;let g=s.routes[p.route.id];!g||!g.hasLoader||(!u.some(w=>w.route.id===p.route.id)&&p.route.id in o&&((m=i[p.route.id])!=null&&m.shouldRevalidate)||g.hasClientLoader?S=!0:x.add(p.route.id))}),x.size===0)return[];let k=g_(e,a,"data");return S&&x.size>0&&k.searchParams.set("_routes",t.filter(p=>x.has(p.route.id)).map(p=>p.route.id).join(",")),[k.pathname+k.search]},[a,o,n,s,u,t,e,i]),f=b.useMemo(()=>x_(c,s),[c,s]),v=P_(c);return b.createElement(b.Fragment,null,h.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),f.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),v.map(({key:x,link:S})=>b.createElement("link",{key:x,nonce:r.nonce,...S})))}function N_(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Fg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fg&&(window.__reactRouterVersion="7.8.1")}catch{}function T_(e,t){return vx({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:$w({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||R_(),routes:e,mapRouteProperties:e_,hydrationRouteProperties:t_,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function R_(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:O_(e.errors)}),e}function O_(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Lo(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vs=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h,...f},v){let{basename:x}=b.useContext(Zt),S=typeof u=="string"&&zg.test(u),k,p=!1;if(typeof u=="string"&&S&&(k=u,Fg))try{let L=new URL(window.location.href),I=u.startsWith("//")?new URL(L.protocol+u):new URL(u),le=Mt(I.pathname,x);I.origin===L.origin&&le!=null?u=le+I.search+I.hash:p=!0}catch{je(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Ux(u,{relative:s}),[m,w,j]=E_(n,f),y=I_(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:h});function C(L){t&&t(L),L.defaultPrevented||y(L)}let T=b.createElement("a",{...f,...j,href:k||g,onClick:p||i?t:C,ref:N_(v,w),target:l,"data-discover":!S&&r==="render"?"true":void 0});return m&&!S?b.createElement(b.Fragment,null,T,b.createElement(j_,{page:g})):T});Vs.displayName="Link";var L_=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...u},c){let h=ua(a,{relative:u.relative}),f=er(),v=b.useContext(la),{navigator:x,basename:S}=b.useContext(Zt),k=v!=null&&z_(h)&&o===!0,p=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,g=f.pathname,m=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(g=g.toLowerCase(),m=m?m.toLowerCase():null,p=p.toLowerCase()),m&&S&&(m=Mt(m,S)||m);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=g===p||!s&&g.startsWith(p)&&g.charAt(w)==="/",y=m!=null&&(m===p||!s&&m.startsWith(p)&&m.charAt(p.length)==="/"),C={isActive:j,isPending:y,isTransitioning:k},T=j?t:void 0,L;typeof n=="function"?L=n(C):L=[n,j?"active":null,y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(C):i;return b.createElement(Vs,{...u,"aria-current":T,className:L,ref:c,style:I,to:a,viewTransition:o},typeof l=="function"?l(C):l)});L_.displayName="NavLink";var A_=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=so,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...f},v)=>{let x=U_(),S=F_(o,{relative:u}),k=a.toLowerCase()==="get"?"get":"post",p=typeof o=="string"&&zg.test(o),g=m=>{if(l&&l(m),m.defaultPrevented)return;m.preventDefault();let w=m.nativeEvent.submitter,j=(w==null?void 0:w.getAttribute("formmethod"))||a;x(w||m.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:h})};return b.createElement("form",{ref:v,method:k,action:S,onSubmit:n?l:g,...f,"data-discover":!p&&e==="render"?"true":void 0})});A_.displayName="Form";function D_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bg(e){let t=b.useContext(qn);return Y(t,D_(e)),t}function I_(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=Wn(),l=er(),u=ua(e,{relative:i});return b.useCallback(c=>{if(h_(c,t)){c.preventDefault();let h=r!==void 0?r:un(l)===un(u);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,u,r,n,t,e,s,i,a])}var $_=0,M_=()=>`__${String(++$_)}__`;function U_(){let{router:e}=Bg("useSubmit"),{basename:t}=b.useContext(Zt),r=Yx();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:l,body:u}=m_(n,t);if(s.navigate===!1){let c=s.fetcherKey||M_();await e.fetch(c,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function F_(e,{relative:t}={}){let{basename:r}=b.useContext(Zt),n=b.useContext(Ut);Y(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ua(e||".",{relative:t})},a=er();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let c=o.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:dr([r,i.pathname])),un(i)}function z_(e,{relative:t}={}){let r=b.useContext(fd);Y(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Bg("useViewTransitionState"),s=ua(e,{relative:t});if(!r.isTransitioning)return!1;let i=Mt(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Mt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Oo(s.pathname,a)!=null||Oo(s.pathname,i)!=null}function B_(e){return b.createElement(n_,{flushSync:og.flushSync,...e})}const H_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ks);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class vd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class q_ extends vd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Sf extends vd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bf extends vd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nc||(nc={}));var W_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class V_{constructor(t,{headers:r={},customFetch:n,region:s=nc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=H_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return W_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(S=>{throw new q_(S)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Sf(h);if(!h.ok)throw new bf(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield h.json():v==="application/octet-stream"?x=yield h.blob():v==="text/event-stream"?x=h:v==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof bf||s instanceof Sf?s.context:void 0}}})}}var pt={},wd={},al={},ca={},ol={},ll={},K_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Us=K_();const Q_=Us.fetch,Hg=Us.fetch.bind(Us),qg=Us.Headers,G_=Us.Request,J_=Us.Response,Ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:qg,Request:G_,Response:J_,default:Hg,fetch:Q_},Symbol.toStringTag,{value:"Module"})),Y_=Iy(Ks);var ul={};Object.defineProperty(ul,"__esModule",{value:!0});let X_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ul.default=X_;var Wg=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ll,"__esModule",{value:!0});const Z_=Wg(Y_),e1=Wg(ul);let t1=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Z_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,c=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const S=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),k=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");S&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const S=await i.text();try{u=JSON.parse(S),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,v="OK")}catch{i.status===404&&S===""?(f=204,v="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new e1.default(u)}return{error:u,data:c,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ll.default=t1;var r1=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ol,"__esModule",{value:!0});const n1=r1(ll);let s1=class extends n1.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ol.default=s1;var i1=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const a1=i1(ol);let o1=class extends a1.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ca.default=o1;var l1=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(al,"__esModule",{value:!0});const di=l1(ca);let u1=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new di.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new di.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new di.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};al.default=u1;var cl={},dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.version=void 0;dl.version="0.0.0-automated";Object.defineProperty(cl,"__esModule",{value:!0});cl.DEFAULT_HEADERS=void 0;const c1=dl;cl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${c1.version}`};var Vg=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wd,"__esModule",{value:!0});const d1=Vg(al),h1=Vg(ca),f1=cl;let p1=class Kg{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},f1.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new d1.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Kg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{o.searchParams.append(c,h)})):(a="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new h1.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};wd.default=p1;var Qs=Dt&&Dt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pt,"__esModule",{value:!0});pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const Qg=Qs(wd);pt.PostgrestClient=Qg.default;const Gg=Qs(al);pt.PostgrestQueryBuilder=Gg.default;const Jg=Qs(ca);pt.PostgrestFilterBuilder=Jg.default;const Yg=Qs(ol);pt.PostgrestTransformBuilder=Yg.default;const Xg=Qs(ll);pt.PostgrestBuilder=Xg.default;const Zg=Qs(ul);pt.PostgrestError=Zg.default;var m1=pt.default={PostgrestClient:Qg.default,PostgrestQueryBuilder:Gg.default,PostgrestFilterBuilder:Jg.default,PostgrestTransformBuilder:Yg.default,PostgrestBuilder:Xg.default,PostgrestError:Zg.default};const{PostgrestClient:g1,PostgrestQueryBuilder:Sk,PostgrestFilterBuilder:bk,PostgrestTransformBuilder:kk,PostgrestBuilder:Ek,PostgrestError:jk}=m1;class y1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const v1="2.15.1",w1=`realtime-js/${v1}`,x1="1.0.0",sc=1e4,_1=1e3,S1=100;var Ci;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ci||(Ci={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var Kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Kt||(Kt={}));var ic;(function(e){e.websocket="websocket"})(ic||(ic={}));var kn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kn||(kn={}));class b1{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const l=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class ey{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ce||(ce={}));const kf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=k1(a,e,t,s),i),{})},k1=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ty(i,a):ac(a)},ty=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return C1(t,r)}switch(e){case ce.bool:return E1(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return j1(t);case ce.json:case ce.jsonb:return P1(t);case ce.timestamp:return N1(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return ac(t);default:return ac(t)}},ac=e=>e,E1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},j1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},P1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},C1=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ty(t,o))}return e},N1=e=>typeof e=="string"?e.replace(" ","T"):e,ry=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Jl{constructor(t,r,n={},s=sc){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ef;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ef||(Ef={}));class Ni{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Ni.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ni.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const h=i[u];if(h){const f=c.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),x=c.filter(k=>v.indexOf(k.presence_ref)<0),S=h.filter(k=>f.indexOf(k.presence_ref)<0);x.length>0&&(o[u]=x),S.length>0&&(l[u]=S)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const h=t[o].map(v=>v.presence_ref),f=c.filter(v=>h.indexOf(v.presence_ref)<0);t[o].unshift(...f)}n(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jf||(jf={}));var Ti;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ti||(Ti={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class xd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jl(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new ey(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ni(this),this.broadcastEndpointURL=ry(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Ti.PRESENCE]&&this.bindings[Ti.PRESENCE].length>0,c={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(yr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){t==null||t(yr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,k=[];for(let p=0;p<S;p++){const g=x[p],{filter:{event:m,schema:w,table:j,filter:y}}=g,C=f&&f[p];if(C&&C.event===m&&C.schema===w&&C.table===j&&C.filter===y)k.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=Re.errored,t==null||t(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(yr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Re.errored,t==null||t(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Re.joined&&t===Ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Jl(this,Kt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jl(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>S1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Kt;if(n&&[o,l,u,c].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,S,k;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(S=v.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(v=>v.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var x,S,k,p,g,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const w=v.id,j=(x=v.filter)===null||x===void 0?void 0:x.event;return w&&((S=r.ids)===null||S===void 0?void 0:S.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(g=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:S,table:k,commit_timestamp:p,type:g,errors:m}=x;f=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:p,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(x))}v.callback(f,n)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xd.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Kt.close,{},t)}_onError(t){this._on(Kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kf(t.columns,t.old_record)),r}}const Pf=()=>{},Fa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},T1=[1e3,2e3,5e3,1e4],R1=1e4,O1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L1{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sc,this.transport=null,this.heartbeatIntervalMs=Fa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pf,this.ref=0,this.reconnectTimer=null,this.logger=Pf,this.conn=null,this.sendBuffer=[],this.serializer=new b1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>wt(async()=>{const{default:o}=await Promise.resolve().then(()=>Ks);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ic.websocket}`,this.httpEndpoint=ry(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:x1}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ci.connecting:return kn.Connecting;case Ci.open:return kn.Open;case Ci.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new xd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([O1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:w1};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Kt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ey(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:sc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Fa.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:c=>T1[c-1]||R1,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(c,h)=>h(JSON.stringify(c)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class _d extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class A1 extends _d{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oc extends _d{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var D1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const ny=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ks);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},I1=()=>D1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wt(()=>Promise.resolve().then(()=>Ks),void 0)).Response:Response}),lc=e=>{if(Array.isArray(e))return e.map(r=>lc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=lc(n)}),t},$1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Vn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const Yl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M1=(e,t,r)=>Vn(void 0,void 0,void 0,function*(){const n=yield I1();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new A1(Yl(s),i,a))}).catch(s=>{t(new oc(Yl(s),s))}):t(new oc(Yl(e),e))}),U1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:($1(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function da(e,t,r,n,s,i){return Vn(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,U1(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>M1(l,o,n))})})}function Do(e,t,r,n){return Vn(this,void 0,void 0,function*(){return da(e,"GET",t,r,n)})}function sr(e,t,r,n,s){return Vn(this,void 0,void 0,function*(){return da(e,"POST",t,n,s,r)})}function uc(e,t,r,n,s){return Vn(this,void 0,void 0,function*(){return da(e,"PUT",t,n,s,r)})}function F1(e,t,r,n){return Vn(this,void 0,void 0,function*(){return da(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sy(e,t,r,n,s){return Vn(this,void 0,void 0,function*(){return da(e,"DELETE",t,n,s,r)})}var Ze=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const z1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B1{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ny(s)}uploadOrUpdate(t,r,n,s){return Ze(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Cf),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield(t=="PUT"?uc:sr)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Cf.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield uc(this.fetch,o.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(Le(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new _d("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield sr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ze(this,void 0,void 0,function*(){try{const s=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(t,r){return Ze(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Do(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Le(o))return{data:null,error:o};throw o}})}info(t){return Ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Do(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:lc(n),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}exists(t){return Ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield F1(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Le(n)&&n instanceof oc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield sy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ze(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},z1),r),{prefix:t||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ze(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const H1="2.11.0",q1={"X-Client-Info":`storage-js/${H1}`};var Jn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class W1{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},q1),r),this.fetch=ny(n)}listBuckets(){return Jn(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Jn(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Jn(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield sy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}}class V1 extends W1{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new B1(this.url,this.headers,t,this.fetch)}}const K1="2.55.0";let vi="";typeof Deno<"u"?vi="deno":typeof document<"u"?vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vi="react-native":vi="node";const Q1={"X-Client-Info":`supabase-js-${vi}/${K1}`},G1={headers:Q1},J1={schema:"public"},Y1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X1={};var Z1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const eS=e=>{let t;return e?t=e:typeof fetch>"u"?t=Hg:t=fetch,(...r)=>t(...r)},tS=()=>typeof Headers>"u"?qg:Headers,rS=(e,t,r)=>{const n=eS(r),s=tS();return(i,a)=>Z1(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var nS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};function sS(e){return e.endsWith("/")?e:e+"/"}function iS(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>nS(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const iy="2.71.1",rs=30*1e3,cc=3,Xl=cc*rs,aS="http://localhost:9999",oS="supabase.auth.token",lS={"X-Client-Info":`gotrue-js/${iy}`},dc="X-Supabase-Api-Version",ay={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cS=10*60*1e3;class Sd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dS extends Sd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hS(e){return G(e)&&e.name==="AuthApiError"}class oy extends Sd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class pn extends Sd{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ir extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fS(e){return G(e)&&e.name==="AuthSessionMissingError"}class za extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ba extends pn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ha extends pn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pS(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class Nf extends pn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hc extends pn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Zl(e){return G(e)&&e.name==="AuthRetryableFetchError"}class Tf extends pn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fc extends pn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rf=` 	
\r=`.split(""),mS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rf.length;t+=1)e[Rf[t].charCodeAt(0)]=-2;for(let t=0;t<Io.length;t+=1)e[Io[t].charCodeAt(0)]=t;return e})();function Of(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Io[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Io[n]),t.queuedBits-=6}}function ly(e,t,r){const n=mS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lf(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{vS(a,n,r)};for(let a=0;a<e.length;a+=1)ly(e.charCodeAt(a),s,i);return t.join("")}function gS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gS(n,t)}}function vS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ly(e.charCodeAt(s),r,n);return new Uint8Array(t)}function xS(e){const t=[];return yS(e,r=>t.push(r)),new Uint8Array(t)}function _S(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Of(s,r,n)),Of(null,r,n),t.join("")}function SS(e){return Math.round(Date.now()/1e3)+e}function bS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",wn={tested:!1,writable:!1},uy=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function kS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const cy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ks);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ES=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ns=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lr=async(e,t)=>{await e.removeItem(t)};class hl{constructor(){this.promise=new hl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}hl.promiseConstructor=Promise;function eu(e){const t=e.split(".");if(t.length!==3)throw new fc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!uS.test(t[n]))throw new fc("JWT not in base64url format");return{header:JSON.parse(Lf(t[0])),payload:JSON.parse(Lf(t[1])),signature:wS(t[2]),raw:{header:t[0],payload:t[1]}}}async function jS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PS(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function CS(e){return("0"+e.toString(16)).substr(-2)}function NS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,CS).join("")}async function TS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function RS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await TS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yn(e,t,r=!1){const n=NS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ns(e,`${t}-code-verifier`,s);const i=await RS(n);return[i,n===i?"plain":"s256"]}const OS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LS(e){const t=e.headers.get(dc);if(!t||!t.match(OS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function DS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xn(e){if(!IS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Af(e){return JSON.parse(JSON.stringify(e))}var $S=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const bn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MS=[502,503,504];async function Df(e){var t;if(!ES(e))throw new hc(bn(e),0);if(MS.includes(e.status))throw new hc(bn(e),e.status);let r;try{r=await e.json()}catch(i){throw new oy(bn(i),i)}let n;const s=LS(e);if(s&&s.getTime()>=ay["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tf(bn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ir}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Tf(bn(r),e.status,r.weak_password.reasons);throw new dS(bn(r),e.status||500,n)}const US=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function X(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[dc]||(i[dc]=ay["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await FS(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function FS(e,t,r,n,s,i){const a=US(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new hc(bn(l),0)}if(o.ok||await Df(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Df(l)}}function mr(e){var t;let r=null;qS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=SS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function If(e){const t=mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zS(e){return{data:e,error:null}}function BS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=$S(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function HS(e){return e}function qS(e){return e.access_token&&e.refresh_token&&e.expires_in}const ru=["global","local","others"];var WS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class VS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ru[0]){if(ru.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ru.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=WS(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:BS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:HS});if(c.error)throw c.error;const h=await c.json(),f=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);u[`${k}Page`]=S}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xn(t);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xn(t);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Xn(t);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Xn(t.userId);try{const{data:r,error:n}=await X(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xn(t.userId),Xn(t.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}}function $f(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function KS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zn={debug:!!(globalThis&&uy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QS extends dy{}async function GS(e,t,r){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}KS();const JS={url:aS,storageKey:oS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mf(e,t,r){return await r()}const es={};class Zi{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new VS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cy(s.fetch),this.lock=s.lock||Mf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:zt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GS:this.lock=Mf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:uy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$f(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$f(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=es[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){es[this.storageKey]=Object.assign(Object.assign({},es[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=es[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){es[this.storageKey]=Object.assign(Object.assign({},es[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=kS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pS(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?{error:r}:{error:new oy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Yn(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:x},xform:mr})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:mr})}else throw new Ba("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:If})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:If})}else throw new Ba("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new za}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,l,u,c,h,f,v;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:k,wallet:p,statement:g,options:m}=t;let w;if(zt())if(typeof p=="object")w=p;else{const y=window;if("solana"in y&&typeof y.solana=="object"&&("signIn"in y.solana&&typeof y.solana.signIn=="function"||"signMessage"in y.solana&&typeof y.solana.signMessage=="function"))w=y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const j=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const y=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let C;if(Array.isArray(y)&&y[0]&&typeof y[0]=="object")C=y[0];else if(y&&typeof y=="object"&&"signedMessage"in y&&"signature"in y)C=y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),S=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const y=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!y||!(y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=y}}try{const{data:k,error:p}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:_S(S)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mr});if(p)throw p;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new za}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:p})}catch(k){if(G(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await xn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:mr});if(await Lr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new za}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(G(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mr}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new za}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Yn(this.storage,this.storageKey));const{error:h}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ba("You must provide either an email or phone number.")}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Yn(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:zS})}catch(i){if(G(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ir;const{error:s}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await X(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await X(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ba("You must provide either an email or phone number and a type")}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Xl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await xn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=tu()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ir}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Hr})})}catch(r){if(G(r))return fS(r)&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ir;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Yn(this.storage,this.storageKey));const{data:u,error:c}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Hr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ir;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=eu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(G(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ir;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!zt())throw new Ha("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ha(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ha("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Nf("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new Ha("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(o);let f=c+h;l&&(f=parseInt(l));const v=f-c;v*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=f-h;c-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,c):c-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,c);const{data:S,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(G(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(hS(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=bS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Yn(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(G(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return zt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(G(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await PS(async s=>(s>0&&await jS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Zl(i)&&Date.now()+a-n<rs})}catch(n){if(this._debug(r,"error",n),G(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ns(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:tu()}else if(s&&!s.user&&!s.user){const a=await xn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Lr(this.storage,this.storageKey+"-user"),await ns(this.storage,this.storageKey,s)):s.user=tu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Xl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Zl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Ir;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),G(i)){const a={session:null,error:i};return Zl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ns(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Af(s);await ns(this.storage,this.storageKey,i)}else{const s=Af(r);await ns(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lr(this.storage,this.storageKey),await Lr(this.storage,this.storageKey+"-code-verifier"),await Lr(this.storage,this.storageKey+"-user"),this.userStorage&&await Lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${rs}ms, refresh threshold is ${cc} ticks`),s<=cc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Yn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await X(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await X(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(G(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await X(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=eu(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+cS>s)return n;const{data:i,error:a}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=eu(n);r!=null&&r.allowExpired||AS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const c=DS(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,xS(`${o}.${l}`)))throw new fc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}}Zi.nextInstanceID=0;const YS=Zi;class XS extends YS{constructor(t){super(t)}}var ZS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class eb{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=sS(t),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:J1,realtime:X1,auth:Object.assign(Object.assign({},Y1),{storageKey:u}),global:G1},h=iS(n??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=rS(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new g1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new V1(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new V_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return ZS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XS({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new L1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tb=(e,t,r)=>new eb(e,t,r);function rb(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nb="https://cxdfcqjtdsfqfnejccto.supabase.co",sb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4ZGZjcWp0ZHNmcWZuZWpjY3RvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyODc2MjcsImV4cCI6MjA3NDg2MzYyN30.-0zSfIFij--VsNsSv5us9acCLeILTuPy6QO6D_RdX3Y",J=tb(nb,sb),ib=async()=>{try{const{data:{session:e}}=await J.auth.getSession();return e!=null&&e.access_token?e.access_token:null}catch{return null}},st=async()=>{const e=await ib();if(!e)throw new Error("No active session. Please log in again.");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},it="https://cxdfcqjtdsfqfnejccto.supabase.co/functions/v1";class ab extends Error{constructor(t,r){super(r),this.status=t,this.name="ApiError"}}async function at(e){const t=await e.json();if(!e.ok)throw new ab(e.status,t.error||"Request failed");return t}const ob={async fetchUserProfile(e){var t;try{const{data:r,error:n}=await J.from("users").select(`
          id, 
          email, 
          full_name, 
          is_active, 
          needs_password_reset,
          menu_access,
          sub_menu_access,
          component_access,
          created_at,
          updated_at,
          user_roles(
            roles!inner(
              id, 
              name, 
              description,
              role_permissions(
                permissions!inner(
                  id,
                  resource,
                  action,
                  description
                )
              )
            )
          )
        `).eq("id",e).single();if(n)throw n;if(!r)throw new Error("User profile not found");const s=((t=r.user_roles)==null?void 0:t.map(l=>l.roles).filter(Boolean))||[],a=s.flatMap(l=>{var u;return((u=l.role_permissions)==null?void 0:u.map(c=>c.permissions).filter(Boolean))||[]}).filter((l,u,c)=>c.findIndex(h=>h.resource===l.resource&&h.action===l.action)===u);return{...r,roles:s,role_ids:s.map(l=>l.id),permissions:a}}catch(r){throw r}}},Uf={async getRecentActivity(){try{return[{id:"1",type:"user_registered",description:"New user registered to the system",timestamp:new Date(Date.now()-12e4).toISOString(),status:"success"},{id:"2",type:"transaction_approved",description:"Financial transaction approved",timestamp:new Date(Date.now()-3e5).toISOString(),status:"info"},{id:"3",type:"report_generated",description:"System report generated",timestamp:new Date(Date.now()-36e5).toISOString(),status:"warning"},{id:"4",type:"user_updated",description:"User profile updated",timestamp:new Date(Date.now()-108e5).toISOString(),status:"info"}]}catch{return[]}},async getStats(){try{return[{name:"Total Users",value:"2,847",change:"+4.75%",changeType:"positive"},{name:"Active Transactions",value:"1,31,42,000",change:"+8.2%",changeType:"positive"},{name:"Monthly Growth",value:"24.1%",change:"+0.7%",changeType:"positive"},{name:"Reports Generated",value:"152",change:"+4.8%",changeType:"positive"}]}catch{return[]}}},lb={async getUsers(){const e=await st(),t=await fetch(`${it}/admin-users`,{method:"GET",headers:e});return await at(t)},async createUser(e){const t=await st(),r=await fetch(`${it}/admin-users`,{method:"POST",headers:t,body:JSON.stringify(e)});return await at(r)},async updateUser(e,t){const r=await st(),n=await fetch(`${it}/admin-users/${e}`,{method:"PUT",headers:r,body:JSON.stringify(t)});return await at(n)},async deleteUser(e){const t=await st(),r=await fetch(`${it}/admin-users/${e}`,{method:"DELETE",headers:t});return await at(r)}},ub={async getRoles(){try{const{data:e,error:t}=await J.from("roles").select(`
          *,
          role_permissions(
            permissions(
              id,
              resource,
              action,
              description
            )
          )
        `).order("name");if(t)throw t;return(e==null?void 0:e.map(n=>{var s;return{...n,permissions:((s=n.role_permissions)==null?void 0:s.map(i=>i.permissions).filter(Boolean))||[]}}))||[]}catch(e){throw e}}},cb={async getRoles(){const e=await st(),t=await fetch(`${it}/admin-roles`,{method:"GET",headers:e});return(await at(t)).roles},async createRole(e){const t=await st(),r=await fetch(`${it}/admin-roles`,{method:"POST",headers:t,body:JSON.stringify(e)});return await at(r)},async updateRole(e,t){const r=await st(),n=await fetch(`${it}/admin-roles/${e}`,{method:"PUT",headers:r,body:JSON.stringify(t)});return await at(n)},async deleteRole(e){const t=await st(),r=await fetch(`${it}/admin-roles/${e}`,{method:"DELETE",headers:t});return await at(r)}},hy={async getPermissions(){const e=await st(),t=await fetch(`${it}/admin-permissions`,{method:"GET",headers:e});return(await at(t)).permissions},async createPermission(e){const t=await st(),r=await fetch(`${it}/admin-permissions`,{method:"POST",headers:t,body:JSON.stringify(e)});return await at(r)},async updatePermission(e,t){const r=await st(),n=await fetch(`${it}/admin-permissions/${e}`,{method:"PUT",headers:r,body:JSON.stringify(t)});return await at(n)},async deletePermission(e){const t=await st(),r=await fetch(`${it}/admin-permissions/${e}`,{method:"DELETE",headers:t});return await at(r)}},db={async updatePassword(e,t=!1){const r=await st(),n=await fetch(`${it}/update-password`,{method:"POST",headers:r,body:JSON.stringify({newPassword:e,clearNeedsPasswordReset:t})});return await at(n)}},Pk={async getSubjects(){const{data:e,error:t}=await J.from("exam_subjects").select("*").order("name");if(t)throw t;return e||[]},async createSubject(e,t){const{data:r,error:n}=await J.from("exam_subjects").insert({name:e,description:t}).select().single();if(n)throw n;return r},async getExamPapers(){const{data:e,error:t}=await J.from("exam_papers").select(`
        *,
        subject:exam_subjects(*)
      `).order("year",{ascending:!1}).order("paper_number");if(t)throw t;return e||[]},async getExamPaperById(e){const{data:t,error:r}=await J.from("exam_papers").select(`
        *,
        subject:exam_subjects(*)
      `).eq("id",e).single();if(r)throw r;return t},async uploadExamPaper(e,t,r){const{data:{user:n}}=await J.auth.getUser();if(!n)throw new Error("Not authenticated");const s=`${r.subjectId}/${r.year}/${r.paperNumber}_paper_${Date.now()}.pdf`,i=`${r.subjectId}/${r.year}/${r.paperNumber}_scheme_${Date.now()}.pdf`,{error:a}=await J.storage.from("exam-papers").upload(s,e);if(a)throw a;const{error:o}=await J.storage.from("marking-schemes").upload(i,t);if(o)throw await J.storage.from("exam-papers").remove([s]),o;const{data:l,error:u}=await J.from("exam_papers").insert({subject_id:r.subjectId,year:r.year,paper_number:r.paperNumber,title:r.title,paper_file_url:s,marking_scheme_file_url:i,uploaded_by:n.id}).select().single();if(u)throw await J.storage.from("exam-papers").remove([s]),await J.storage.from("marking-schemes").remove([i]),u;return l},async deleteExamPaper(e){const{data:t,error:r}=await J.from("exam_papers").select("paper_file_url, marking_scheme_file_url").eq("id",e).single();if(r)throw r;const{error:n}=await J.from("exam_papers").delete().eq("id",e);if(n)throw n;return t&&(await J.storage.from("exam-papers").remove([t.paper_file_url]),await J.storage.from("marking-schemes").remove([t.marking_scheme_file_url])),!0},async trackPaperAccess(e){const{data:{user:t}}=await J.auth.getUser();if(!t)return;const{data:r}=await J.from("student_paper_interactions").select("*").eq("user_id",t.id).eq("paper_id",e).maybeSingle();r?await J.from("student_paper_interactions").update({last_accessed_at:new Date().toISOString(),access_count:r.access_count+1}).eq("id",r.id):await J.from("student_paper_interactions").insert({user_id:t.id,paper_id:e,access_count:1})},async getChatSession(e){const{data:{user:t}}=await J.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await J.from("chat_sessions").select("*").eq("user_id",t.id).eq("paper_id",e).maybeSingle();if(n)throw n;return r},async createChatSession(e){const{data:{user:t}}=await J.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await J.from("chat_sessions").insert({user_id:t.id,paper_id:e,messages:[]}).select().single();if(n)throw n;return r},async updateChatSession(e,t){const{error:r}=await J.from("chat_sessions").update({messages:t}).eq("id",e);if(r)throw r},async sendChatMessage(e){const t=await st(),r=await fetch(`${it}/exam-chat-ai`,{method:"POST",headers:t,body:JSON.stringify(e)});return at(r)},async getPaperFileUrl(e){const{data:t}=await J.storage.from("exam-papers").createSignedUrl(e,3600);return(t==null?void 0:t.signedUrl)||null},async extractPDFText(e){const t=await st(),r=await fetch(`${it}/extract-pdf-text`,{method:"POST",headers:t,body:JSON.stringify({paperId:e})});return at(r)},async getExamPaperWithText(e){const{data:t,error:r}=await J.from("exam_papers").select(`
        *,
        subject:exam_subjects(*)
      `).eq("id",e).single();if(r)throw r;return t}},an=new Map,hb=5*60*1e3;let pc=Date.now();function fy(){const e=Date.now();e-pc>hb&&(an.clear(),pc=e)}function py(e,t,r){return`${e}:${t}:${r}`}function my(e,t,r){var i,a;if(!e||!e.is_active)return!1;fy();const n=py(e.id,t,r);if(an.has(n))return an.get(n);let s=!1;return(i=e.roles)!=null&&i.some(o=>o.name==="admin")?s=!0:s=((a=e.permissions)==null?void 0:a.some(o=>o.resource===t&&o.action===r))||!1,an.set(n,s),s}function fb(e){var n;if(!e||!e.is_active)return!1;fy();const t=py(e.id,"admin","check");if(an.has(t))return an.get(t);const r=((n=e.roles)==null?void 0:n.some(s=>s.name==="admin"))||!1;return an.set(t,r),r}function pb(){an.clear(),pc=Date.now()}const mb=15*60*1e3,gb=5*60*1e3,yb="auth_session_cache",hi="cachedUserProfile",nu="cache_timestamp",gy=b.createContext(void 0),vb=({children:e})=>{const[t,r]=b.useState(()=>{try{const w=localStorage.getItem(hi);return w?JSON.parse(w):null}catch(w){return console.warn(" Failed to parse cached user profile",w),null}}),[n,s]=b.useState(()=>{try{return!localStorage.getItem(hi)}catch{return!0}}),[i,a]=b.useState(null),[o,l]=b.useState(!1),u=b.useRef(null),c=w=>{if(r(w),w)try{localStorage.setItem(hi,JSON.stringify(w)),localStorage.setItem(nu,Date.now().toString()),l(!1)}catch(j){console.warn(" Failed to cache user profile in localStorage",j)}else localStorage.removeItem(hi),localStorage.removeItem(nu),localStorage.removeItem(yb),l(!1)},h=()=>{try{const w=localStorage.getItem(nu);return w?Date.now()-parseInt(w,10)<gb:!1}catch{return!1}},f=()=>{try{const w=localStorage.getItem(hi);return w?JSON.parse(w):null}catch(w){return console.warn(" Failed to get cached profile",w),null}},v=b.useCallback(()=>{u.current&&(clearTimeout(u.current),u.current=null),t&&(u.current=setTimeout(()=>{console.warn(" User inactive for 15 minutes, logging out..."),k()},mb))},[t]);b.useEffect(()=>{if(t){v();const w=["mousemove","keydown","click","scroll","touchstart"];return w.forEach(j=>{window.addEventListener(j,v,{passive:!0})}),()=>{u.current&&(clearTimeout(u.current),u.current=null),w.forEach(j=>{window.removeEventListener(j,v)})}}},[t,v]);const x=async(w,j=!0)=>{console.log(" Fetching user profile for:",w);try{const y=await ob.fetchUserProfile(w);return console.log(" User profile obtained:",y),y}catch(y){if(console.error(" Failed to fetch user profile:",y),j){const C=f();if(C&&C.id===w)return console.log(" Using cached profile due to database error"),l(!0),C}throw y}};b.useEffect(()=>{(async()=>{console.log(" Auth init starting...");const y=f(),C=h();y&&C?(console.log(" Using valid cached profile, starting in background refresh mode"),r(y),s(!1)):y?(console.log(" Using stale cached profile while validating session"),r(y)):(console.log(" No cached profile, showing loading state"),s(!0));try{const{data:{session:T},error:L}=await J.auth.getSession();if(L){if(console.error(" Session error:",L.message),y){console.warn(" Session error but cached profile exists, keeping user signed in with cached data"),l(!0),s(!1);return}await J.auth.signOut(),c(null),s(!1);return}if(T!=null&&T.user){console.log(" Valid session found, refreshing profile");try{const I=await rt.fetchQuery({queryKey:dt.userProfile(T.user.id),queryFn:()=>x(T.user.id,!0),staleTime:3e5,gcTime:9e5});I!=null&&I.is_active?(c(I),console.log(" User profile refreshed successfully")):(console.warn(" User inactive, signing out"),await J.auth.signOut(),c(null))}catch(I){console.error(" Profile fetch failed:",I),y&&y.id===T.user.id?(console.log(" Database error, continuing with cached profile"),r(y),l(!0)):(console.error(" No valid cache, signing out"),await J.auth.signOut(),c(null))}}else console.log(" No session found, clearing cache"),c(null)}catch(T){console.error(" Critical error during init:",T),y?(console.log(" Critical error but cached profile exists, using cached data"),r(y),l(!0)):c(null)}finally{s(!1),console.log(" Auth init finished")}})();const{data:j}=J.auth.onAuthStateChange((y,C)=>{(async()=>{if(console.log(" Auth state change:",y),y==="SIGNED_OUT"){t!=null&&t.id&&rt.removeQueries({queryKey:dt.userProfile(t.id)}),c(null),s(!1);return}if(C!=null&&C.user)try{const T=await rt.fetchQuery({queryKey:dt.userProfile(C.user.id),queryFn:()=>x(C.user.id,!0),staleTime:3e5,gcTime:9e5});T!=null&&T.is_active?(c(T),console.log(" User updated after state change")):(console.warn(" User inactive on state change, signing out"),await J.auth.signOut(),c(null))}catch(T){console.error(" Failed to refresh profile on state change:",T);const L=f();L&&L.id===C.user.id&&(console.log(" Using cached profile after state change error"),r(L),l(!0))}n&&s(!1)})()});return()=>{j.subscription.unsubscribe()}},[]);const S=async(w,j)=>{console.log(" Signing in with email:",w),s(!0),a(null),l(!1);try{const{data:y,error:C}=await J.auth.signInWithPassword({email:w,password:j});if(C)throw C;if(y.user){console.log(" User signed in:",y.user.id);try{const T=await rt.fetchQuery({queryKey:dt.userProfile(y.user.id),queryFn:()=>x(y.user.id,!1),staleTime:3e5,gcTime:9e5});if(!(T!=null&&T.is_active))throw console.warn(" User inactive, forcing sign out"),await J.auth.signOut(),new Error("Account is inactive");c(T)}catch(T){throw console.error(" Failed to fetch profile after sign in:",T),await J.auth.signOut(),new Error("Failed to load user profile. Please try again.")}}}catch(y){throw console.error(" Sign in error:",y),a(y.message),y}finally{s(!1)}},k=async()=>{console.log(" Signing out user:",t==null?void 0:t.id),u.current&&(clearTimeout(u.current),u.current=null),t!=null&&t.id&&rt.removeQueries({queryKey:dt.userProfile(t.id)}),c(null),a(null);try{await J.auth.signOut(),console.log(" Supabase sign out completed")}catch(w){console.warn(" Sign out failed silently:",w)}},p=async(w,j=!1)=>{console.log(" Changing password"),s(!0),a(null);try{const y=await db.updatePassword(w,j);return await g(),y}catch(y){throw console.error(" Change password failed:",y),a(y.message||"Failed to change password"),y}finally{s(!1)}},g=async()=>{if(console.log(" Refreshing user profile"),!t){console.log(" No user to refresh");return}try{const{data:{user:w},error:j}=await J.auth.getUser();if(j){console.error(" Failed to get session user:",j.message),console.log(" Keeping existing cached profile"),l(!0);return}if(w)try{rt.invalidateQueries({queryKey:dt.userProfile(w.id)});const y=await rt.fetchQuery({queryKey:dt.userProfile(w.id),queryFn:()=>x(w.id,!0),staleTime:5*60*1e3,gcTime:15*60*1e3});if(!(y!=null&&y.is_active)){console.warn(" User inactive on refresh, signing out"),c(null),await J.auth.signOut();return}c(y),pb(),v(),console.log(" User profile refreshed")}catch(y){console.error(" Profile fetch failed during refresh:",y),console.log(" Keeping existing cached profile"),l(!0),a("Using offline data. Some features may be limited.")}else console.warn(" No session user on refresh, clearing state"),c(null)}catch(w){console.error(" Refresh user failed:",w),console.log(" Keeping existing cached profile"),l(!0),a("Failed to refresh. Using cached data.")}},m=async w=>{console.log(" Sending password reset email to:",w),s(!0),a(null);try{const{error:j}=await J.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/reset-password`});if(j)throw j;console.log(" Password reset email sent")}catch(j){throw console.error(" Failed to send password reset:",j),a(j.message),j}finally{s(!1)}};return d.jsx(gy.Provider,{value:{user:t,loading:n,error:i,signIn:S,signOut:k,refreshUser:g,changePassword:p,sendPasswordResetEmail:m},children:e})},hr=()=>{const e=b.useContext(gy);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function _t({children:e,requireAdmin:t=!1,requiredPermission:r,redirectTo:n="/login"}){const{user:s,loading:i,refreshUser:a}=hr(),o=er(),[l,u]=b.useState(!1),[c,h]=b.useState(null),[f,v]=b.useState(!1);return b.useEffect(()=>{if(s)h(s),u(!0);else{const x=localStorage.getItem("cachedUserProfile");if(x)try{const S=JSON.parse(x);h(S),console.log(" Using cached user in ProtectedRoute:",S)}catch{console.warn(" Failed to parse cached user in ProtectedRoute"),h(null)}u(!0)}},[s]),b.useEffect(()=>{c&&(v(!0),a().then(()=>{console.log(" Background user refresh completed")}).catch(x=>{console.warn(" Background refresh failed:",x)}).finally(()=>v(!1)))},[c,a]),(i||!l)&&!c?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c?c.needs_password_reset&&o.pathname!=="/force-password-change"?d.jsx(Oe,{to:"/force-password-change",replace:!0}):c.is_active?t&&!fb(c)?d.jsx(Oe,{to:"/dashboard",replace:!0}):r&&!my(c,r.resource,r.action)?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),d.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this resource."})]})}):d.jsx(d.Fragment,{children:e}):d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Account Inactive"}),d.jsx("p",{className:"text-gray-600",children:"Your account has been deactivated. Please contact an administrator."})]})}):d.jsx(Oe,{to:n,state:{from:o},replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>b.createElement("svg",{ref:c,...wb,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xb(e)}`,o].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=me("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function $b(){var i;const{user:e,signOut:t}=hr(),[r,n]=b.useState(!1),s=async()=>{n(!0);try{await t()}catch{}finally{}};return d.jsx("nav",{className:"bg-white border-b border-gray-200 fixed w-full z-30 top-0",children:d.jsx("div",{className:"px-6 py-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(zn,{className:"h-8 w-8 text-emerald-600 mr-3"}),d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"  Portal"})]})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs(Vs,{to:"/profile",className:"flex items-center hover:bg-gray-100 rounded-md px-2 py-1 transition-colors duration-200",title:"View Profile",children:[d.jsx(Db,{className:"h-5 w-5 text-gray-400 mr-2"}),d.jsx("span",{className:"text-sm text-gray-700",children:(e==null?void 0:e.full_name)||(e==null?void 0:e.email)})]}),d.jsx("div",{className:"h-4 w-px bg-gray-200"}),d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:((i=e==null?void 0:e.roles)==null?void 0:i.name)||"User"})]}),d.jsx("button",{onClick:s,disabled:r,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 hover:text-gray-700 focus:outline-none transition-colors duration-200",children:r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400 mr-1"}),"Signing out..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Cb,{className:"h-4 w-4 mr-1"}),"Sign out"]})})]})]})})})}const Mb=[{name:"Dashboard",href:"/app/dashboard",icon:jb,permission:{resource:"dashboard",action:"access"}},{name:"Admin Panel",href:"/app/admin/dashboard",icon:zn,permission:{resource:"admin",action:"access"}},{name:"User Management",href:"/app/admin/users",icon:Ib,permission:{resource:"users",action:"manage"}},{name:"Role Management",href:"/app/admin/roles",icon:zn,permission:{resource:"roles",action:"manage"}},{name:"Permission Management",href:"/app/admin/permissions",icon:Pb,permission:{resource:"permissions",action:"manage"}},{name:"Reports",href:"/app/reports",icon:Eb,permission:{resource:"reports",action:"view"}},{name:"Transactions",href:"/app/transactions",icon:kb,permission:{resource:"transactions",action:"create"}},{name:"Analytics",href:"/app/analytics",icon:Sb,permission:{resource:"reports",action:"view"}},{name:"Exam Papers",href:"/app/exam-papers",icon:ea,permission:{resource:"exam_papers",action:"view"}},{name:"Manage Papers",href:"/app/admin/exam-papers",icon:Ab,permission:{resource:"exam_papers",action:"manage"}},{name:"Settings",href:"/app/settings",icon:Ob}];function Ub(){const e=er(),{user:t}=hr(),r=Mb.filter(n=>n.permission?my(t,n.permission.resource,n.permission.action):!0);return d.jsx("aside",{className:"bg-white w-64 min-h-screen border-r border-gray-200 fixed left-0 top-16 z-20",children:d.jsx("div",{className:"flex flex-col h-full",children:d.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:r.map(n=>{const s=e.pathname===n.href,i=n.icon;return d.jsxs(Vs,{to:n.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 ${s?"bg-emerald-100 text-emerald-900 border-r-2 border-emerald-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx(i,{className:`flex-shrink-0 -ml-1 mr-3 h-5 w-5 ${s?"text-emerald-600":"text-gray-400 group-hover:text-gray-500"}`}),d.jsx("span",{className:"truncate",children:n.name})]},n.name)})})})})}function Fb({showSidebar:e=!0}){const{error:t}=hr(),r=(t==null?void 0:t.includes("cached"))||(t==null?void 0:t.includes("offline"));return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx($b,{}),r&&d.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 px-4 py-2",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 text-sm text-yellow-800",children:[d.jsx(Gs,{className:"w-4 h-4 flex-shrink-0"}),d.jsx("span",{children:"Using offline data. Some features may be limited."})]})}),d.jsxs("div",{className:"flex",children:[e&&d.jsx(Ub,{}),d.jsx("main",{className:`flex-1 ${e?"ml-64":""} p-6`,children:d.jsx(a_,{})})]})]})}function zb(){var v,x;const[e,t]=b.useState({email:"",password:""}),[r,n]=b.useState(!1),[s,i]=b.useState(!1),{signIn:a,error:o,user:l}=hr(),u=Wn();(x=(v=er().state)==null?void 0:v.from)!=null&&x.pathname;const h=async S=>{S.preventDefault(),i(!0);try{await a(e.email,e.password)}catch{}finally{i(!1)}};Xt.useEffect(()=>{var S;l&&!s&&(l.needs_password_reset?u("/force-password-change",{replace:!0}):(S=l.roles)!=null&&S.some(k=>k.name==="admin")?u("/admin/dashboard",{replace:!0}):u("/dashboard",{replace:!0}))},[l,s,u]);const f=S=>{const{name:k,value:p}=S.target;t(g=>({...g,[k]:p}))};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:d.jsx(zn,{className:"h-8 w-8 text-white"})}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Portal"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[o&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 flex items-start",children:[d.jsx(Gs,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),d.jsx("div",{className:"text-sm text-red-700",children:o})]}),d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:f,className:"relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:f,className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?d.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):d.jsx(zs,{className:"h-4 w-4 text-gray-400"})})]})]})]}),d.jsx("div",{className:"flex items-center justify-end",children:d.jsx("div",{className:"text-sm",children:d.jsx(Vs,{to:"/forgot-password",className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Forgot your password?"})})}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:s||!e.email||!e.password,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:s?d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"For demo purposes: admin@example.com / member@example.com (password: password123)"})})]})]})})}function Bb({onLoginClick:e}){const[t,r]=b.useState(!1);return d.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 fixed w-full z-50 top-0 transition-all",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-400 p-2 rounded-lg",children:d.jsx(ea,{className:"h-6 w-6 text-white"})}),d.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"ExamAI"})]})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",children:"Log In"}),d.jsx("button",{onClick:e,className:"px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full hover:from-blue-600 hover:to-cyan-500 transform hover:scale-105 transition-all shadow-lg hover:shadow-xl",children:"Get Started"})]}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-blue-600 transition-colors",children:t?d.jsx(yy,{className:"h-6 w-6"}):d.jsx(Nb,{className:"h-6 w-6"})})})]})}),t&&d.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:d.jsxs("div",{className:"px-4 pt-2 pb-4 space-y-2",children:[d.jsx("button",{onClick:()=>{e(),r(!1)},className:"block w-full text-left px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Log In"}),d.jsx("button",{onClick:()=>{e(),r(!1)},className:"block w-full px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-lg hover:from-blue-600 hover:to-cyan-500 transition-all",children:"Get Started"})]})})]})}function Hb({isOpen:e,onClose:t}){const[r,n]=b.useState({email:"",password:""}),[s,i]=b.useState(!1),[a,o]=b.useState(!1),{signIn:l,error:u,user:c}=hr(),h=Wn();Xt.useEffect(()=>{var x;c&&!a&&(t(),c.needs_password_reset?h("/force-password-change",{replace:!0}):(x=c.roles)!=null&&x.some(S=>S.name==="admin")?h("/admin/dashboard",{replace:!0}):h("/dashboard",{replace:!0}))},[c,a,h,t]);const f=async x=>{x.preventDefault(),o(!0);try{await l(r.email,r.password)}catch{}finally{o(!1)}},v=x=>{const{name:S,value:k}=x.target;n(p=>({...p,[S]:k}))};return e?d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:t}),d.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all",children:[d.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(yy,{className:"h-6 w-6"})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center bg-gradient-to-br from-blue-500 to-cyan-400 p-3 rounded-2xl mb-4",children:d.jsx(ea,{className:"h-8 w-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back!"}),d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Sign in to continue your exam prep"})]}),d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start",children:[d.jsx(Gs,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0"}),d.jsx("div",{className:"text-sm text-red-700",children:u})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:v,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"student@example.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:r.password,onChange:v,className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?d.jsx(Fs,{className:"h-5 w-5 text-gray-400"}):d.jsx(zs,{className:"h-5 w-5 text-gray-400"})})]})]}),d.jsx("button",{type:"submit",disabled:a||!r.email||!r.password,className:"w-full py-3 px-4 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-lg hover:from-blue-600 hover:to-cyan-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] transition-all shadow-lg",children:a?d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-xs text-gray-500",children:["Demo: admin@example.com / member@example.com",d.jsx("br",{}),"Password: password123"]})})]})]})}):null}function qb(){const[e,t]=b.useState(!1);return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[d.jsx(Bb,{onLoginClick:()=>t(!0)}),d.jsx(Hb,{isOpen:e,onClose:()=>t(!1)}),d.jsx("section",{className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"text-center lg:text-left",children:[d.jsx("div",{className:"inline-block mb-4",children:d.jsx("span",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"AI-Powered Exam Prep"})}),d.jsxs("h1",{className:"text-5xl sm:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Ace Your Exams with"," ",d.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent",children:"AI Help"})]}),d.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Get instant explanations for any past paper question. Our AI reads through exam papers and marking schemes to give you clear, detailed answers."}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:d.jsxs("button",{onClick:()=>t(!0),className:"px-8 py-4 text-lg font-medium text-white bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full hover:from-blue-600 hover:to-cyan-500 transform hover:scale-105 transition-all shadow-lg hover:shadow-xl flex items-center justify-center",children:["Get Started Free",d.jsx(_b,{className:"ml-2 h-5 w-5"})]})}),d.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"No credit card required"})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"relative z-10 bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-full flex items-center justify-center",children:d.jsx(Ff,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-gray-900",children:"AI Assistant"}),d.jsxs("p",{className:"text-sm text-green-500 flex items-center",children:[d.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Online"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 ml-auto max-w-[85%]",children:d.jsx("p",{className:"text-sm text-gray-700",children:"Can you explain question 3b from the 2023 Mathematics paper?"})}),d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-400 rounded-2xl p-4 mr-auto max-w-[85%]",children:d.jsx("p",{className:"text-sm text-white",children:"Sure! Question 3b asks you to find the derivative. Let me break it down step by step..."})}),d.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[d.jsx(su,{className:"h-4 w-4 text-yellow-500"}),d.jsx("span",{children:"Analyzing marking scheme..."})]})]})]}),d.jsx("div",{className:"absolute -top-6 -right-6 w-32 h-32 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-full blur-3xl opacity-30 animate-pulse"}),d.jsx("div",{className:"absolute -bottom-6 -left-6 w-32 h-32 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-full blur-3xl opacity-30 animate-pulse",style:{animationDelay:"1s"}})]})]})})}),d.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),d.jsx("p",{className:"text-xl text-gray-600",children:"Three simple steps to exam success"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 h-full border border-blue-100 hover:shadow-xl transition-shadow",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(Rb,{className:"h-8 w-8 text-white"})}),d.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-blue-500",children:d.jsx("span",{className:"text-lg font-bold text-blue-600",children:"1"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Select Your Subject"}),d.jsx("p",{className:"text-gray-600",children:"Choose from a wide range of subjects and access past exam papers instantly."})]})}),d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 h-full border border-blue-100 hover:shadow-xl transition-shadow",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(Tb,{className:"h-8 w-8 text-white"})}),d.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-blue-500",children:d.jsx("span",{className:"text-lg font-bold text-blue-600",children:"2"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Ask About Questions"}),d.jsx("p",{className:"text-gray-600",children:'Type in the specific question number you need help with, like "Question 1" or "Q3b".'})]})}),d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-8 h-full border border-blue-100 hover:shadow-xl transition-shadow",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(su,{className:"h-8 w-8 text-white"})}),d.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-blue-500",children:d.jsx("span",{className:"text-lg font-bold text-blue-600",children:"3"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Get AI Explanations"}),d.jsx("p",{className:"text-gray-600",children:"Our AI analyzes the paper and marking scheme to give you detailed step-by-step explanations."})]})})]})]})}),d.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Students Love ExamAI"}),d.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to crush your exams"})]}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-4",children:d.jsx(fl,{className:"h-6 w-6 text-green-600"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Instant Answers"}),d.jsx("p",{className:"text-gray-600",children:"Get explanations in seconds, not hours. No more waiting for tutors."})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4",children:d.jsx(Ff,{className:"h-6 w-6 text-blue-600"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Smart AI"}),d.jsx("p",{className:"text-gray-600",children:"Trained on marking schemes to give you exam-focused answers."})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[d.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-4",children:d.jsx(bb,{className:"h-6 w-6 text-purple-600"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"24/7 Available"}),d.jsx("p",{className:"text-gray-600",children:"Study anytime, anywhere. No schedules, no appointments needed."})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[d.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mb-4",children:d.jsx(ea,{className:"h-6 w-6 text-orange-600"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"All Subjects"}),d.jsx("p",{className:"text-gray-600",children:"Math, Science, English, and more. We've got you covered."})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[d.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-xl flex items-center justify-center mb-4",children:d.jsx(Lb,{className:"h-6 w-6 text-cyan-600"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Boost Grades"}),d.jsx("p",{className:"text-gray-600",children:"Understand concepts better and improve your exam performance."})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[d.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center mb-4",children:d.jsx(su,{className:"h-6 w-6 text-pink-600"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Easy to Use"}),d.jsx("p",{className:"text-gray-600",children:"Simple interface designed for students. Just ask and learn."})]})]})]})}),d.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-600 to-cyan-500",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Ace Your Next Exam?"}),d.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of students already using ExamAI to boost their grades"}),d.jsx("button",{onClick:()=>t(!0),className:"px-8 py-4 text-lg font-medium text-blue-600 bg-white rounded-full hover:bg-gray-50 transform hover:scale-105 transition-all shadow-xl hover:shadow-2xl",children:"Start Learning Now"})]})}),d.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-400 p-2 rounded-lg",children:d.jsx(ea,{className:"h-5 w-5 text-white"})}),d.jsx("span",{className:"text-lg font-bold",children:"ExamAI"})]}),d.jsx("p",{className:"text-gray-400 text-sm",children:"AI-powered exam preparation made easy for students everywhere."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[d.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Features"}),d.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"How It Works"}),d.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Subjects"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),d.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[d.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Help Center"}),d.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"Contact Us"}),d.jsx("li",{className:"hover:text-white transition-colors cursor-pointer",children:"FAQs"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Coming Soon"}),d.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Sign up feature launching soon! Get ready to join our community."})]})]}),d.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-sm text-gray-400",children:d.jsx("p",{children:" 2025 ExamAI. All rights reserved."})})]})})]})}function Wb(){const e=Wn(),{sendPasswordResetEmail:t}=hr(),[r,n]=b.useState(""),[s,i]=b.useState(null),[a,o]=b.useState(!1),[l,u]=b.useState(!1),c=async h=>{if(h.preventDefault(),i(null),o(!1),!r){i("Please enter your email.");return}u(!0);try{await t(r),i("Password reset email sent! Please check your inbox."),o(!0),n("")}catch(f){const v=(f==null?void 0:f.message)||"Failed to send reset email.";i(v),o(!1)}finally{u(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:d.jsx(zn,{className:"h-8 w-8 text-white"})}),d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Enter your email to receive a password reset link"})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[s&&d.jsxs("div",{className:`p-4 rounded-md ${a?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} flex items-start`,children:[a?d.jsx(fl,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"}):d.jsx(Gs,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),d.jsx("div",{className:`text-sm ${a?"text-green-700":"text-red-700"}`,children:s})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),d.jsx("input",{id:"email",type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Enter your email",className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",required:!0})]}),d.jsx("button",{type:"submit",disabled:l||!r,className:"w-full py-2 px-4 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Sending reset link...":"Send Reset Link"})]}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-emerald-600 hover:text-emerald-500",children:"Back to Login"})})]})})}async function vy(e){const r=/[A-Z]/.test(e),n=/[a-z]/.test(e),s=/[0-9]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),a=[];let o=!0;e.length<8&&(a.push("Password must be at least 8 characters long"),o=!1),r||(a.push("Password must contain at least one uppercase letter"),o=!1),n||(a.push("Password must contain at least one lowercase letter"),o=!1),s||(a.push("Password must contain at least one number"),o=!1),i||(a.push('Password must contain at least one special character (!@#$%^&*(),.?":{}|<>)'),o=!1);const l=o?"Password meets all strength requirements":a.join(". ");return{isValid:o,message:l,errors:a}}function Ck(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="abcdefghijklmnopqrstuvwxyz",r="0123456789",n="!@#$%^&*";let s="";s+=e[Math.floor(Math.random()*e.length)],s+=t[Math.floor(Math.random()*t.length)],s+=r[Math.floor(Math.random()*r.length)],s+=n[Math.floor(Math.random()*n.length)];const i=e+t+r+n;for(let a=s.length;a<12;a++)s+=i[Math.floor(Math.random()*i.length)];return s.split("").sort(()=>Math.random()-.5).join("")}function Vb(){const e=Wn(),{changePassword:t}=hr(),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,o]=b.useState(!1),[l,u]=b.useState(null),[c,h]=b.useState(!1),[f,v]=b.useState(!1),[x,S]=b.useState(null),[k,p]=b.useState(null);b.useEffect(()=>{(()=>{const w=window.location.hash.substring(1);let y=new URLSearchParams(w).get("access_token");y||(y=new URLSearchParams(window.location.search).get("token")),y?S(y):(u("Invalid or missing reset link. Please request a new one."),h(!1))})()},[]),b.useEffect(()=>{r?vy(r).then(m=>p(m)):p(null)},[r]);const g=async m=>{if(m.preventDefault(),u(null),h(!1),r!==s){u("Passwords do not match.");return}if(!(k!=null&&k.isValid)){u("Password does not meet strength requirements.");return}if(!x){u("Invalid reset link. Please request a new password reset email.");return}v(!0);try{await t(r,!0),u("Your password has been successfully reset. Redirecting to login page..."),h(!0),n(""),i("");const w=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,w),setTimeout(()=>{e("/login",{replace:!0})},2e3)}catch(w){const j=(w==null?void 0:w.message)||"Failed to reset password.";j.includes("expired")||j.includes("invalid")?u("This reset link has expired or is invalid. Please request a new password reset email."):u(j),h(!1)}finally{v(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:d.jsx(zn,{className:"h-8 w-8 text-white"})}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Reset Your Password"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[l&&d.jsxs("div",{className:`p-4 rounded-md ${c?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"} flex items-start`,children:[c?d.jsx(fl,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"}):d.jsx(Gs,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),d.jsx("div",{className:`text-sm ${c?"text-green-700":"text-red-700"}`,children:l})]}),d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",name:"password",type:a?"text":"password",required:!0,value:r,onChange:m=>n(m.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter new password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!a),children:a?d.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):d.jsx(zs,{className:"h-4 w-4 text-gray-400"})})]}),k&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:`text-xs ${k.isValid?"text-green-600":"text-red-600"}`,children:k.message}),!k.isValid&&k.errors.length>0&&d.jsx("ul",{className:"mt-1 text-xs text-red-600 list-disc list-inside",children:k.errors.map((m,w)=>d.jsx("li",{children:m},w))})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"confirm-password",name:"confirm-password",type:a?"text":"password",required:!0,value:s,onChange:m=>i(m.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!a),children:a?d.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):d.jsx(zs,{className:"h-4 w-4 text-gray-400"})})]})]})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:f||!r||!s||!(k!=null&&k.isValid)||!x,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:f?d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resetting password..."]}):"Reset Password"})}),!x&&d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Need a new reset link?"}),d.jsx(Vs,{to:"/forgot-password",className:"text-sm font-medium text-emerald-600 hover:text-emerald-500",children:"Request password reset"})]})]})]})})}function Kb(){const e=Wn(),{user:t,changePassword:r,signOut:n,loading:s}=hr(),[i,a]=b.useState(""),[o,l]=b.useState(""),[u,c]=b.useState(!1),[h,f]=b.useState(null),[v,x]=b.useState(!1),[S,k]=b.useState(!1),[p,g]=b.useState(null);b.useEffect(()=>{!s&&(!t||!t.needs_password_reset)&&e("/dashboard",{replace:!0})},[t,s,e]),b.useEffect(()=>{i?vy(i).then(w=>{g(w)}):g(null)},[i]);const m=async w=>{if(w.preventDefault(),f(null),x(!1),k(!0),i!==o){f("Passwords do not match."),x(!1),k(!1);return}if(!(p!=null&&p.isValid)){f("Password does not meet strength requirements."),x(!1),k(!1);return}if(!t){f("User not authenticated."),k(!1);return}try{await r(i,!0),f("Your password has been successfully changed. You will be redirected to the login page."),x(!0),a(""),l(""),setTimeout(()=>{n()},2e3)}catch(j){f(j instanceof Error?j.message:"Failed to change password."),x(!1)}finally{k(!1)}};return s||!t||!t.needs_password_reset?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-600"})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center mb-6",children:d.jsx(zn,{className:"h-8 w-8 text-white"})}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Change Your Temporary Password"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"You must change your password before accessing the application."})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[h&&d.jsxs("div",{className:`p-4 rounded-md ${v?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"} flex items-start`,children:[v?d.jsx(fl,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"}):d.jsx(Gs,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),d.jsx("div",{className:`text-sm ${v?"text-green-700":"text-red-700"}`,children:h})]}),d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",name:"password",type:u?"text":"password",required:!0,value:i,onChange:w=>a(w.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Enter new password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!u),children:u?d.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):d.jsx(zs,{className:"h-4 w-4 text-gray-400"})})]}),p&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:`text-xs ${p.isValid?"text-green-600":"text-red-600"}`,children:p.message}),!p.isValid&&p.errors.length>0&&d.jsx("ul",{className:"mt-1 text-xs text-red-600 list-disc list-inside",children:p.errors.map((w,j)=>d.jsx("li",{children:w},j))})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"confirm-password",name:"confirm-password",type:u?"text":"password",required:!0,value:o,onChange:w=>l(w.target.value),className:"relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!u),children:u?d.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):d.jsx(zs,{className:"h-4 w-4 text-gray-400"})})]})]})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:S||s||!i||!o||!(p!=null&&p.isValid),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:S||s?d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Changing password..."]}):"Change Password"})})]})]})})}const Qb=Xt.lazy(()=>wt(()=>import("./Dashboard-b15aCCjD.js"),__vite__mapDeps([0,1])).then(e=>({default:e.Dashboard}))),Gb=Xt.lazy(()=>wt(()=>import("./AdminDashboard-BfH-eYVG.js"),[]).then(e=>({default:e.AdminDashboard}))),Jb=Xt.lazy(()=>wt(()=>import("./AdminUsers-DMZ4Hths.js"),__vite__mapDeps([2,1,3,4,5,6])).then(e=>({default:e.AdminUsers}))),Yb=Xt.lazy(()=>wt(()=>import("./AdminRoles-BSqMz7LD.js"),__vite__mapDeps([7,1,3,4,5,6])).then(e=>({default:e.AdminRoles}))),Xb=Xt.lazy(()=>wt(()=>import("./AdminPermissions-BMHhRw-9.js"),__vite__mapDeps([8,1,3,4,5,6])).then(e=>({default:e.AdminPermissions}))),Zb=Xt.lazy(()=>wt(()=>import("./ProfilePage-D-JtZmDr.js"),__vite__mapDeps([9,5])).then(e=>({default:e.ProfilePage}))),ek=Xt.lazy(()=>wt(()=>import("./AdminExamPapers-yo37JaI1.js"),__vite__mapDeps([10,1,3,6])).then(e=>({default:e.AdminExamPapers}))),tk=Xt.lazy(()=>wt(()=>import("./StudentExamPapers-CUCHyjFm.js"),__vite__mapDeps([11,1])).then(e=>({default:e.StudentExamPapers}))),rk=Xt.lazy(()=>wt(()=>import("./ExamPaperViewer-DfC_QFeS.js"),__vite__mapDeps([12,1,3])).then(e=>({default:e.ExamPaperViewer}))),ue=()=>d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),d.jsx("p",{className:"text-gray-600 text-sm",children:"Loading page..."})]})}),bd=()=>d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading app..."})]})});function nk(){var r;const{user:e,loading:t}=hr();return t&&!e?d.jsx(bd,{}):e?e.needs_password_reset?d.jsx(Oe,{to:"/force-password-change",replace:!0}):(r=e.roles)!=null&&r.some(n=>n.name==="admin")?d.jsx(Oe,{to:"/admin/dashboard",replace:!0}):d.jsx(Oe,{to:"/dashboard",replace:!0}):d.jsx(qb,{})}const sk=async()=>{console.log("[Loader] dashboardLoader called");try{const[e,t]=await Promise.all([rt.fetchQuery({queryKey:dt.dashboardStats(),queryFn:Uf.getStats}),rt.fetchQuery({queryKey:dt.dashboardActivity(),queryFn:Uf.getRecentActivity})]);return console.log("[Loader] dashboardLoader success",{stats:e,activity:t}),{stats:e,activity:t}}catch(e){return console.error("[Loader] dashboardLoader error:",e),{stats:[],activity:[]}}},ik=async()=>{console.log("[Loader] adminUsersLoader called");try{const[e,t]=await Promise.all([rt.fetchQuery({queryKey:dt.adminUsers(),queryFn:lb.getUsers}),rt.fetchQuery({queryKey:dt.roles(),queryFn:ub.getRoles})]);return console.log("[Loader] adminUsersLoader success"),{users:e.users,roles:t}}catch(e){return console.error("[Loader] adminUsersLoader error:",e),{users:[],roles:[]}}},ak=async()=>{console.log("[Loader] adminRolesLoader called");try{const[e,t]=await Promise.all([rt.fetchQuery({queryKey:dt.adminRoles(),queryFn:cb.getRoles}),rt.fetchQuery({queryKey:dt.adminPermissions(),queryFn:hy.getPermissions})]);return console.log("[Loader] adminRolesLoader success"),{roles:e,permissions:t}}catch(e){return console.error("[Loader] adminRolesLoader error:",e),{roles:[],permissions:[]}}},ok=async()=>{console.log("[Loader] adminPermissionsLoader called");try{const e=await rt.fetchQuery({queryKey:dt.adminPermissions(),queryFn:hy.getPermissions,staleTime:6e5});return console.log("[Loader] adminPermissionsLoader success"),{permissions:e}}catch(e){return console.error("[Loader] adminPermissionsLoader error:",e),{permissions:[]}}},lk=T_([{path:"/",element:d.jsx(nk,{})},{path:"/login",element:d.jsx(zb,{})},{path:"/forgot-password",element:d.jsx(Wb,{})},{path:"/reset-password",element:d.jsx(Vb,{})},{path:"/force-password-change",element:d.jsx(Kb,{})},{path:"/app",element:d.jsx(_t,{children:d.jsx(Fb,{})}),hydrateFallbackElement:d.jsx(bd,{}),children:[{path:"dashboard",element:d.jsx(_t,{requiredPermission:{resource:"dashboard",action:"access"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(Qb,{})})}),loader:sk,hydrateFallbackElement:d.jsx(ue,{})},{path:"admin/dashboard",element:d.jsx(_t,{requireAdmin:!0,children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(Gb,{})})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"admin/users",element:d.jsx(_t,{requiredPermission:{resource:"users",action:"manage"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(Jb,{})})}),loader:ik,hydrateFallbackElement:d.jsx(ue,{})},{path:"admin/roles",element:d.jsx(_t,{requiredPermission:{resource:"roles",action:"manage"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(Yb,{})})}),loader:ak,hydrateFallbackElement:d.jsx(ue,{})},{path:"admin/permissions",element:d.jsx(_t,{requiredPermission:{resource:"permissions",action:"manage"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(Xb,{})})}),loader:ok,hydrateFallbackElement:d.jsx(ue,{})},{path:"profile",element:d.jsx(_t,{children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(Zb,{})})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"reports",element:d.jsx(_t,{requiredPermission:{resource:"reports",action:"view"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reports"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"transactions",element:d.jsx(_t,{requiredPermission:{resource:"transactions",action:"create"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transactions"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"analytics",element:d.jsx(_t,{requiredPermission:{resource:"reports",action:"view"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"settings",element:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Settings"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Coming soon..."})]})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"admin/exam-papers",element:d.jsx(_t,{requiredPermission:{resource:"exam_papers",action:"manage"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(ek,{})})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"exam-papers",element:d.jsx(_t,{requiredPermission:{resource:"exam_papers",action:"view"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(tk,{})})}),hydrateFallbackElement:d.jsx(ue,{})},{path:"exam-papers/:paperId",element:d.jsx(_t,{requiredPermission:{resource:"exam_papers",action:"view"},children:d.jsx(b.Suspense,{fallback:d.jsx(ue,{}),children:d.jsx(rk,{})})}),hydrateFallbackElement:d.jsx(ue,{})}]},{path:"/dashboard",element:d.jsx(Oe,{to:"/app/dashboard",replace:!0})},{path:"/admin/dashboard",element:d.jsx(Oe,{to:"/app/admin/dashboard",replace:!0})},{path:"/admin/users",element:d.jsx(Oe,{to:"/app/admin/users",replace:!0})},{path:"/admin/roles",element:d.jsx(Oe,{to:"/app/admin/roles",replace:!0})},{path:"/admin/permissions",element:d.jsx(Oe,{to:"/app/admin/permissions",replace:!0})},{path:"/admin/exam-papers",element:d.jsx(Oe,{to:"/app/admin/exam-papers",replace:!0})},{path:"/exam-papers",element:d.jsx(Oe,{to:"/app/exam-papers",replace:!0})},{path:"/profile",element:d.jsx(Oe,{to:"/app/profile",replace:!0})},{path:"/reports",element:d.jsx(Oe,{to:"/app/reports",replace:!0})},{path:"/transactions",element:d.jsx(Oe,{to:"/app/transactions",replace:!0})},{path:"/analytics",element:d.jsx(Oe,{to:"/app/analytics",replace:!0})},{path:"/settings",element:d.jsx(Oe,{to:"/app/settings",replace:!0})},{path:"*",element:d.jsx(Oe,{to:"/",replace:!0})}],{future:{v7_partialHydration:!0}});function uk(){return console.log("[App] Mounting application..."),d.jsx(vb,{children:d.jsx(B_,{router:lk,fallbackElement:d.jsx(bd,{})})})}lg(document.getElementById("root")).render(d.jsx(b.StrictMode,{children:d.jsxs(Rw,{client:rt,children:[d.jsx(uk,{}),d.jsx(Aw,{initialIsOpen:!1})]})}));export{Gs as A,Sb as B,fl as C,Pw as D,nt as E,Eb as F,Ht as G,hk as H,vw as I,dw as J,Pb as K,Vs as L,Tb as M,Yu as N,el as O,uw as P,cw as Q,dg as R,zn as S,Lb as T,Ib as U,bw as V,fw as W,mk as a,Ob as b,me as c,Uf as d,fk as e,Rb as f,Ck as g,my as h,lb as i,d as j,ab as k,cb as l,hy as m,Db as n,Ab as o,ea as p,dt as q,b as r,J as s,Pk as t,hr as u,Wn as v,pk as w,Zo as x,dk as y,Qi as z};
