import{c as y,w as b,r as d,s as v,j as e,p as h}from"./index-ClB3VN6O.js";import{L as N}from"./loader-2-wSKkewJn.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=y("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);function L(){const u=b(),[n,p]=d.useState({}),[j,i]=d.useState(!0);d.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const{data:s,error:r}=await v.from("exam_papers").select(`
          *,
          subject:exam_subjects(*)
        `).eq("text_extraction_status","completed").order("grade_level",{ascending:!0}).order("year",{ascending:!1});if(r)throw r;const t={};s&&s.forEach(a=>{var x;const l=a.grade_level||"12",c=((x=a.subject)==null?void 0:x.name)||"Unknown";t[l]||(t[l]={}),t[l][c]||(t[l][c]=[]),t[l][c].push({...a,subject:a.subject})}),p(t)}catch(s){console.error("Error fetching exam papers:",s)}finally{i(!1)}},f=s=>{u(`/exam-paper/${s}`)},o=["1","2","3","4","5","6","7","8","9","10","11","12","AS","A2"],m=Object.keys(n).sort((s,r)=>o.indexOf(s)-o.indexOf(r));return j?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(N,{className:"h-8 w-8 animate-spin text-emerald-600"})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(w,{className:"h-16 w-16 text-emerald-600"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Welcome to AI Exam Tutor"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select an exam paper to get started. Our AI tutor will help you understand questions and improve your exam performance."})]}),m.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(h,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Exam Papers Available"}),e.jsx("p",{className:"text-gray-600",children:"Check back later for available exam papers."})]}):e.jsx("div",{className:"space-y-8",children:m.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-emerald-50 border-b border-emerald-100 px-6 py-4",children:e.jsxs("h2",{className:"text-xl font-semibold text-emerald-900",children:["Grade ",s]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(n[s]).map(([r,t])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5 text-emerald-600"}),r]}),e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsx("button",{onClick:()=>f(a.id),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-emerald-50 rounded-lg border border-gray-200 hover:border-emerald-200 transition-all group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 group-hover:text-emerald-700 transition-colors",children:[a.year," - Paper ",a.paper_number]}),a.title&&e.jsx("div",{className:"text-sm text-gray-600 mt-0.5",children:a.title})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover:text-emerald-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},a.id))})]},r))})})]},s))})]})})}export{L as default};
